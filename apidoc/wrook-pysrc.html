<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>wrook</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://www.wrook.org/">Wrook API documentation</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Module&nbsp;wrook
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="wrook-pysrc.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<h1 class="epydoc">Source Code for <a href="wrook-module.html">Module wrook</a></h1>
<pre class="py-src">
<a name="L1"></a><tt class="py-lineno">   1</tt>  <tt class="py-line"><tt class="py-comment">#!python</tt> </tt>
<a name="L2"></a><tt class="py-lineno">   2</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt class="py-comment"># coding: utf-8</tt> </tt>
<a name="L3"></a><tt class="py-lineno">   3</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt class="py-keyword">import</tt> <tt class="py-name">os</tt> </tt>
<a name="L4"></a><tt class="py-lineno">   4</tt>  <tt class="py-line"><tt class="py-name">os</tt><tt class="py-op">.</tt><tt class="py-name">environ</tt><tt class="py-op">[</tt><tt class="py-string">'DJANGO_SETTINGS_MODULE'</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-string">'settings'</tt> </tt>
<a name="L5"></a><tt class="py-lineno">   5</tt>  <tt class="py-line"><tt class="py-keyword">import</tt> <tt class="py-name">sys</tt><tt class="py-op">,</tt> <tt class="py-name">cgi</tt><tt class="py-op">,</tt> <tt class="py-name">datetime</tt><tt class="py-op">,</tt> <tt class="py-name">logging</tt><tt class="py-op">,</tt> <tt class="py-name">urllib</tt><tt class="py-op">,</tt> <tt class="py-name">hashlib</tt><tt class="py-op">,</tt> <tt class="py-name">types</tt> </tt>
<a name="L6"></a><tt class="py-lineno">   6</tt>  <tt class="py-line"> </tt>
<a name="L7"></a><tt class="py-lineno">   7</tt>  <tt class="py-line"><tt class="py-keyword">import</tt> <tt class="py-name">diff</tt><tt class="py-op">,</tt> <tt class="py-name">markdown2</tt> </tt>
<a name="L8"></a><tt class="py-lineno">   8</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">string</tt> <tt class="py-keyword">import</tt> <tt id="link-0" class="py-name" targets="Variable feathers.webapp.RequestHandler.Template=feathers.webapp.RequestHandler-class.html#Template"><a title="feathers.webapp.RequestHandler.Template" class="py-name" href="#" onclick="return doclink('link-0', 'Template', 'link-0');">Template</a></tt> </tt>
<a name="L9"></a><tt class="py-lineno">   9</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">google</tt><tt class="py-op">.</tt><tt class="py-name">appengine</tt><tt class="py-op">.</tt><tt class="py-name">api</tt> <tt class="py-keyword">import</tt> <tt class="py-name">urlfetch</tt><tt class="py-op">,</tt> <tt class="py-name">users</tt><tt class="py-op">,</tt> <tt class="py-name">mail</tt><tt class="py-op">,</tt> <tt class="py-name">images</tt><tt class="py-op">,</tt> <tt class="py-name">memcache</tt> </tt>
<a name="L10"></a><tt class="py-lineno">  10</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">google</tt><tt class="py-op">.</tt><tt class="py-name">appengine</tt><tt class="py-op">.</tt><tt class="py-name">ext</tt> <tt class="py-keyword">import</tt> <tt class="py-name">db</tt> </tt>
<a name="L11"></a><tt class="py-lineno">  11</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">google</tt><tt class="py-op">.</tt><tt class="py-name">appengine</tt><tt class="py-op">.</tt><tt class="py-name">ext</tt><tt class="py-op">.</tt><tt class="py-name">db</tt> <tt class="py-keyword">import</tt> <tt class="py-name">djangoforms</tt> </tt>
<a name="L12"></a><tt class="py-lineno">  12</tt>  <tt class="py-line"> </tt>
<a name="L13"></a><tt class="py-lineno">  13</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">django</tt><tt class="py-op">.</tt><tt id="link-1" class="py-name" targets="Module feathers.utils=feathers.utils-module.html"><a title="feathers.utils" class="py-name" href="#" onclick="return doclink('link-1', 'utils', 'link-1');">utils</a></tt> <tt class="py-keyword">import</tt> <tt class="py-name">translation</tt> </tt>
<a name="L14"></a><tt class="py-lineno">  14</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">django</tt><tt class="py-op">.</tt><tt id="link-2" class="py-name"><a title="feathers.utils" class="py-name" href="#" onclick="return doclink('link-2', 'utils', 'link-1');">utils</a></tt><tt class="py-op">.</tt><tt class="py-name">translation</tt> <tt class="py-keyword">import</tt> <tt class="py-name">gettext</tt> <tt class="py-keyword">as</tt> <tt class="py-name">_</tt> </tt>
<a name="L15"></a><tt class="py-lineno">  15</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">django</tt><tt class="py-op">.</tt><tt class="py-name">conf</tt> <tt class="py-keyword">import</tt> <tt class="py-name">settings</tt> </tt>
<a name="L16"></a><tt class="py-lineno">  16</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">django</tt><tt class="py-op">.</tt><tt class="py-name">db</tt> <tt class="py-keyword">import</tt> <tt class="py-name">models</tt> </tt>
<a name="L17"></a><tt class="py-lineno">  17</tt>  <tt class="py-line"><tt class="py-comment">#from django import newforms as forms </tt> </tt>
<a name="L18"></a><tt class="py-lineno">  18</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt class="py-keyword">from</tt> <tt class="py-name">django</tt> <tt class="py-keyword">import</tt> <tt class="py-name">forms</tt>  </tt>
<a name="L19"></a><tt class="py-lineno">  19</tt>  <tt class="py-line"> </tt>
<a name="L20"></a><tt class="py-lineno">  20</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">feathers</tt> <tt class="py-keyword">import</tt> <tt id="link-3" class="py-name" targets="Module feathers.webapp=feathers.webapp-module.html"><a title="feathers.webapp" class="py-name" href="#" onclick="return doclink('link-3', 'webapp', 'link-3');">webapp</a></tt><tt class="py-op">,</tt> <tt id="link-4" class="py-name" targets="Module feathers.stories=feathers.stories-module.html"><a title="feathers.stories" class="py-name" href="#" onclick="return doclink('link-4', 'stories', 'link-4');">stories</a></tt><tt class="py-op">,</tt> <tt id="link-5" class="py-name"><a title="feathers.utils" class="py-name" href="#" onclick="return doclink('link-5', 'utils', 'link-1');">utils</a></tt><tt class="py-op">,</tt> <tt id="link-6" class="py-name" targets="Module feathers.customize=feathers.customize-module.html"><a title="feathers.customize" class="py-name" href="#" onclick="return doclink('link-6', 'customize', 'link-6');">customize</a></tt><tt class="py-op">,</tt> <tt id="link-7" class="py-name" targets="Module feathers.membership=feathers.membership-module.html"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-7', 'membership', 'link-7');">membership</a></tt><tt class="py-op">,</tt> <tt id="link-8" class="py-name" targets="Module feathers.labs=feathers.labs-module.html"><a title="feathers.labs" class="py-name" href="#" onclick="return doclink('link-8', 'labs', 'link-8');">labs</a></tt><tt class="py-op">,</tt> <tt id="link-9" class="py-name" targets="Module feathers.proforma=feathers.proforma-module.html"><a title="feathers.proforma" class="py-name" href="#" onclick="return doclink('link-9', 'proforma', 'link-9');">proforma</a></tt><tt class="py-op">,</tt> <tt id="link-10" class="py-name" targets="Module feathers.talk=feathers.talk-module.html"><a title="feathers.talk" class="py-name" href="#" onclick="return doclink('link-10', 'talk', 'link-10');">talk</a></tt> </tt>
<a name="L21"></a><tt class="py-lineno">  21</tt>  <tt class="py-line"> </tt>
<a name="L22"></a><tt class="py-lineno">  22</tt>  <tt class="py-line"><tt class="py-keyword">import</tt> <tt id="link-11" class="py-name" targets="Module licensing=licensing-module.html"><a title="licensing" class="py-name" href="#" onclick="return doclink('link-11', 'licensing', 'link-11');">licensing</a></tt> </tt>
<a name="L23"></a><tt class="py-lineno">  23</tt>  <tt class="py-line"> </tt>
<a name="L24"></a><tt class="py-lineno">  24</tt>  <tt class="py-line"><tt class="py-comment">#-------------------- i18n FIX start --------------------</tt> </tt>
<a name="L25"></a><tt class="py-lineno">  25</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt class="py-name">settings</tt><tt class="py-op">.</tt><tt class="py-name">_target</tt> <tt class="py-op">=</tt> <tt class="py-name">None</tt> </tt>
<a name="L26"></a><tt class="py-lineno">  26</tt>  <tt class="py-line"><tt class="py-comment">#-------------------- i18n FIX end --------------------</tt> </tt>
<a name="L27"></a><tt class="py-lineno">  27</tt>  <tt class="py-line"><tt class="py-comment"></tt> </tt>
<a name="L28"></a><tt class="py-lineno">  28</tt>  <tt class="py-line"> </tt>
<a name="WrookRequestHandler"></a><div id="WrookRequestHandler-def"><a name="L29"></a><tt class="py-lineno">  29</tt> <a class="py-toggle" href="#" id="WrookRequestHandler-toggle" onclick="return toggle('WrookRequestHandler');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.WrookRequestHandler-class.html">WrookRequestHandler</a><tt class="py-op">(</tt><tt class="py-base-class">webapp</tt><tt class="py-op">.</tt><tt class="py-base-class">RequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="WrookRequestHandler-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="WrookRequestHandler-expanded"><a name="L30"></a><tt class="py-lineno">  30</tt>  <tt class="py-line">        <tt class="py-keyword">pass</tt> </tt>
</div><a name="L31"></a><tt class="py-lineno">  31</tt>  <tt class="py-line"> </tt>
<a name="onRequest"></a><div id="onRequest-def"><a name="L32"></a><tt class="py-lineno">  32</tt> <a class="py-toggle" href="#" id="onRequest-toggle" onclick="return toggle('onRequest');">-</a><tt class="py-line"><tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook-module.html#onRequest">onRequest</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="onRequest-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="onRequest-expanded"><a name="L33"></a><tt class="py-lineno">  33</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-12" class="py-name" targets="Variable feathers.proforma.ProformaPage.Model=feathers.proforma.ProformaPage-class.html#Model,Variable feathers.webapp.RequestHandler.Model=feathers.webapp.RequestHandler-class.html#Model"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-12', 'Model', 'link-12');">Model</a></tt> <tt class="py-op">=</tt> <tt class="py-op">{</tt><tt class="py-op">}</tt> </tt>
<a name="L34"></a><tt class="py-lineno">  34</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-13" class="py-name" targets="Variable feathers.webapp.RequestHandler.MasterTemplate=feathers.webapp.RequestHandler-class.html#MasterTemplate"><a title="feathers.webapp.RequestHandler.MasterTemplate" class="py-name" href="#" onclick="return doclink('link-13', 'MasterTemplate', 'link-13');">MasterTemplate</a></tt> <tt class="py-op">=</tt> <tt class="py-name">os</tt><tt class="py-op">.</tt><tt class="py-name">path</tt><tt class="py-op">.</tt><tt class="py-name">join</tt><tt class="py-op">(</tt><tt class="py-name">os</tt><tt class="py-op">.</tt><tt class="py-name">path</tt><tt class="py-op">.</tt><tt class="py-name">dirname</tt><tt class="py-op">(</tt><tt class="py-name">__file__</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-string">"views/template-main-d.html"</tt><tt class="py-op">)</tt> <tt class="py-comment"># Sets the default template to be used by hosted modules</tt> </tt>
<a name="L35"></a><tt class="py-lineno">  35</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-14" class="py-name" targets="Variable feathers.webapp.RequestHandler.CurrentMember=feathers.webapp.RequestHandler-class.html#CurrentMember"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-14', 'CurrentMember', 'link-14');">CurrentMember</a></tt> <tt class="py-op">=</tt> <tt id="link-15" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-15', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-16" class="py-name" targets="Function feathers.membership.loginFromCookies()=feathers.membership-module.html#loginFromCookies"><a title="feathers.membership.loginFromCookies" class="py-name" href="#" onclick="return doclink('link-16', 'loginFromCookies', 'link-16');">loginFromCookies</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> <tt class="py-comment"># Load the current member from the google authentication and add it to the requesthandler</tt> </tt>
<a name="L36"></a><tt class="py-lineno">  36</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-17" class="py-name" targets="Variable feathers.webapp.RequestHandler.CurrentTheme=feathers.webapp.RequestHandler-class.html#CurrentTheme"><a title="feathers.webapp.RequestHandler.CurrentTheme" class="py-name" href="#" onclick="return doclink('link-17', 'CurrentTheme', 'link-17');">CurrentTheme</a></tt> <tt class="py-op">=</tt> <tt id="link-18" class="py-name" targets="Function wrook.getDefaultTheme()=wrook-module.html#getDefaultTheme"><a title="wrook.getDefaultTheme" class="py-name" href="#" onclick="return doclink('link-18', 'getDefaultTheme', 'link-18');">getDefaultTheme</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-comment"># Set the default theme as the current theme</tt> </tt>
<a name="L37"></a><tt class="py-lineno">  37</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-19" class="py-name" targets="Variable feathers.webapp.RequestHandler.AppConfig=feathers.webapp.RequestHandler-class.html#AppConfig"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-19', 'AppConfig', 'link-19');">AppConfig</a></tt> <tt class="py-op">=</tt> <tt id="link-20" class="py-name" targets="Function wrook.getWrookAppConfig()=wrook-module.html#getWrookAppConfig"><a title="wrook.getWrookAppConfig" class="py-name" href="#" onclick="return doclink('link-20', 'getWrookAppConfig', 'link-20');">getWrookAppConfig</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-comment"># Load the application config from the database</tt> </tt>
<a name="L38"></a><tt class="py-lineno">  38</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-21" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-21', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> <tt class="py-name">translation</tt><tt class="py-op">.</tt><tt class="py-name">activate</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-22" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-22', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-23" class="py-name" targets="Variable feathers.membership.Member.PreferedLanguage=feathers.membership.Member-class.html#PreferedLanguage"><a title="feathers.membership.Member.PreferedLanguage" class="py-name" href="#" onclick="return doclink('link-23', 'PreferedLanguage', 'link-23');">PreferedLanguage</a></tt><tt class="py-op">)</tt> <tt class="py-comment"># If the is a current member, his prefered language is activated</tt> </tt>
<a name="L39"></a><tt class="py-lineno">  39</tt>  <tt class="py-line">        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">translation</tt><tt class="py-op">.</tt><tt class="py-name">activate</tt><tt class="py-op">(</tt><tt class="py-string">"en"</tt><tt class="py-op">)</tt> <tt class="py-comment"># If not, the default language is set to english</tt> </tt>
<a name="L40"></a><tt class="py-lineno">  40</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-24" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-24', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-25" class="py-name" targets="Method feathers.feed.StoryOccurence.update()=feathers.feed.StoryOccurence-class.html#update"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-25', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L41"></a><tt class="py-lineno">  41</tt>  <tt class="py-line">                <tt class="py-string">'now'</tt><tt class="py-op">:</tt> <tt class="py-name">datetime</tt><tt class="py-op">.</tt><tt class="py-name">datetime</tt><tt class="py-op">.</tt><tt class="py-name">now</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-comment"># Add the current time tot the model</tt> </tt>
<a name="L42"></a><tt class="py-lineno">  42</tt>  <tt class="py-line">                <tt class="py-string">'currentMember'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-26" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-26', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">,</tt> <tt class="py-comment"># Add the current user to the model</tt> </tt>
<a name="L43"></a><tt class="py-lineno">  43</tt>  <tt class="py-line">                <tt class="py-string">'currentTheme'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-27" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentTheme" class="py-name" href="#" onclick="return doclink('link-27', 'CurrentTheme', 'link-17');">CurrentTheme</a></tt><tt class="py-op">,</tt> <tt class="py-comment"># Add the default theme to the model</tt> </tt>
<a name="L44"></a><tt class="py-lineno">  44</tt>  <tt class="py-line">                <tt class="py-string">'appConfig'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-28" class="py-name"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-28', 'AppConfig', 'link-19');">AppConfig</a></tt> <tt class="py-comment"># Add the app config to the model</tt> </tt>
<a name="L45"></a><tt class="py-lineno">  45</tt>  <tt class="py-line">                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
</div><a name="L46"></a><tt class="py-lineno">  46</tt>  <tt class="py-line"> </tt>
<a name="L47"></a><tt class="py-lineno">  47</tt>  <tt class="py-line"><tt class="py-comment"># Moments define periodes of the year where specific customization of the site occurs</tt> </tt>
<a name="L48"></a><tt class="py-lineno">  48</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt class="py-comment"># These moments can change de default, the palette, special mssages to the user</tt> </tt>
<a name="Moment"></a><div id="Moment-def"><a name="L49"></a><tt class="py-lineno">  49</tt> <a class="py-toggle" href="#" id="Moment-toggle" onclick="return toggle('Moment');">-</a><tt class="py-line"><tt class="py-comment"></tt><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Moment-class.html">Moment</a><tt class="py-op">(</tt><tt class="py-base-class">db</tt><tt class="py-op">.</tt><tt class="py-base-class">Model</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Moment-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Moment-expanded"><a name="L50"></a><tt class="py-lineno">  50</tt>  <tt class="py-line">        <tt id="link-29" class="py-name" targets="Variable feathers.customize.Theme.Title=feathers.customize.Theme-class.html#Title,Variable feathers.feed.StoryOccurence.Title=feathers.feed.StoryOccurence-class.html#Title,Variable feathers.feed.StoryPost.Title=feathers.feed.StoryPost-class.html#Title,Variable feathers.labs.Feature.Title=feathers.labs.Feature-class.html#Title,Variable feathers.stories.StoryOccurence.Title=feathers.stories.StoryOccurence-class.html#Title,Variable feathers.stories.StoryPost.Title=feathers.stories.StoryPost-class.html#Title,Variable feathers.talk.Topic.Title=feathers.talk.Topic-class.html#Title,Variable licensing.LicenseType.Title=licensing.LicenseType-class.html#Title,Variable wrook.Book.Title=wrook.Book-class.html#Title,Variable wrook.Chapter.Title=wrook.Chapter-class.html#Title,Variable wrook.Command.Title=wrook.Command-class.html#Title,Variable wrook.Moment.Title=wrook.Moment-class.html#Title"><a title="feathers.customize.Theme.Title
feathers.feed.StoryOccurence.Title
feathers.feed.StoryPost.Title
feathers.labs.Feature.Title
feathers.stories.StoryOccurence.Title
feathers.stories.StoryPost.Title
feathers.talk.Topic.Title
licensing.LicenseType.Title
wrook.Book.Title
wrook.Chapter.Title
wrook.Command.Title
wrook.Moment.Title" class="py-name" href="#" onclick="return doclink('link-29', 'Title', 'link-29');">Title</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L51"></a><tt class="py-lineno">  51</tt>  <tt class="py-line">        <tt id="link-30" class="py-name" targets="Variable wrook.Moment.Begins=wrook.Moment-class.html#Begins"><a title="wrook.Moment.Begins" class="py-name" href="#" onclick="return doclink('link-30', 'Begins', 'link-30');">Begins</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">DateTimeProperty</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L52"></a><tt class="py-lineno">  52</tt>  <tt class="py-line">        <tt id="link-31" class="py-name" targets="Variable wrook.Moment.Ends=wrook.Moment-class.html#Ends"><a title="wrook.Moment.Ends" class="py-name" href="#" onclick="return doclink('link-31', 'Ends', 'link-31');">Ends</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">DateTimeProperty</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L53"></a><tt class="py-lineno">  53</tt>  <tt class="py-line">        <tt id="link-32" class="py-name" targets="Variable feathers.customize.Theme.Created=feathers.customize.Theme-class.html#Created,Variable feathers.labs.Feature.Created=feathers.labs.Feature-class.html#Created,Variable feathers.labs.Release.Created=feathers.labs.Release-class.html#Created,Variable feathers.labs.Vote.Created=feathers.labs.Vote-class.html#Created,Variable feathers.membership.Member.Created=feathers.membership.Member-class.html#Created,Variable wrook.Chapter.Created=wrook.Chapter-class.html#Created,Variable wrook.Cover.Created=wrook.Cover-class.html#Created,Variable wrook.Moment.Created=wrook.Moment-class.html#Created,Variable wrook.Revision.Created=wrook.Revision-class.html#Created"><a title="feathers.customize.Theme.Created
feathers.labs.Feature.Created
feathers.labs.Release.Created
feathers.labs.Vote.Created
feathers.membership.Member.Created
wrook.Chapter.Created
wrook.Cover.Created
wrook.Moment.Created
wrook.Revision.Created" class="py-name" href="#" onclick="return doclink('link-32', 'Created', 'link-32');">Created</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">DateTimeProperty</tt><tt class="py-op">(</tt><tt class="py-name">auto_now_add</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L54"></a><tt class="py-lineno">  54</tt>  <tt class="py-line">        <tt id="link-33" class="py-name" targets="Class feathers.customize.Theme=feathers.customize.Theme-class.html,Variable feathers.customize.ThemeMemberSelection.Theme=feathers.customize.ThemeMemberSelection-class.html#Theme,Variable wrook.Moment.Theme=wrook.Moment-class.html#Theme"><a title="feathers.customize.Theme
feathers.customize.ThemeMemberSelection.Theme
wrook.Moment.Theme" class="py-name" href="#" onclick="return doclink('link-33', 'Theme', 'link-33');">Theme</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-34" class="py-name"><a title="feathers.customize" class="py-name" href="#" onclick="return doclink('link-34', 'customize', 'link-6');">customize</a></tt><tt class="py-op">.</tt><tt id="link-35" class="py-name"><a title="feathers.customize.Theme
feathers.customize.ThemeMemberSelection.Theme
wrook.Moment.Theme" class="py-name" href="#" onclick="return doclink('link-35', 'Theme', 'link-33');">Theme</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Moments"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L55"></a><tt class="py-lineno">  55</tt>  <tt class="py-line">        <tt id="link-36" class="py-name" targets="Variable feathers.customize.Theme.isDefault=feathers.customize.Theme-class.html#isDefault,Variable wrook.Moment.isDefault=wrook.Moment-class.html#isDefault"><a title="feathers.customize.Theme.isDefault
wrook.Moment.isDefault" class="py-name" href="#" onclick="return doclink('link-36', 'isDefault', 'link-36');">isDefault</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">BooleanProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">)</tt> </tt>
<a name="L56"></a><tt class="py-lineno">  56</tt>  <tt class="py-line">        <tt id="link-37" class="py-name" targets="Variable wrook.Moment.Priority=wrook.Moment-class.html#Priority"><a title="wrook.Moment.Priority" class="py-name" href="#" onclick="return doclink('link-37', 'Priority', 'link-37');">Priority</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">IntegerProperty</tt><tt class="py-op">(</tt><tt class="py-name">required</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">,</tt> <tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-number">0</tt><tt class="py-op">)</tt> </tt>
</div><a name="L57"></a><tt class="py-lineno">  57</tt>  <tt class="py-line"> </tt>
<a name="Cover"></a><div id="Cover-def"><a name="L58"></a><tt class="py-lineno">  58</tt> <a class="py-toggle" href="#" id="Cover-toggle" onclick="return toggle('Cover');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Cover-class.html">Cover</a><tt class="py-op">(</tt><tt class="py-base-class">db</tt><tt class="py-op">.</tt><tt class="py-base-class">Model</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Cover-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Cover-expanded"><a name="L59"></a><tt class="py-lineno">  59</tt>  <tt class="py-line">        <tt id="link-38" class="py-name" targets="Variable wrook.Cover.SampleTitle=wrook.Cover-class.html#SampleTitle"><a title="wrook.Cover.SampleTitle" class="py-name" href="#" onclick="return doclink('link-38', 'SampleTitle', 'link-38');">SampleTitle</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L60"></a><tt class="py-lineno">  60</tt>  <tt class="py-line">        <tt id="link-39" class="py-name" targets="Variable wrook.Cover.TitleColor=wrook.Cover-class.html#TitleColor"><a title="wrook.Cover.TitleColor" class="py-name" href="#" onclick="return doclink('link-39', 'TitleColor', 'link-39');">TitleColor</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L61"></a><tt class="py-lineno">  61</tt>  <tt class="py-line">        <tt id="link-40" class="py-name" targets="Variable wrook.Cover.ThumbnailImage=wrook.Cover-class.html#ThumbnailImage"><a title="wrook.Cover.ThumbnailImage" class="py-name" href="#" onclick="return doclink('link-40', 'ThumbnailImage', 'link-40');">ThumbnailImage</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">BlobProperty</tt><tt class="py-op">(</tt><tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Image"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L62"></a><tt class="py-lineno">  62</tt>  <tt class="py-line">        <tt id="link-41" class="py-name"><a title="feathers.customize.Theme.Created
feathers.labs.Feature.Created
feathers.labs.Release.Created
feathers.labs.Vote.Created
feathers.membership.Member.Created
wrook.Chapter.Created
wrook.Cover.Created
wrook.Moment.Created
wrook.Revision.Created" class="py-name" href="#" onclick="return doclink('link-41', 'Created', 'link-32');">Created</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">DateTimeProperty</tt><tt class="py-op">(</tt><tt class="py-name">auto_now_add</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L63"></a><tt class="py-lineno">  63</tt>  <tt class="py-line">        <tt id="link-42" class="py-name" targets="Variable wrook.Cover.CreatedBy=wrook.Cover-class.html#CreatedBy"><a title="wrook.Cover.CreatedBy" class="py-name" href="#" onclick="return doclink('link-42', 'CreatedBy', 'link-42');">CreatedBy</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-43" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-43', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-44" class="py-name" targets="Variable feathers.customize.ThemeMemberSelection.Member=feathers.customize.ThemeMemberSelection-class.html#Member,Variable feathers.feed.StoryPost.Member=feathers.feed.StoryPost-class.html#Member,Variable feathers.labs.Vote.Member=feathers.labs.Vote-class.html#Member,Class feathers.membership.Member=feathers.membership.Member-class.html,Variable feathers.stories.StoryPost.Member=feathers.stories.StoryPost-class.html#Member"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-44', 'Member', 'link-44');">Member</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"Covers"</tt><tt class="py-op">,</tt> <tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Created by"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L64"></a><tt class="py-lineno">  64</tt>  <tt class="py-line">        <tt id="link-45" class="py-name" targets="Variable wrook.Cover.isReusable=wrook.Cover-class.html#isReusable"><a title="wrook.Cover.isReusable" class="py-name" href="#" onclick="return doclink('link-45', 'isReusable', 'link-45');">isReusable</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">BooleanProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">,</tt> <tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Is this cover reusable for other books?"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L65"></a><tt class="py-lineno">  65</tt>  <tt class="py-line">        <tt id="link-46" class="py-name" targets="Variable feathers.customize.Theme.isSharedWithEveryone=feathers.customize.Theme-class.html#isSharedWithEveryone,Variable wrook.Cover.isSharedWithEveryone=wrook.Cover-class.html#isSharedWithEveryone"><a title="feathers.customize.Theme.isSharedWithEveryone
wrook.Cover.isSharedWithEveryone" class="py-name" href="#" onclick="return doclink('link-46', 'isSharedWithEveryone', 'link-46');">isSharedWithEveryone</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">BooleanProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">,</tt> <tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Share with everyone"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L66"></a><tt class="py-lineno">  66</tt>  <tt class="py-line"> </tt>
<a name="Cover.thumbURL"></a><div id="Cover.thumbURL-def"><a name="L67"></a><tt class="py-lineno">  67</tt> <a class="py-toggle" href="#" id="Cover.thumbURL-toggle" onclick="return toggle('Cover.thumbURL');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Cover-class.html#thumbURL">thumbURL</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Cover.thumbURL-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Cover.thumbURL-expanded"><a name="L68"></a><tt class="py-lineno">  68</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">is_saved</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L69"></a><tt class="py-lineno">  69</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-string">"/Covers/Thumbnail/%s?width=120"</tt> <tt class="py-op">%</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L70"></a><tt class="py-lineno">  70</tt>  <tt class="py-line"> </tt>
<a name="Cover.thumbURL45"></a><div id="Cover.thumbURL45-def"><a name="L71"></a><tt class="py-lineno">  71</tt> <a class="py-toggle" href="#" id="Cover.thumbURL45-toggle" onclick="return toggle('Cover.thumbURL45');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Cover-class.html#thumbURL45">thumbURL45</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Cover.thumbURL45-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Cover.thumbURL45-expanded"><a name="L72"></a><tt class="py-lineno">  72</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">is_saved</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L73"></a><tt class="py-lineno">  73</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-string">"/Covers/Thumbnail/%s?width=45"</tt> <tt class="py-op">%</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L74"></a><tt class="py-lineno">  74</tt>  <tt class="py-line"> </tt>
<a name="Cover.imageURL"></a><div id="Cover.imageURL-def"><a name="L75"></a><tt class="py-lineno">  75</tt> <a class="py-toggle" href="#" id="Cover.imageURL-toggle" onclick="return toggle('Cover.imageURL');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Cover-class.html#imageURL">imageURL</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Cover.imageURL-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Cover.imageURL-expanded"><a name="L76"></a><tt class="py-lineno">  76</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">is_saved</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L77"></a><tt class="py-lineno">  77</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-string">"http://www.wrook.org/Covers/Image/%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L78"></a><tt class="py-lineno">  78</tt>  <tt class="py-line"> </tt>
<a name="Book"></a><div id="Book-def"><a name="L79"></a><tt class="py-lineno">  79</tt> <a class="py-toggle" href="#" id="Book-toggle" onclick="return toggle('Book');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Book-class.html">Book</a><tt class="py-op">(</tt><tt class="py-base-class">db</tt><tt class="py-op">.</tt><tt class="py-base-class">Model</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Book-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Book-expanded"><a name="L80"></a><tt class="py-lineno">  80</tt>  <tt class="py-line">        <tt id="link-47" class="py-name"><a title="feathers.customize.Theme.Title
feathers.feed.StoryOccurence.Title
feathers.feed.StoryPost.Title
feathers.labs.Feature.Title
feathers.stories.StoryOccurence.Title
feathers.stories.StoryPost.Title
feathers.talk.Topic.Title
licensing.LicenseType.Title
wrook.Book.Title
wrook.Chapter.Title
wrook.Command.Title
wrook.Moment.Title" class="py-name" href="#" onclick="return doclink('link-47', 'Title', 'link-29');">Title</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"New book..."</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">required</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">,</tt> <tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Title"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L81"></a><tt class="py-lineno">  81</tt>  <tt class="py-line">        <tt id="link-48" class="py-name" targets="Variable wrook.Book.Author=wrook.Book-class.html#Author,Variable wrook.Bookmark.Author=wrook.Bookmark-class.html#Author,Variable wrook.Message.Author=wrook.Message-class.html#Author"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-48', 'Author', 'link-48');">Author</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-49" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-49', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-50" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-50', 'Member', 'link-44');">Member</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"Books"</tt><tt class="py-op">,</tt> <tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Author"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L82"></a><tt class="py-lineno">  82</tt>  <tt class="py-line">        <tt id="link-51" class="py-name" targets="Variable wrook.Book.Slug=wrook.Book-class.html#Slug"><a title="wrook.Book.Slug" class="py-name" href="#" onclick="return doclink('link-51', 'Slug', 'link-51');">Slug</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Slug"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L83"></a><tt class="py-lineno">  83</tt>  <tt class="py-line">        <tt id="link-52" class="py-name" targets="Variable wrook.Book.Stage=wrook.Book-class.html#Stage,Variable wrook.Chapter.Stage=wrook.Chapter-class.html#Stage"><a title="wrook.Book.Stage
wrook.Chapter.Stage" class="py-name" href="#" onclick="return doclink('link-52', 'Stage', 'link-52');">Stage</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-name">required</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">,</tt> <tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-string">"planning"</tt><tt class="py-op">,</tt> <tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Stage"</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">choices</tt><tt class="py-op">=</tt><tt class="py-name">set</tt><tt class="py-op">(</tt><tt class="py-op">[</tt><tt class="py-string">"planning"</tt><tt class="py-op">,</tt> <tt class="py-string">"drafting"</tt><tt class="py-op">,</tt> <tt class="py-string">"writing"</tt><tt class="py-op">,</tt> <tt class="py-string">"proofing"</tt><tt class="py-op">,</tt> <tt class="py-string">"final"</tt><tt class="py-op">]</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L84"></a><tt class="py-lineno">  84</tt>  <tt class="py-line">        <tt id="link-53" class="py-name" targets="Variable wrook.Book.Cover=wrook.Book-class.html#Cover,Class wrook.Cover=wrook.Cover-class.html"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-53', 'Cover', 'link-53');">Cover</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-54" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-54', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"Books"</tt><tt class="py-op">,</tt> <tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Cover"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L85"></a><tt class="py-lineno">  85</tt>  <tt class="py-line">        <tt id="link-55" class="py-name" targets="Variable wrook.Book.Synopsis=wrook.Book-class.html#Synopsis,Variable wrook.Chapter.Synopsis=wrook.Chapter-class.html#Synopsis"><a title="wrook.Book.Synopsis
wrook.Chapter.Synopsis" class="py-name" href="#" onclick="return doclink('link-55', 'Synopsis', 'link-55');">Synopsis</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">TextProperty</tt><tt class="py-op">(</tt><tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Synopsis"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L86"></a><tt class="py-lineno">  86</tt>  <tt class="py-line">        <tt id="link-56" class="py-name" targets="Variable wrook.Book.NoteFromAuthor=wrook.Book-class.html#NoteFromAuthor,Variable wrook.Revision.NoteFromAuthor=wrook.Revision-class.html#NoteFromAuthor"><a title="wrook.Book.NoteFromAuthor
wrook.Revision.NoteFromAuthor" class="py-name" href="#" onclick="return doclink('link-56', 'NoteFromAuthor', 'link-56');">NoteFromAuthor</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">TextProperty</tt><tt class="py-op">(</tt><tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Note from the author"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L87"></a><tt class="py-lineno">  87</tt>  <tt class="py-line">        <tt id="link-57" class="py-name" targets="Variable wrook.Book.License=wrook.Book-class.html#License"><a title="wrook.Book.License" class="py-name" href="#" onclick="return doclink('link-57', 'License', 'link-57');">License</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-58" class="py-name"><a title="licensing" class="py-name" href="#" onclick="return doclink('link-58', 'licensing', 'link-11');">licensing</a></tt><tt class="py-op">.</tt><tt id="link-59" class="py-name" targets="Class licensing.LicenseType=licensing.LicenseType-class.html"><a title="licensing.LicenseType" class="py-name" href="#" onclick="return doclink('link-59', 'LicenseType', 'link-59');">LicenseType</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"Books"</tt><tt class="py-op">,</tt> <tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"License"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L88"></a><tt class="py-lineno">  88</tt>  <tt class="py-line">        <tt id="link-60" class="py-name" targets="Variable wrook.Book.AttribDetailed=wrook.Book-class.html#AttribDetailed"><a title="wrook.Book.AttribDetailed" class="py-name" href="#" onclick="return doclink('link-60', 'AttribDetailed', 'link-60');">AttribDetailed</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">TextProperty</tt><tt class="py-op">(</tt><tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Attribution"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L89"></a><tt class="py-lineno">  89</tt>  <tt class="py-line">        <tt id="link-61" class="py-name" targets="Variable wrook.Book.AttribAuthorIsAuthor=wrook.Book-class.html#AttribAuthorIsAuthor"><a title="wrook.Book.AttribAuthorIsAuthor" class="py-name" href="#" onclick="return doclink('link-61', 'AttribAuthorIsAuthor', 'link-61');">AttribAuthorIsAuthor</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">BooleanProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">,</tt> <tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Are you the author"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L90"></a><tt class="py-lineno">  90</tt>  <tt class="py-line">        <tt id="link-62" class="py-name" targets="Variable wrook.Book.AttribAuthorName=wrook.Book-class.html#AttribAuthorName"><a title="wrook.Book.AttribAuthorName" class="py-name" href="#" onclick="return doclink('link-62', 'AttribAuthorName', 'link-62');">AttribAuthorName</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Author's name"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L91"></a><tt class="py-lineno">  91</tt>  <tt class="py-line">         </tt>
<a name="L92"></a><tt class="py-lineno">  92</tt>  <tt class="py-line"> </tt>
<a name="Book.clearCache"></a><div id="Book.clearCache-def"><a name="L93"></a><tt class="py-lineno">  93</tt> <a class="py-toggle" href="#" id="Book.clearCache-toggle" onclick="return toggle('Book.clearCache');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Book-class.html#clearCache">clearCache</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Book.clearCache-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Book.clearCache-expanded"><a name="L94"></a><tt class="py-lineno">  94</tt>  <tt class="py-line">                <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-string">"wordcount-%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> <tt class="py-comment"># Removes the wordCount cache</tt> </tt>
</div><a name="L95"></a><tt class="py-lineno">  95</tt>  <tt class="py-line"> </tt>
<a name="L96"></a><tt class="py-lineno">  96</tt>  <tt class="py-line">        <tt class="py-comment"># Does a word count of all chapters, any chapter missings its word count will do it on the fly</tt> </tt>
<a name="L97"></a><tt class="py-lineno">  97</tt>  <tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-comment"># Cache results for an undeterminate time</tt> </tt>
<a name="Book.wordCount"></a><div id="Book.wordCount-def"><a name="L98"></a><tt class="py-lineno">  98</tt> <a class="py-toggle" href="#" id="Book.wordCount-toggle" onclick="return toggle('Book.wordCount');">-</a><tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Book-class.html#wordCount">wordCount</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Book.wordCount-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Book.wordCount-expanded"><a name="L99"></a><tt class="py-lineno">  99</tt>  <tt class="py-line">                <tt class="py-name">wordCountKey</tt> <tt class="py-op">=</tt> <tt class="py-string">"wordcount-%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">key</tt> </tt>
<a name="L100"></a><tt class="py-lineno"> 100</tt>  <tt class="py-line">                <tt id="link-63" class="py-name" targets="Function feathers.utils.wordCount()=feathers.utils-module.html#wordCount,Method wrook.Book.wordCount()=wrook.Book-class.html#wordCount"><a title="feathers.utils.wordCount
wrook.Book.wordCount" class="py-name" href="#" onclick="return doclink('link-63', 'wordCount', 'link-63');">wordCount</a></tt> <tt class="py-op">=</tt> <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt id="link-64" class="py-name" targets="Method feathers.customize.ThemeBackgroundImage.get()=feathers.customize.ThemeBackgroundImage-class.html#get,Method feathers.customize.ThemeEdit.get()=feathers.customize.ThemeEdit-class.html#get,Method feathers.customize.ThemeEditWithImageUpload.get()=feathers.customize.ThemeEditWithImageUpload-class.html#get,Method feathers.customize.ThemeMemberSelect.get()=feathers.customize.ThemeMemberSelect-class.html#get,Method feathers.customize.ThemeSelect.get()=feathers.customize.ThemeSelect-class.html#get,Method feathers.customize.ThemeStylesheet.get()=feathers.customize.ThemeStylesheet-class.html#get,Method feathers.customize.ThemeView.get()=feathers.customize.ThemeView-class.html#get,Method feathers.customize.ViewThemes.get()=feathers.customize.ViewThemes-class.html#get,Method feathers.labs.CastVote.get()=feathers.labs.CastVote-class.html#get,Method feathers.labs.DeleteFeature.get()=feathers.labs.DeleteFeature-class.html#get,Method feathers.labs.Labs.get()=feathers.labs.Labs-class.html#get,Method feathers.labs.MarkFeatureAsDone.get()=feathers.labs.MarkFeatureAsDone-class.html#get,Method feathers.labs.RetractVote.get()=feathers.labs.RetractVote-class.html#get,Method feathers.labs.ViewFeature.get()=feathers.labs.ViewFeature-class.html#get,Method feathers.membership.InviteEdit.get()=feathers.membership.InviteEdit-class.html#get,Method feathers.membership.Invites.get()=feathers.membership.Invites-class.html#get,Method feathers.membership.ProfilePhotoImage.get()=feathers.membership.ProfilePhotoImage-class.html#get,Method feathers.proforma.Confirm.get()=feathers.proforma.Confirm-class.html#get,Method feathers.proforma.Failed.get()=feathers.proforma.Failed-class.html#get,Method feathers.proforma.Success.get()=feathers.proforma.Success-class.html#get,Method feathers.proforma.Warning.get()=feathers.proforma.Warning-class.html#get,Method feathers.stories.StoryPostDeleteJSON.get()=feathers.stories.StoryPostDeleteJSON-class.html#get,Method feathers.talk.ReplyMiniFormJSON.get()=feathers.talk.ReplyMiniFormJSON-class.html#get,Method wrook.About_CPAL.get()=wrook.About_CPAL-class.html#get,Method wrook.About_OpenSoureAttribution.get()=wrook.About_OpenSoureAttribution-class.html#get,Method wrook.About_OpenSoureLicense.get()=wrook.About_OpenSoureLicense-class.html#get,Method wrook.About_who.get()=wrook.About_who-class.html#get,Method wrook.AccountChangePassword.get()=wrook.AccountChangePassword-class.html#get,Method wrook.AccountChangeProfilePhoto.get()=wrook.AccountChangeProfilePhoto-class.html#get,Method wrook.AccountView.get()=wrook.AccountView-class.html#get,Method wrook.AdminCommands.get()=wrook.AdminCommands-class.html#get,Method wrook.BookReaders.get()=wrook.BookReaders-class.html#get,Method wrook.BookSetCover.get()=wrook.BookSetCover-class.html#get,Method wrook.Book_ReorderChapters.get()=wrook.Book_ReorderChapters-class.html#get,Method wrook.Books.get()=wrook.Books-class.html#get,Method wrook.Books_Edit.get()=wrook.Books_Edit-class.html#get,Method wrook.Books_Edit_License.get()=wrook.Books_Edit_License-class.html#get,Method wrook.CoverEdit.get()=wrook.CoverEdit-class.html#get,Method wrook.CoverImage.get()=wrook.CoverImage-class.html#get,Method wrook.CoverList.get()=wrook.CoverList-class.html#get,Method wrook.CoverSelect.get()=wrook.CoverSelect-class.html#get,Method wrook.CoverSetDefault.get()=wrook.CoverSetDefault-class.html#get,Method wrook.CoverShare.get()=wrook.CoverShare-class.html#get,Method wrook.CoverThumbnail.get()=wrook.CoverThumbnail-class.html#get,Method wrook.CoverUnshare.get()=wrook.CoverUnshare-class.html#get,Method wrook.CoverView.get()=wrook.CoverView-class.html#get,Method wrook.Customize.get()=wrook.Customize-class.html#get,Method wrook.DeleteBook.get()=wrook.DeleteBook-class.html#get,Method wrook.DeleteChapter.get()=wrook.DeleteChapter-class.html#get,Method wrook.DeleteMessage.get()=wrook.DeleteMessage-class.html#get,Method wrook.EditAccount.get()=wrook.EditAccount-class.html#get,Method wrook.EditChapterOptions.get()=wrook.EditChapterOptions-class.html#get,Method wrook.FeedbackBook.get()=wrook.FeedbackBook-class.html#get,Method wrook.FlushCache.get()=wrook.FlushCache-class.html#get,Method wrook.Home.get()=wrook.Home-class.html#get,Method wrook.Join.get()=wrook.Join-class.html#get,Method wrook.Login.get()=wrook.Login-class.html#get,Method wrook.Logout.get()=wrook.Logout-class.html#get,Method wrook.Members.get()=wrook.Members-class.html#get,Method wrook.MembersBooksList.get()=wrook.MembersBooksList-class.html#get,Method wrook.MembersCoversList.get()=wrook.MembersCoversList-class.html#get,Method wrook.MembersFeed.get()=wrook.MembersFeed-class.html#get,Method wrook.MembersProfile.get()=wrook.MembersProfile-class.html#get,Method wrook.MembersReadingsList.get()=wrook.MembersReadingsList-class.html#get,Method wrook.NewChapter.get()=wrook.NewChapter-class.html#get,Method wrook.PasswordSent.get()=wrook.PasswordSent-class.html#get,Method wrook.ResetPassword.get()=wrook.ResetPassword-class.html#get,Method wrook.Revisions_List.get()=wrook.Revisions_List-class.html#get,Method wrook.Revisions_View.get()=wrook.Revisions_View-class.html#get,Method wrook.SendPassword.get()=wrook.SendPassword-class.html#get,Method wrook.SetDefaultTheme.get()=wrook.SetDefaultTheme-class.html#get,Method wrook.Suggestions.get()=wrook.Suggestions-class.html#get,Method wrook.Test.get()=wrook.Test-class.html#get,Method wrook.Typewriter.get()=wrook.Typewriter-class.html#get,Method wrook.ViewBook.get()=wrook.ViewBook-class.html#get,Method wrook.ViewChapter.get()=wrook.ViewChapter-class.html#get"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-64', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">wordCountKey</tt><tt class="py-op">)</tt> </tt>
<a name="L101"></a><tt class="py-lineno"> 101</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt id="link-65" class="py-name"><a title="feathers.utils.wordCount
wrook.Book.wordCount" class="py-name" href="#" onclick="return doclink('link-65', 'wordCount', 'link-63');">wordCount</a></tt><tt class="py-op">:</tt> </tt>
<a name="L102"></a><tt class="py-lineno"> 102</tt>  <tt class="py-line">                        <tt id="link-66" class="py-name"><a title="feathers.utils.wordCount
wrook.Book.wordCount" class="py-name" href="#" onclick="return doclink('link-66', 'wordCount', 'link-63');">wordCount</a></tt> <tt class="py-op">=</tt> <tt class="py-number">0</tt> </tt>
<a name="L103"></a><tt class="py-lineno"> 103</tt>  <tt class="py-line">                        <tt class="py-keyword">for</tt> <tt class="py-name">chapter</tt> <tt class="py-keyword">in</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-67" class="py-name" targets="Variable wrook.Book.Chapters=wrook.Book-class.html#Chapters"><a title="wrook.Book.Chapters" class="py-name" href="#" onclick="return doclink('link-67', 'Chapters', 'link-67');">Chapters</a></tt><tt class="py-op">:</tt> </tt>
<a name="L104"></a><tt class="py-lineno"> 104</tt>  <tt class="py-line">                                <tt id="link-68" class="py-name"><a title="feathers.utils.wordCount
wrook.Book.wordCount" class="py-name" href="#" onclick="return doclink('link-68', 'wordCount', 'link-63');">wordCount</a></tt> <tt class="py-op">+=</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-69" class="py-name" targets="Method wrook.Chapter.getLatestRevision()=wrook.Chapter-class.html#getLatestRevision"><a title="wrook.Chapter.getLatestRevision" class="py-name" href="#" onclick="return doclink('link-69', 'getLatestRevision', 'link-69');">getLatestRevision</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt id="link-70" class="py-name" targets="Method wrook.Revision.calculateWordCount()=wrook.Revision-class.html#calculateWordCount"><a title="wrook.Revision.calculateWordCount" class="py-name" href="#" onclick="return doclink('link-70', 'calculateWordCount', 'link-70');">calculateWordCount</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L105"></a><tt class="py-lineno"> 105</tt>  <tt class="py-line">                        <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">add</tt><tt class="py-op">(</tt><tt class="py-name">wordCountKey</tt><tt class="py-op">,</tt> <tt id="link-71" class="py-name"><a title="feathers.utils.wordCount
wrook.Book.wordCount" class="py-name" href="#" onclick="return doclink('link-71', 'wordCount', 'link-63');">wordCount</a></tt><tt class="py-op">)</tt> </tt>
<a name="L106"></a><tt class="py-lineno"> 106</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt id="link-72" class="py-name"><a title="feathers.utils.wordCount
wrook.Book.wordCount" class="py-name" href="#" onclick="return doclink('link-72', 'wordCount', 'link-63');">wordCount</a></tt> </tt>
</div><a name="L107"></a><tt class="py-lineno"> 107</tt>  <tt class="py-line"> </tt>
<a name="Book.authorName"></a><div id="Book.authorName-def"><a name="L108"></a><tt class="py-lineno"> 108</tt> <a class="py-toggle" href="#" id="Book.authorName-toggle" onclick="return toggle('Book.authorName');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Book-class.html#authorName">authorName</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Book.authorName-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Book.authorName-expanded"><a name="L109"></a><tt class="py-lineno"> 109</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-73" class="py-name"><a title="wrook.Book.AttribAuthorIsAuthor" class="py-name" href="#" onclick="return doclink('link-73', 'AttribAuthorIsAuthor', 'link-61');">AttribAuthorIsAuthor</a></tt><tt class="py-op">:</tt> <tt class="py-keyword">return</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-74" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-74', 'Author', 'link-48');">Author</a></tt><tt class="py-op">.</tt><tt id="link-75" class="py-name" targets="Method feathers.membership.Member.fullname()=feathers.membership.Member-class.html#fullname"><a title="feathers.membership.Member.fullname" class="py-name" href="#" onclick="return doclink('link-75', 'fullname', 'link-75');">fullname</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L110"></a><tt class="py-lineno"> 110</tt>  <tt class="py-line">                <tt class="py-keyword">elif</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-76" class="py-name"><a title="wrook.Book.AttribAuthorName" class="py-name" href="#" onclick="return doclink('link-76', 'AttribAuthorName', 'link-62');">AttribAuthorName</a></tt><tt class="py-op">:</tt> <tt class="py-keyword">return</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-77" class="py-name"><a title="wrook.Book.AttribAuthorName" class="py-name" href="#" onclick="return doclink('link-77', 'AttribAuthorName', 'link-62');">AttribAuthorName</a></tt> </tt>
<a name="L111"></a><tt class="py-lineno"> 111</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-keyword">return</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Mr. Unknown"</tt><tt class="py-op">)</tt> </tt>
</div><a name="L112"></a><tt class="py-lineno"> 112</tt>  <tt class="py-line"> </tt>
<a name="Book.getCover"></a><div id="Book.getCover-def"><a name="L113"></a><tt class="py-lineno"> 113</tt> <a class="py-toggle" href="#" id="Book.getCover-toggle" onclick="return toggle('Book.getCover');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Book-class.html#getCover">getCover</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Book.getCover-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Book.getCover-expanded"><a name="L114"></a><tt class="py-lineno"> 114</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-78" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-78', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">:</tt> <tt class="py-keyword">return</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-79" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-79', 'Cover', 'link-53');">Cover</a></tt> </tt>
<a name="L115"></a><tt class="py-lineno"> 115</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L116"></a><tt class="py-lineno"> 116</tt>  <tt class="py-line">                        <tt class="py-name">appConfig</tt> <tt class="py-op">=</tt> <tt id="link-80" class="py-name"><a title="wrook.getWrookAppConfig" class="py-name" href="#" onclick="return doclink('link-80', 'getWrookAppConfig', 'link-20');">getWrookAppConfig</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L117"></a><tt class="py-lineno"> 117</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">appConfig</tt><tt class="py-op">:</tt> <tt class="py-keyword">return</tt> <tt class="py-name">appConfig</tt><tt class="py-op">.</tt><tt id="link-81" class="py-name" targets="Variable wrook.WrookAppConfig.DefaultCover=wrook.WrookAppConfig-class.html#DefaultCover"><a title="wrook.WrookAppConfig.DefaultCover" class="py-name" href="#" onclick="return doclink('link-81', 'DefaultCover', 'link-81');">DefaultCover</a></tt> </tt>
<a name="L118"></a><tt class="py-lineno"> 118</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">None</tt> </tt>
</div><a name="L119"></a><tt class="py-lineno"> 119</tt>  <tt class="py-line"> </tt>
<a name="Book.firstChapter"></a><div id="Book.firstChapter-def"><a name="L120"></a><tt class="py-lineno"> 120</tt> <a class="py-toggle" href="#" id="Book.firstChapter-toggle" onclick="return toggle('Book.firstChapter');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Book-class.html#firstChapter">firstChapter</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Book.firstChapter-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Book.firstChapter-expanded"><a name="L121"></a><tt class="py-lineno"> 121</tt>  <tt class="py-line">                <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt id="link-82" class="py-name" targets="Variable wrook.Bookmark.Chapter=wrook.Bookmark-class.html#Chapter,Class wrook.Chapter=wrook.Chapter-class.html,Variable wrook.Message.Chapter=wrook.Message-class.html#Chapter,Variable wrook.Revision.Chapter=wrook.Revision-class.html#Chapter"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-82', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Book ="</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
<a name="L122"></a><tt class="py-lineno"> 122</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">chapter</tt><tt class="py-op">)</tt> <tt class="py-op">&gt;</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L123"></a><tt class="py-lineno"> 123</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-name">chapter</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt> </tt>
</div><a name="L124"></a><tt class="py-lineno"> 124</tt>  <tt class="py-line"> </tt>
<a name="Book.lastRevisedChapter"></a><div id="Book.lastRevisedChapter-def"><a name="L125"></a><tt class="py-lineno"> 125</tt> <a class="py-toggle" href="#" id="Book.lastRevisedChapter-toggle" onclick="return toggle('Book.lastRevisedChapter');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Book-class.html#lastRevisedChapter">lastRevisedChapter</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Book.lastRevisedChapter-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Book.lastRevisedChapter-expanded"><a name="L126"></a><tt class="py-lineno"> 126</tt>  <tt class="py-line">                <tt class="py-name">revision</tt> <tt class="py-op">=</tt> <tt id="link-83" class="py-name" targets="Class wrook.Revision=wrook.Revision-class.html"><a title="wrook.Revision" class="py-name" href="#" onclick="return doclink('link-83', 'Revision', 'link-83');">Revision</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Book ="</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">order</tt><tt class="py-op">(</tt><tt class="py-string">"-Created"</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
<a name="L127"></a><tt class="py-lineno"> 127</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">revision</tt><tt class="py-op">)</tt> <tt class="py-op">&gt;</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L128"></a><tt class="py-lineno"> 128</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-name">revision</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt><tt class="py-op">.</tt><tt id="link-84" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-84', 'Chapter', 'link-82');">Chapter</a></tt> </tt>
</div><a name="L129"></a><tt class="py-lineno"> 129</tt>  <tt class="py-line"> </tt>
<a name="Book.countReaders"></a><div id="Book.countReaders-def"><a name="L130"></a><tt class="py-lineno"> 130</tt> <a class="py-toggle" href="#" id="Book.countReaders-toggle" onclick="return toggle('Book.countReaders');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Book-class.html#countReaders">countReaders</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Book.countReaders-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Book.countReaders-expanded"><a name="L131"></a><tt class="py-lineno"> 131</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-85" class="py-name" targets="Class wrook.Bookmark=wrook.Bookmark-class.html"><a title="wrook.Bookmark" class="py-name" href="#" onclick="return doclink('link-85', 'Bookmark', 'link-85');">Bookmark</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Book ="</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">999</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
</div><a name="L132"></a><tt class="py-lineno"> 132</tt>  <tt class="py-line"> </tt>
<a name="Book.markdownAttribDetailed"></a><div id="Book.markdownAttribDetailed-def"><a name="L133"></a><tt class="py-lineno"> 133</tt> <a class="py-toggle" href="#" id="Book.markdownAttribDetailed-toggle" onclick="return toggle('Book.markdownAttribDetailed');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Book-class.html#markdownAttribDetailed">markdownAttribDetailed</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Book.markdownAttribDetailed-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Book.markdownAttribDetailed-expanded"><a name="L134"></a><tt class="py-lineno"> 134</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">markdown2</tt><tt class="py-op">.</tt><tt class="py-name">markdown</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-86" class="py-name"><a title="wrook.Book.AttribDetailed" class="py-name" href="#" onclick="return doclink('link-86', 'AttribDetailed', 'link-60');">AttribDetailed</a></tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L135"></a><tt class="py-lineno"> 135</tt>  <tt class="py-line"> </tt>
<a name="BookForm"></a><div id="BookForm-def"><a name="L136"></a><tt class="py-lineno"> 136</tt> <a class="py-toggle" href="#" id="BookForm-toggle" onclick="return toggle('BookForm');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.BookForm-class.html">BookForm</a><tt class="py-op">(</tt><tt class="py-base-class">djangoforms</tt><tt class="py-op">.</tt><tt class="py-base-class">ModelForm</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="BookForm-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="BookForm-expanded"><a name="BookForm.Meta"></a><div id="BookForm.Meta-def"><a name="L137"></a><tt class="py-lineno"> 137</tt> <a class="py-toggle" href="#" id="BookForm.Meta-toggle" onclick="return toggle('BookForm.Meta');">-</a><tt class="py-line">        <tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.BookForm.Meta-class.html">Meta</a><tt class="py-op">:</tt> </tt>
</div><div id="BookForm.Meta-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="BookForm.Meta-expanded"><a name="L138"></a><tt class="py-lineno"> 138</tt>  <tt class="py-line">                <tt class="py-name">model</tt> <tt class="py-op">=</tt> <tt id="link-87" class="py-name" targets="Class wrook.Book=wrook.Book-class.html,Variable wrook.Bookmark.Book=wrook.Bookmark-class.html#Book,Variable wrook.Chapter.Book=wrook.Chapter-class.html#Book,Variable wrook.Message.Book=wrook.Message-class.html#Book,Variable wrook.Revision.Book=wrook.Revision-class.html#Book"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-87', 'Book', 'link-87');">Book</a></tt> </tt>
<a name="L139"></a><tt class="py-lineno"> 139</tt>  <tt class="py-line">                <tt id="link-88" class="py-name" targets="Variable feathers.customize.ThemeSimpleForm.Meta.fields=feathers.customize.ThemeSimpleForm.Meta-class.html#fields,Variable feathers.membership.InviteForm.Meta.fields=feathers.membership.InviteForm.Meta-class.html#fields,Variable wrook.BookForm.Meta.fields=wrook.BookForm.Meta-class.html#fields,Variable wrook.BookLicenseForm.Meta.fields=wrook.BookLicenseForm.Meta-class.html#fields,Variable wrook.ChapterForm.Meta.fields=wrook.ChapterForm.Meta-class.html#fields,Variable wrook.ChapterFormForCreate.Meta.fields=wrook.ChapterFormForCreate.Meta-class.html#fields,Variable wrook.CoverForm.Meta.fields=wrook.CoverForm.Meta-class.html#fields"><a title="feathers.customize.ThemeSimpleForm.Meta.fields
feathers.membership.InviteForm.Meta.fields
wrook.BookForm.Meta.fields
wrook.BookLicenseForm.Meta.fields
wrook.ChapterForm.Meta.fields
wrook.ChapterFormForCreate.Meta.fields
wrook.CoverForm.Meta.fields" class="py-name" href="#" onclick="return doclink('link-88', 'fields', 'link-88');">fields</a></tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-string">'Title'</tt><tt class="py-op">,</tt> <tt class="py-string">'Stage'</tt><tt class="py-op">,</tt> <tt class="py-string">"Slug"</tt><tt class="py-op">,</tt> <tt class="py-string">'Synopsis'</tt><tt class="py-op">,</tt> <tt class="py-string">'NoteFromAuthor'</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L140"></a><tt class="py-lineno"> 140</tt>  <tt class="py-line"> </tt>
<a name="BookLicenseForm"></a><div id="BookLicenseForm-def"><a name="L141"></a><tt class="py-lineno"> 141</tt> <a class="py-toggle" href="#" id="BookLicenseForm-toggle" onclick="return toggle('BookLicenseForm');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.BookLicenseForm-class.html">BookLicenseForm</a><tt class="py-op">(</tt><tt class="py-base-class">djangoforms</tt><tt class="py-op">.</tt><tt class="py-base-class">ModelForm</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="BookLicenseForm-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="BookLicenseForm-expanded"><a name="BookLicenseForm.Meta"></a><div id="BookLicenseForm.Meta-def"><a name="L142"></a><tt class="py-lineno"> 142</tt> <a class="py-toggle" href="#" id="BookLicenseForm.Meta-toggle" onclick="return toggle('BookLicenseForm.Meta');">-</a><tt class="py-line">        <tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.BookLicenseForm.Meta-class.html">Meta</a><tt class="py-op">:</tt> </tt>
</div><div id="BookLicenseForm.Meta-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="BookLicenseForm.Meta-expanded"><a name="L143"></a><tt class="py-lineno"> 143</tt>  <tt class="py-line">                <tt class="py-name">model</tt> <tt class="py-op">=</tt> <tt id="link-89" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-89', 'Book', 'link-87');">Book</a></tt> </tt>
<a name="L144"></a><tt class="py-lineno"> 144</tt>  <tt class="py-line">                <tt id="link-90" class="py-name"><a title="feathers.customize.ThemeSimpleForm.Meta.fields
feathers.membership.InviteForm.Meta.fields
wrook.BookForm.Meta.fields
wrook.BookLicenseForm.Meta.fields
wrook.ChapterForm.Meta.fields
wrook.ChapterFormForCreate.Meta.fields
wrook.CoverForm.Meta.fields" class="py-name" href="#" onclick="return doclink('link-90', 'fields', 'link-88');">fields</a></tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-string">'License'</tt><tt class="py-op">,</tt> <tt class="py-string">'AttribDetailed'</tt><tt class="py-op">,</tt> <tt class="py-string">'AttribAuthorIsAuthor'</tt><tt class="py-op">,</tt> <tt class="py-string">'AttribAuthorName'</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L145"></a><tt class="py-lineno"> 145</tt>  <tt class="py-line"> </tt>
<a name="Chapter"></a><div id="Chapter-def"><a name="L146"></a><tt class="py-lineno"> 146</tt> <a class="py-toggle" href="#" id="Chapter-toggle" onclick="return toggle('Chapter');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Chapter-class.html">Chapter</a><tt class="py-op">(</tt><tt class="py-base-class">db</tt><tt class="py-op">.</tt><tt class="py-base-class">Model</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Chapter-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Chapter-expanded"><a name="L147"></a><tt class="py-lineno"> 147</tt>  <tt class="py-line">        <tt id="link-91" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-91', 'Book', 'link-87');">Book</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-92" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-92', 'Book', 'link-87');">Book</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"Chapters"</tt><tt class="py-op">)</tt> </tt>
<a name="L148"></a><tt class="py-lineno"> 148</tt>  <tt class="py-line">        <tt id="link-93" class="py-name" targets="Variable wrook.Chapter.Number=wrook.Chapter-class.html#Number"><a title="wrook.Chapter.Number" class="py-name" href="#" onclick="return doclink('link-93', 'Number', 'link-93');">Number</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">IntegerProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-number">0</tt><tt class="py-op">)</tt> </tt>
<a name="L149"></a><tt class="py-lineno"> 149</tt>  <tt class="py-line">        <tt id="link-94" class="py-name" targets="Variable wrook.Chapter.Name=wrook.Chapter-class.html#Name"><a title="wrook.Chapter.Name" class="py-name" href="#" onclick="return doclink('link-94', 'Name', 'link-94');">Name</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Chapter X"</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">required</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L150"></a><tt class="py-lineno"> 150</tt>  <tt class="py-line">        <tt id="link-95" class="py-name"><a title="feathers.customize.Theme.Title
feathers.feed.StoryOccurence.Title
feathers.feed.StoryPost.Title
feathers.labs.Feature.Title
feathers.stories.StoryOccurence.Title
feathers.stories.StoryPost.Title
feathers.talk.Topic.Title
licensing.LicenseType.Title
wrook.Book.Title
wrook.Chapter.Title
wrook.Command.Title
wrook.Moment.Title" class="py-name" href="#" onclick="return doclink('link-95', 'Title', 'link-29');">Title</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-string">""</tt><tt class="py-op">)</tt> </tt>
<a name="L151"></a><tt class="py-lineno"> 151</tt>  <tt class="py-line">        <tt id="link-96" class="py-name"><a title="wrook.Book.Stage
wrook.Chapter.Stage" class="py-name" href="#" onclick="return doclink('link-96', 'Stage', 'link-52');">Stage</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-name">required</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">,</tt> <tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-string">"planning"</tt><tt class="py-op">,</tt> <tt class="py-name">choices</tt><tt class="py-op">=</tt><tt class="py-name">set</tt><tt class="py-op">(</tt><tt class="py-op">[</tt><tt class="py-string">"planning"</tt><tt class="py-op">,</tt> <tt class="py-string">"drafting"</tt><tt class="py-op">,</tt> <tt class="py-string">"writing"</tt><tt class="py-op">,</tt> <tt class="py-string">"proofing"</tt><tt class="py-op">,</tt> <tt class="py-string">"final"</tt><tt class="py-op">]</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L152"></a><tt class="py-lineno"> 152</tt>  <tt class="py-line">        <tt id="link-97" class="py-name"><a title="wrook.Book.Synopsis
wrook.Chapter.Synopsis" class="py-name" href="#" onclick="return doclink('link-97', 'Synopsis', 'link-55');">Synopsis</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">TextProperty</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L153"></a><tt class="py-lineno"> 153</tt>  <tt class="py-line">        <tt id="link-98" class="py-name"><a title="feathers.customize.Theme.Created
feathers.labs.Feature.Created
feathers.labs.Release.Created
feathers.labs.Vote.Created
feathers.membership.Member.Created
wrook.Chapter.Created
wrook.Cover.Created
wrook.Moment.Created
wrook.Revision.Created" class="py-name" href="#" onclick="return doclink('link-98', 'Created', 'link-32');">Created</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">DateTimeProperty</tt><tt class="py-op">(</tt><tt class="py-name">auto_now_add</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L154"></a><tt class="py-lineno"> 154</tt>  <tt class="py-line">        <tt id="link-99" class="py-name" targets="Variable wrook.Chapter.isDeleted=wrook.Chapter-class.html#isDeleted"><a title="wrook.Chapter.isDeleted" class="py-name" href="#" onclick="return doclink('link-99', 'isDeleted', 'link-99');">isDeleted</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">BooleanProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt><tt class="py-op">)</tt> <tt class="py-comment"># An author can mark a chapter as being deleted without loosing the revision history</tt> </tt>
<a name="L155"></a><tt class="py-lineno"> 155</tt>  <tt class="py-line"> </tt>
<a name="Chapter.addRevision"></a><div id="Chapter.addRevision-def"><a name="L156"></a><tt class="py-lineno"> 156</tt> <a class="py-toggle" href="#" id="Chapter.addRevision-toggle" onclick="return toggle('Chapter.addRevision');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Chapter-class.html#addRevision">addRevision</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">text</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Chapter.addRevision-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Chapter.addRevision-expanded"><a name="L157"></a><tt class="py-lineno"> 157</tt>  <tt class="py-line">                <tt class="py-name">LatestRevisionVersion</tt> <tt class="py-op">=</tt> <tt class="py-number">0</tt> </tt>
<a name="L158"></a><tt class="py-lineno"> 158</tt>  <tt class="py-line">                <tt class="py-name">latestRevision</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-100" class="py-name"><a title="wrook.Chapter.getLatestRevision" class="py-name" href="#" onclick="return doclink('link-100', 'getLatestRevision', 'link-69');">getLatestRevision</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L159"></a><tt class="py-lineno"> 159</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">latestRevision</tt><tt class="py-op">:</tt> </tt>
<a name="L160"></a><tt class="py-lineno"> 160</tt>  <tt class="py-line">                        <tt class="py-name">LatestRevisionVersion</tt> <tt class="py-op">=</tt> <tt class="py-name">latestRevision</tt><tt class="py-op">.</tt><tt id="link-101" class="py-name" targets="Variable wrook.Revision.Version=wrook.Revision-class.html#Version"><a title="wrook.Revision.Version" class="py-name" href="#" onclick="return doclink('link-101', 'Version', 'link-101');">Version</a></tt> </tt>
<a name="L161"></a><tt class="py-lineno"> 161</tt>  <tt class="py-line">                <tt class="py-name">revision</tt> <tt class="py-op">=</tt> <tt id="link-102" class="py-name"><a title="wrook.Revision" class="py-name" href="#" onclick="return doclink('link-102', 'Revision', 'link-83');">Revision</a></tt><tt class="py-op">(</tt> </tt>
<a name="L162"></a><tt class="py-lineno"> 162</tt>  <tt class="py-line">                        <tt id="link-103" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-103', 'Book', 'link-87');">Book</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-104" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-104', 'Book', 'link-87');">Book</a></tt><tt class="py-op">,</tt> </tt>
<a name="L163"></a><tt class="py-lineno"> 163</tt>  <tt class="py-line">                        <tt id="link-105" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-105', 'Chapter', 'link-82');">Chapter</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">,</tt> </tt>
<a name="L164"></a><tt class="py-lineno"> 164</tt>  <tt class="py-line">                        <tt id="link-106" class="py-name"><a title="wrook.Revision.Version" class="py-name" href="#" onclick="return doclink('link-106', 'Version', 'link-101');">Version</a></tt> <tt class="py-op">=</tt> <tt class="py-name">LatestRevisionVersion</tt> <tt class="py-op">+</tt> <tt class="py-number">1</tt><tt class="py-op">,</tt> </tt>
<a name="L165"></a><tt class="py-lineno"> 165</tt>  <tt class="py-line">                        <tt id="link-107" class="py-name" targets="Variable wrook.Message.Text=wrook.Message-class.html#Text,Variable wrook.Revision.Text=wrook.Revision-class.html#Text"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-107', 'Text', 'link-107');">Text</a></tt> <tt class="py-op">=</tt> <tt class="py-name">text</tt> </tt>
<a name="L166"></a><tt class="py-lineno"> 166</tt>  <tt class="py-line">                        <tt class="py-op">)</tt> </tt>
<a name="L167"></a><tt class="py-lineno"> 167</tt>  <tt class="py-line">                <tt class="py-name">revision</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L168"></a><tt class="py-lineno"> 168</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L169"></a><tt class="py-lineno"> 169</tt>  <tt class="py-line">         </tt>
<a name="Chapter.getLatestRevision"></a><div id="Chapter.getLatestRevision-def"><a name="L170"></a><tt class="py-lineno"> 170</tt> <a class="py-toggle" href="#" id="Chapter.getLatestRevision-toggle" onclick="return toggle('Chapter.getLatestRevision');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Chapter-class.html#getLatestRevision">getLatestRevision</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Chapter.getLatestRevision-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Chapter.getLatestRevision-expanded"><a name="L171"></a><tt class="py-lineno"> 171</tt>  <tt class="py-line">                <tt class="py-name">latest</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-108" class="py-name" targets="Variable wrook.Chapter.Revisions=wrook.Chapter-class.html#Revisions"><a title="wrook.Chapter.Revisions" class="py-name" href="#" onclick="return doclink('link-108', 'Revisions', 'link-108');">Revisions</a></tt><tt class="py-op">.</tt><tt class="py-name">order</tt><tt class="py-op">(</tt><tt class="py-string">"-Created"</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
<a name="L172"></a><tt class="py-lineno"> 172</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">latest</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L173"></a><tt class="py-lineno"> 173</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-name">None</tt> </tt>
<a name="L174"></a><tt class="py-lineno"> 174</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L175"></a><tt class="py-lineno"> 175</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-name">latest</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt> </tt>
</div><a name="L176"></a><tt class="py-lineno"> 176</tt>  <tt class="py-line"> </tt>
<a name="Chapter.getLatestPublishedRevision"></a><div id="Chapter.getLatestPublishedRevision-def"><a name="L177"></a><tt class="py-lineno"> 177</tt> <a class="py-toggle" href="#" id="Chapter.getLatestPublishedRevision-toggle" onclick="return toggle('Chapter.getLatestPublishedRevision');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Chapter-class.html#getLatestPublishedRevision">getLatestPublishedRevision</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Chapter.getLatestPublishedRevision-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Chapter.getLatestPublishedRevision-expanded"><a name="L178"></a><tt class="py-lineno"> 178</tt>  <tt class="py-line">                <tt class="py-name">latest</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-109" class="py-name"><a title="wrook.Chapter.Revisions" class="py-name" href="#" onclick="return doclink('link-109', 'Revisions', 'link-108');">Revisions</a></tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"isPublished"</tt><tt class="py-op">,</tt> <tt class="py-name">True</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">order</tt><tt class="py-op">(</tt><tt class="py-string">"-Created"</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
<a name="L179"></a><tt class="py-lineno"> 179</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">latest</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L180"></a><tt class="py-lineno"> 180</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-name">None</tt> </tt>
<a name="L181"></a><tt class="py-lineno"> 181</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L182"></a><tt class="py-lineno"> 182</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-name">latest</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt> </tt>
</div><a name="L183"></a><tt class="py-lineno"> 183</tt>  <tt class="py-line"> </tt>
<a name="Chapter.setBookmark"></a><div id="Chapter.setBookmark-def"><a name="L184"></a><tt class="py-lineno"> 184</tt> <a class="py-toggle" href="#" id="Chapter.setBookmark-toggle" onclick="return toggle('Chapter.setBookmark');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Chapter-class.html#setBookmark">setBookmark</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">member</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Chapter.setBookmark-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Chapter.setBookmark-expanded"><a name="L185"></a><tt class="py-lineno"> 185</tt>  <tt class="py-line">                <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt> </tt>
<a name="L186"></a><tt class="py-lineno"> 186</tt>  <tt class="py-line">                <tt class="py-name">bookmarks</tt> <tt class="py-op">=</tt> <tt id="link-110" class="py-name"><a title="wrook.Bookmark" class="py-name" href="#" onclick="return doclink('link-110', 'Bookmark', 'link-85');">Bookmark</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Reader ="</tt><tt class="py-op">,</tt> <tt class="py-name">member</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Book ="</tt><tt class="py-op">,</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-111" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-111', 'Book', 'link-87');">Book</a></tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">999</tt><tt class="py-op">)</tt> </tt>
<a name="L187"></a><tt class="py-lineno"> 187</tt>  <tt class="py-line">                <tt class="py-comment"># If this is a first read, a story is posted</tt> </tt>
<a name="L188"></a><tt class="py-lineno"> 188</tt>  <tt class="py-line"><tt class="py-comment"></tt>                <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">bookmarks</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt>  </tt>
<a name="L189"></a><tt class="py-lineno"> 189</tt>  <tt class="py-line">                        <tt class="py-name">story</tt> <tt class="py-op">=</tt> <tt id="link-112" class="py-name" targets="Class wrook.StoryMemberStartReadingBook=wrook.StoryMemberStartReadingBook-class.html"><a title="wrook.StoryMemberStartReadingBook" class="py-name" href="#" onclick="return doclink('link-112', 'StoryMemberStartReadingBook', 'link-112');">StoryMemberStartReadingBook</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L190"></a><tt class="py-lineno"> 190</tt>  <tt class="py-line">                        <tt class="py-name">occurence</tt> <tt class="py-op">=</tt> <tt class="py-name">story</tt><tt class="py-op">.</tt><tt id="link-113" class="py-name" targets="Method feathers.stories.Story.createOccurence()=feathers.stories.Story-class.html#createOccurence"><a title="feathers.stories.Story.createOccurence" class="py-name" href="#" onclick="return doclink('link-113', 'createOccurence', 'link-113');">createOccurence</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L191"></a><tt class="py-lineno"> 191</tt>  <tt class="py-line">                                <tt class="py-string">"member"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">,</tt> </tt>
<a name="L192"></a><tt class="py-lineno"> 192</tt>  <tt class="py-line">                                <tt class="py-string">"book"</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-114" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-114', 'Book', 'link-87');">Book</a></tt> </tt>
<a name="L193"></a><tt class="py-lineno"> 193</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L194"></a><tt class="py-lineno"> 194</tt>  <tt class="py-line">                        <tt class="py-name">occurence</tt><tt class="py-op">.</tt><tt id="link-115" class="py-name" targets="Method feathers.feed.Story.publish()=feathers.feed.Story-class.html#publish,Method feathers.feed.StoryOccurence.publish()=feathers.feed.StoryOccurence-class.html#publish,Method feathers.stories.StoryOccurence.publish()=feathers.stories.StoryOccurence-class.html#publish"><a title="feathers.feed.Story.publish
feathers.feed.StoryOccurence.publish
feathers.stories.StoryOccurence.publish" class="py-name" href="#" onclick="return doclink('link-115', 'publish', 'link-115');">publish</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L195"></a><tt class="py-lineno"> 195</tt>  <tt class="py-line"> </tt>
<a name="L196"></a><tt class="py-lineno"> 196</tt>  <tt class="py-line">                <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-name">bookmarks</tt><tt class="py-op">)</tt> </tt>
<a name="L197"></a><tt class="py-lineno"> 197</tt>  <tt class="py-line">                <tt class="py-name">bookmark</tt> <tt class="py-op">=</tt> <tt id="link-116" class="py-name"><a title="wrook.Bookmark" class="py-name" href="#" onclick="return doclink('link-116', 'Bookmark', 'link-85');">Bookmark</a></tt><tt class="py-op">(</tt> </tt>
<a name="L198"></a><tt class="py-lineno"> 198</tt>  <tt class="py-line">                        <tt id="link-117" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-117', 'Chapter', 'link-82');">Chapter</a></tt> <tt class="py-op">=</tt> <tt class="py-name">chapter</tt><tt class="py-op">,</tt> </tt>
<a name="L199"></a><tt class="py-lineno"> 199</tt>  <tt class="py-line">                        <tt id="link-118" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-118', 'Book', 'link-87');">Book</a></tt> <tt class="py-op">=</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-119" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-119', 'Book', 'link-87');">Book</a></tt><tt class="py-op">,</tt> </tt>
<a name="L200"></a><tt class="py-lineno"> 200</tt>  <tt class="py-line">                        <tt id="link-120" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-120', 'Author', 'link-48');">Author</a></tt> <tt class="py-op">=</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-121" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-121', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-122" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-122', 'Author', 'link-48');">Author</a></tt><tt class="py-op">,</tt> </tt>
<a name="L201"></a><tt class="py-lineno"> 201</tt>  <tt class="py-line">                        <tt id="link-123" class="py-name" targets="Variable wrook.Bookmark.Reader=wrook.Bookmark-class.html#Reader"><a title="wrook.Bookmark.Reader" class="py-name" href="#" onclick="return doclink('link-123', 'Reader', 'link-123');">Reader</a></tt> <tt class="py-op">=</tt> <tt class="py-name">member</tt> </tt>
<a name="L202"></a><tt class="py-lineno"> 202</tt>  <tt class="py-line">                <tt class="py-op">)</tt> </tt>
<a name="L203"></a><tt class="py-lineno"> 203</tt>  <tt class="py-line">                <tt class="py-name">bookmark</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L204"></a><tt class="py-lineno"> 204</tt>  <tt class="py-line">                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-124" class="py-name" targets="Variable feathers.membership.Member.isReader=feathers.membership.Member-class.html#isReader"><a title="feathers.membership.Member.isReader" class="py-name" href="#" onclick="return doclink('link-124', 'isReader', 'link-124');">isReader</a></tt> <tt class="py-op">=</tt> <tt class="py-name">True</tt> </tt>
<a name="L205"></a><tt class="py-lineno"> 205</tt>  <tt class="py-line">                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L206"></a><tt class="py-lineno"> 206</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">chapter</tt> </tt>
</div><a name="L207"></a><tt class="py-lineno"> 207</tt>  <tt class="py-line"> </tt>
<a name="Chapter.nextChapter"></a><div id="Chapter.nextChapter-def"><a name="L208"></a><tt class="py-lineno"> 208</tt> <a class="py-toggle" href="#" id="Chapter.nextChapter-toggle" onclick="return toggle('Chapter.nextChapter');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Chapter-class.html#nextChapter">nextChapter</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Chapter.nextChapter-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Chapter.nextChapter-expanded"><a name="L209"></a><tt class="py-lineno"> 209</tt>  <tt class="py-line">                <tt class="py-comment">#chapters = self.Book.Chapters()</tt> </tt>
<a name="L210"></a><tt class="py-lineno"> 210</tt>  <tt class="py-line"><tt class="py-comment"></tt>                <tt class="py-name">chapters</tt> <tt class="py-op">=</tt> <tt id="link-125" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-125', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Book ="</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-126" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-126', 'Book', 'link-87');">Book</a></tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">999</tt><tt class="py-op">)</tt> </tt>
<a name="L211"></a><tt class="py-lineno"> 211</tt>  <tt class="py-line">                <tt class="py-name">i</tt> <tt class="py-op">=</tt> <tt class="py-number">0</tt> </tt>
<a name="L212"></a><tt class="py-lineno"> 212</tt>  <tt class="py-line">                <tt class="py-keyword">for</tt> <tt class="py-name">chapter</tt> <tt class="py-keyword">in</tt> <tt class="py-name">chapters</tt><tt class="py-op">:</tt> </tt>
<a name="L213"></a><tt class="py-lineno"> 213</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L214"></a><tt class="py-lineno"> 214</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">i</tt><tt class="py-op">+</tt><tt class="py-number">1</tt> <tt class="py-op">&lt;</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">chapters</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L215"></a><tt class="py-lineno"> 215</tt>  <tt class="py-line">                                        <tt class="py-keyword">return</tt> <tt class="py-name">chapters</tt><tt class="py-op">[</tt><tt class="py-name">i</tt><tt class="py-op">+</tt><tt class="py-number">1</tt><tt class="py-op">]</tt> </tt>
<a name="L216"></a><tt class="py-lineno"> 216</tt>  <tt class="py-line">                        <tt class="py-name">i</tt><tt class="py-op">=</tt><tt class="py-name">i</tt><tt class="py-op">+</tt><tt class="py-number">1</tt> </tt>
</div><a name="L217"></a><tt class="py-lineno"> 217</tt>  <tt class="py-line"> </tt>
<a name="Chapter.previousChapter"></a><div id="Chapter.previousChapter-def"><a name="L218"></a><tt class="py-lineno"> 218</tt> <a class="py-toggle" href="#" id="Chapter.previousChapter-toggle" onclick="return toggle('Chapter.previousChapter');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Chapter-class.html#previousChapter">previousChapter</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Chapter.previousChapter-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Chapter.previousChapter-expanded"><a name="L219"></a><tt class="py-lineno"> 219</tt>  <tt class="py-line">                <tt class="py-comment">#chapters = self.Book.Chapters()</tt> </tt>
<a name="L220"></a><tt class="py-lineno"> 220</tt>  <tt class="py-line"><tt class="py-comment"></tt>                <tt class="py-name">chapters</tt> <tt class="py-op">=</tt> <tt id="link-127" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-127', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Book ="</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-128" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-128', 'Book', 'link-87');">Book</a></tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">999</tt><tt class="py-op">)</tt> </tt>
<a name="L221"></a><tt class="py-lineno"> 221</tt>  <tt class="py-line">                <tt class="py-name">i</tt> <tt class="py-op">=</tt> <tt class="py-number">0</tt> </tt>
<a name="L222"></a><tt class="py-lineno"> 222</tt>  <tt class="py-line">                <tt class="py-keyword">for</tt> <tt class="py-name">chapter</tt> <tt class="py-keyword">in</tt> <tt class="py-name">chapters</tt><tt class="py-op">:</tt> </tt>
<a name="L223"></a><tt class="py-lineno"> 223</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L224"></a><tt class="py-lineno"> 224</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">i</tt> <tt class="py-op">&gt;</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L225"></a><tt class="py-lineno"> 225</tt>  <tt class="py-line">                                        <tt class="py-keyword">return</tt> <tt class="py-name">chapters</tt><tt class="py-op">[</tt><tt class="py-name">i</tt><tt class="py-op">-</tt><tt class="py-number">1</tt><tt class="py-op">]</tt> </tt>
<a name="L226"></a><tt class="py-lineno"> 226</tt>  <tt class="py-line">                        <tt class="py-name">i</tt><tt class="py-op">=</tt><tt class="py-name">i</tt><tt class="py-op">+</tt><tt class="py-number">1</tt> </tt>
</div></div><a name="L227"></a><tt class="py-lineno"> 227</tt>  <tt class="py-line"> </tt>
<a name="ChapterForm"></a><div id="ChapterForm-def"><a name="L228"></a><tt class="py-lineno"> 228</tt> <a class="py-toggle" href="#" id="ChapterForm-toggle" onclick="return toggle('ChapterForm');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.ChapterForm-class.html">ChapterForm</a><tt class="py-op">(</tt><tt class="py-base-class">djangoforms</tt><tt class="py-op">.</tt><tt class="py-base-class">ModelForm</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="ChapterForm-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="ChapterForm-expanded"><a name="ChapterForm.Meta"></a><div id="ChapterForm.Meta-def"><a name="L229"></a><tt class="py-lineno"> 229</tt> <a class="py-toggle" href="#" id="ChapterForm.Meta-toggle" onclick="return toggle('ChapterForm.Meta');">-</a><tt class="py-line">        <tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.ChapterForm.Meta-class.html">Meta</a><tt class="py-op">:</tt> </tt>
</div><div id="ChapterForm.Meta-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="ChapterForm.Meta-expanded"><a name="L230"></a><tt class="py-lineno"> 230</tt>  <tt class="py-line">                <tt class="py-name">model</tt> <tt class="py-op">=</tt> <tt id="link-129" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-129', 'Chapter', 'link-82');">Chapter</a></tt> </tt>
<a name="L231"></a><tt class="py-lineno"> 231</tt>  <tt class="py-line">                <tt id="link-130" class="py-name"><a title="feathers.customize.ThemeSimpleForm.Meta.fields
feathers.membership.InviteForm.Meta.fields
wrook.BookForm.Meta.fields
wrook.BookLicenseForm.Meta.fields
wrook.ChapterForm.Meta.fields
wrook.ChapterFormForCreate.Meta.fields
wrook.CoverForm.Meta.fields" class="py-name" href="#" onclick="return doclink('link-130', 'fields', 'link-88');">fields</a></tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-string">"Name"</tt><tt class="py-op">,</tt> <tt class="py-string">"Title"</tt><tt class="py-op">,</tt> <tt class="py-string">"Stage"</tt><tt class="py-op">,</tt> <tt class="py-string">"Synopsis"</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L232"></a><tt class="py-lineno"> 232</tt>  <tt class="py-line"> </tt>
<a name="ChapterFormForCreate"></a><div id="ChapterFormForCreate-def"><a name="L233"></a><tt class="py-lineno"> 233</tt> <a class="py-toggle" href="#" id="ChapterFormForCreate-toggle" onclick="return toggle('ChapterFormForCreate');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.ChapterFormForCreate-class.html">ChapterFormForCreate</a><tt class="py-op">(</tt><tt class="py-base-class">djangoforms</tt><tt class="py-op">.</tt><tt class="py-base-class">ModelForm</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="ChapterFormForCreate-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="ChapterFormForCreate-expanded"><a name="ChapterFormForCreate.Meta"></a><div id="ChapterFormForCreate.Meta-def"><a name="L234"></a><tt class="py-lineno"> 234</tt> <a class="py-toggle" href="#" id="ChapterFormForCreate.Meta-toggle" onclick="return toggle('ChapterFormForCreate.Meta');">-</a><tt class="py-line">        <tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.ChapterFormForCreate.Meta-class.html">Meta</a><tt class="py-op">:</tt> </tt>
</div><div id="ChapterFormForCreate.Meta-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="ChapterFormForCreate.Meta-expanded"><a name="L235"></a><tt class="py-lineno"> 235</tt>  <tt class="py-line">                <tt class="py-name">model</tt> <tt class="py-op">=</tt> <tt id="link-131" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-131', 'Chapter', 'link-82');">Chapter</a></tt> </tt>
<a name="L236"></a><tt class="py-lineno"> 236</tt>  <tt class="py-line">                <tt id="link-132" class="py-name"><a title="feathers.customize.ThemeSimpleForm.Meta.fields
feathers.membership.InviteForm.Meta.fields
wrook.BookForm.Meta.fields
wrook.BookLicenseForm.Meta.fields
wrook.ChapterForm.Meta.fields
wrook.ChapterFormForCreate.Meta.fields
wrook.CoverForm.Meta.fields" class="py-name" href="#" onclick="return doclink('link-132', 'fields', 'link-88');">fields</a></tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-string">"Name"</tt><tt class="py-op">,</tt> <tt class="py-string">"Title"</tt><tt class="py-op">,</tt> <tt class="py-string">"Stage"</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L237"></a><tt class="py-lineno"> 237</tt>  <tt class="py-line"> </tt>
<a name="Revision"></a><div id="Revision-def"><a name="L238"></a><tt class="py-lineno"> 238</tt> <a class="py-toggle" href="#" id="Revision-toggle" onclick="return toggle('Revision');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Revision-class.html">Revision</a><tt class="py-op">(</tt><tt class="py-base-class">db</tt><tt class="py-op">.</tt><tt class="py-base-class">Model</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Revision-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Revision-expanded"><a name="L239"></a><tt class="py-lineno"> 239</tt>  <tt class="py-line">        <tt id="link-133" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-133', 'Book', 'link-87');">Book</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-134" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-134', 'Book', 'link-87');">Book</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"ChapterRevisions"</tt><tt class="py-op">)</tt> </tt>
<a name="L240"></a><tt class="py-lineno"> 240</tt>  <tt class="py-line">        <tt id="link-135" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-135', 'Chapter', 'link-82');">Chapter</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-136" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-136', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"Revisions"</tt><tt class="py-op">)</tt> </tt>
<a name="L241"></a><tt class="py-lineno"> 241</tt>  <tt class="py-line">        <tt id="link-137" class="py-name"><a title="wrook.Revision.Version" class="py-name" href="#" onclick="return doclink('link-137', 'Version', 'link-101');">Version</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">IntegerProperty</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L242"></a><tt class="py-lineno"> 242</tt>  <tt class="py-line">        <tt id="link-138" class="py-name" targets="Variable wrook.Revision.WordCount=wrook.Revision-class.html#WordCount"><a title="wrook.Revision.WordCount" class="py-name" href="#" onclick="return doclink('link-138', 'WordCount', 'link-138');">WordCount</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">IntegerProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-number">0</tt><tt class="py-op">)</tt> </tt>
<a name="L243"></a><tt class="py-lineno"> 243</tt>  <tt class="py-line">        <tt id="link-139" class="py-name"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-139', 'Text', 'link-107');">Text</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">TextProperty</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L244"></a><tt class="py-lineno"> 244</tt>  <tt class="py-line">        <tt id="link-140" class="py-name"><a title="wrook.Book.NoteFromAuthor
wrook.Revision.NoteFromAuthor" class="py-name" href="#" onclick="return doclink('link-140', 'NoteFromAuthor', 'link-56');">NoteFromAuthor</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">TextProperty</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L245"></a><tt class="py-lineno"> 245</tt>  <tt class="py-line">        <tt id="link-141" class="py-name"><a title="feathers.customize.Theme.Created
feathers.labs.Feature.Created
feathers.labs.Release.Created
feathers.labs.Vote.Created
feathers.membership.Member.Created
wrook.Chapter.Created
wrook.Cover.Created
wrook.Moment.Created
wrook.Revision.Created" class="py-name" href="#" onclick="return doclink('link-141', 'Created', 'link-32');">Created</a></tt> <tt class="py-op">=</tt>  <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">DateTimeProperty</tt><tt class="py-op">(</tt><tt class="py-name">auto_now_add</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L246"></a><tt class="py-lineno"> 246</tt>  <tt class="py-line">        <tt id="link-142" class="py-name" targets="Variable wrook.Revision.isPublished=wrook.Revision-class.html#isPublished"><a title="wrook.Revision.isPublished" class="py-name" href="#" onclick="return doclink('link-142', 'isPublished', 'link-142');">isPublished</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">BooleanProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt> <tt class="py-op">=</tt> <tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L247"></a><tt class="py-lineno"> 247</tt>  <tt class="py-line"> </tt>
<a name="Revision.calculateWordCount"></a><div id="Revision.calculateWordCount-def"><a name="L248"></a><tt class="py-lineno"> 248</tt> <a class="py-toggle" href="#" id="Revision.calculateWordCount-toggle" onclick="return toggle('Revision.calculateWordCount');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Revision-class.html#calculateWordCount">calculateWordCount</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Revision.calculateWordCount-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Revision.calculateWordCount-expanded"><a name="L249"></a><tt class="py-lineno"> 249</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-143" class="py-name"><a title="wrook.Revision.WordCount" class="py-name" href="#" onclick="return doclink('link-143', 'WordCount', 'link-138');">WordCount</a></tt><tt class="py-op">:</tt> <tt class="py-keyword">return</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-144" class="py-name"><a title="wrook.Revision.WordCount" class="py-name" href="#" onclick="return doclink('link-144', 'WordCount', 'link-138');">WordCount</a></tt> </tt>
<a name="L250"></a><tt class="py-lineno"> 250</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L251"></a><tt class="py-lineno"> 251</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-145" class="py-name"><a title="wrook.Revision.WordCount" class="py-name" href="#" onclick="return doclink('link-145', 'WordCount', 'link-138');">WordCount</a></tt> <tt class="py-op">=</tt> <tt id="link-146" class="py-name"><a title="feathers.utils" class="py-name" href="#" onclick="return doclink('link-146', 'utils', 'link-1');">utils</a></tt><tt class="py-op">.</tt><tt id="link-147" class="py-name"><a title="feathers.utils.wordCount
wrook.Book.wordCount" class="py-name" href="#" onclick="return doclink('link-147', 'wordCount', 'link-63');">wordCount</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-148" class="py-name"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-148', 'Text', 'link-107');">Text</a></tt><tt class="py-op">)</tt> </tt>
<a name="L252"></a><tt class="py-lineno"> 252</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-149" class="py-name"><a title="wrook.Revision.WordCount" class="py-name" href="#" onclick="return doclink('link-149', 'WordCount', 'link-138');">WordCount</a></tt> </tt>
</div><a name="L253"></a><tt class="py-lineno"> 253</tt>  <tt class="py-line"> </tt>
<a name="Revision.markdownText"></a><div id="Revision.markdownText-def"><a name="L254"></a><tt class="py-lineno"> 254</tt> <a class="py-toggle" href="#" id="Revision.markdownText-toggle" onclick="return toggle('Revision.markdownText');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Revision-class.html#markdownText">markdownText</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Revision.markdownText-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Revision.markdownText-expanded"><a name="L255"></a><tt class="py-lineno"> 255</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">markdown2</tt><tt class="py-op">.</tt><tt class="py-name">markdown</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-150" class="py-name"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-150', 'Text', 'link-107');">Text</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L256"></a><tt class="py-lineno"> 256</tt>  <tt class="py-line"> </tt>
<a name="Revision.diffFromLatest"></a><div id="Revision.diffFromLatest-def"><a name="L257"></a><tt class="py-lineno"> 257</tt> <a class="py-toggle" href="#" id="Revision.diffFromLatest-toggle" onclick="return toggle('Revision.diffFromLatest');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Revision-class.html#diffFromLatest">diffFromLatest</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Revision.diffFromLatest-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Revision.diffFromLatest-expanded"><a name="L258"></a><tt class="py-lineno"> 258</tt>  <tt class="py-line">                <tt class="py-name">latest</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-151" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-151', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt id="link-152" class="py-name"><a title="wrook.Chapter.getLatestRevision" class="py-name" href="#" onclick="return doclink('link-152', 'getLatestRevision', 'link-69');">getLatestRevision</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L259"></a><tt class="py-lineno"> 259</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">latest</tt><tt class="py-op">.</tt><tt class="py-name">key</tt> <tt class="py-op">!=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">:</tt> </tt>
<a name="L260"></a><tt class="py-lineno"> 260</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-name">diff</tt><tt class="py-op">.</tt><tt class="py-name">textDiff</tt><tt class="py-op">(</tt><tt class="py-name">latest</tt><tt class="py-op">.</tt><tt id="link-153" class="py-name"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-153', 'Text', 'link-107');">Text</a></tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-154" class="py-name"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-154', 'Text', 'link-107');">Text</a></tt><tt class="py-op">)</tt> </tt>
<a name="L261"></a><tt class="py-lineno"> 261</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L262"></a><tt class="py-lineno"> 262</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-155" class="py-name"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-155', 'Text', 'link-107');">Text</a></tt> </tt>
</div><a name="L263"></a><tt class="py-lineno"> 263</tt>  <tt class="py-line">                         </tt>
<a name="Revision.diffFromPrevious"></a><div id="Revision.diffFromPrevious-def"><a name="L264"></a><tt class="py-lineno"> 264</tt> <a class="py-toggle" href="#" id="Revision.diffFromPrevious-toggle" onclick="return toggle('Revision.diffFromPrevious');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Revision-class.html#diffFromPrevious">diffFromPrevious</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Revision.diffFromPrevious-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Revision.diffFromPrevious-expanded"><a name="L265"></a><tt class="py-lineno"> 265</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-156" class="py-name"><a title="wrook.Revision.Version" class="py-name" href="#" onclick="return doclink('link-156', 'Version', 'link-101');">Version</a></tt> <tt class="py-op">&gt;</tt> <tt class="py-number">1</tt><tt class="py-op">:</tt> </tt>
<a name="L266"></a><tt class="py-lineno"> 266</tt>  <tt class="py-line">                        <tt class="py-name">previousRevision</tt> <tt class="py-op">=</tt> <tt id="link-157" class="py-name"><a title="wrook.Revision" class="py-name" href="#" onclick="return doclink('link-157', 'Revision', 'link-83');">Revision</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Chapter ="</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-158" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-158', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Version ="</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-159" class="py-name"><a title="wrook.Revision.Version" class="py-name" href="#" onclick="return doclink('link-159', 'Version', 'link-101');">Version</a></tt><tt class="py-op">-</tt><tt class="py-number">1</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">)</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt>  </tt>
<a name="L267"></a><tt class="py-lineno"> 267</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-name">diff</tt><tt class="py-op">.</tt><tt class="py-name">textDiff</tt><tt class="py-op">(</tt><tt class="py-name">previousRevision</tt><tt class="py-op">.</tt><tt id="link-160" class="py-name"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-160', 'Text', 'link-107');">Text</a></tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-161" class="py-name"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-161', 'Text', 'link-107');">Text</a></tt><tt class="py-op">)</tt> </tt>
<a name="L268"></a><tt class="py-lineno"> 268</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L269"></a><tt class="py-lineno"> 269</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-162" class="py-name"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-162', 'Text', 'link-107');">Text</a></tt> </tt>
</div></div><a name="L270"></a><tt class="py-lineno"> 270</tt>  <tt class="py-line"> </tt>
<a name="Bookmark"></a><div id="Bookmark-def"><a name="L271"></a><tt class="py-lineno"> 271</tt> <a class="py-toggle" href="#" id="Bookmark-toggle" onclick="return toggle('Bookmark');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Bookmark-class.html">Bookmark</a><tt class="py-op">(</tt><tt class="py-base-class">db</tt><tt class="py-op">.</tt><tt class="py-base-class">Model</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Bookmark-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Bookmark-expanded"><a name="L272"></a><tt class="py-lineno"> 272</tt>  <tt class="py-line">        <tt id="link-163" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-163', 'Chapter', 'link-82');">Chapter</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-164" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-164', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"Bookmarks"</tt><tt class="py-op">)</tt> </tt>
<a name="L273"></a><tt class="py-lineno"> 273</tt>  <tt class="py-line">        <tt id="link-165" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-165', 'Book', 'link-87');">Book</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-166" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-166', 'Book', 'link-87');">Book</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"Bookmarks"</tt><tt class="py-op">)</tt> </tt>
<a name="L274"></a><tt class="py-lineno"> 274</tt>  <tt class="py-line">        <tt id="link-167" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-167', 'Author', 'link-48');">Author</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-168" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-168', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-169" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-169', 'Member', 'link-44');">Member</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"ReaderBookmarks"</tt><tt class="py-op">)</tt> </tt>
<a name="L275"></a><tt class="py-lineno"> 275</tt>  <tt class="py-line">        <tt id="link-170" class="py-name"><a title="wrook.Bookmark.Reader" class="py-name" href="#" onclick="return doclink('link-170', 'Reader', 'link-123');">Reader</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-171" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-171', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-172" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-172', 'Member', 'link-44');">Member</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"Bookmarks"</tt><tt class="py-op">)</tt> </tt>
<a name="L276"></a><tt class="py-lineno"> 276</tt>  <tt class="py-line">        <tt id="link-173" class="py-name" targets="Variable wrook.Bookmark.When=wrook.Bookmark-class.html#When"><a title="wrook.Bookmark.When" class="py-name" href="#" onclick="return doclink('link-173', 'When', 'link-173');">When</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">DateTimeProperty</tt><tt class="py-op">(</tt><tt class="py-name">auto_now_add</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
</div><a name="L277"></a><tt class="py-lineno"> 277</tt>  <tt class="py-line"> </tt>
<a name="L278"></a><tt class="py-lineno"> 278</tt>  <tt class="py-line"><tt class="py-comment">#Refactor: Replace with the Talk module</tt> </tt>
<a name="Message"></a><div id="Message-def"><a name="L279"></a><tt class="py-lineno"> 279</tt> <a class="py-toggle" href="#" id="Message-toggle" onclick="return toggle('Message');">-</a><tt class="py-line"><tt class="py-comment"></tt><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Message-class.html">Message</a><tt class="py-op">(</tt><tt class="py-base-class">db</tt><tt class="py-op">.</tt><tt class="py-base-class">Model</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Message-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Message-expanded"><a name="L280"></a><tt class="py-lineno"> 280</tt>  <tt class="py-line">        <tt id="link-174" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-174', 'Chapter', 'link-82');">Chapter</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-175" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-175', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"Feedback"</tt><tt class="py-op">)</tt> </tt>
<a name="L281"></a><tt class="py-lineno"> 281</tt>  <tt class="py-line">        <tt id="link-176" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-176', 'Book', 'link-87');">Book</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-177" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-177', 'Book', 'link-87');">Book</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"Feedback"</tt><tt class="py-op">)</tt> </tt>
<a name="L282"></a><tt class="py-lineno"> 282</tt>  <tt class="py-line">        <tt id="link-178" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-178', 'Author', 'link-48');">Author</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-179" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-179', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-180" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-180', 'Member', 'link-44');">Member</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"FeedbackReceived"</tt><tt class="py-op">,</tt> <tt class="py-name">required</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L283"></a><tt class="py-lineno"> 283</tt>  <tt class="py-line">        <tt id="link-181" class="py-name" targets="Variable feathers.talk.Post.From=feathers.talk.Post-class.html#From,Variable wrook.Message.From=wrook.Message-class.html#From"><a title="feathers.talk.Post.From
wrook.Message.From" class="py-name" href="#" onclick="return doclink('link-181', 'From', 'link-181');">From</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-182" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-182', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-183" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-183', 'Member', 'link-44');">Member</a></tt><tt class="py-op">,</tt> <tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"FeedbackGiven"</tt><tt class="py-op">,</tt> <tt class="py-name">required</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L284"></a><tt class="py-lineno"> 284</tt>  <tt class="py-line">        <tt id="link-184" class="py-name" targets="Variable feathers.stories.StoryPost.Topic=feathers.stories.StoryPost-class.html#Topic,Variable feathers.talk.Reply.Topic=feathers.talk.Reply-class.html#Topic,Class feathers.talk.Topic=feathers.talk.Topic-class.html,Variable wrook.Message.Topic=wrook.Message-class.html#Topic"><a title="feathers.stories.StoryPost.Topic
feathers.talk.Reply.Topic
feathers.talk.Topic
wrook.Message.Topic" class="py-name" href="#" onclick="return doclink('link-184', 'Topic', 'link-184');">Topic</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L285"></a><tt class="py-lineno"> 285</tt>  <tt class="py-line">        <tt id="link-185" class="py-name"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-185', 'Text', 'link-107');">Text</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">TextProperty</tt><tt class="py-op">(</tt><tt class="py-name">required</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L286"></a><tt class="py-lineno"> 286</tt>  <tt class="py-line">        <tt id="link-186" class="py-name" targets="Variable feathers.talk.Post.Sent=feathers.talk.Post-class.html#Sent,Variable wrook.Message.Sent=wrook.Message-class.html#Sent"><a title="feathers.talk.Post.Sent
wrook.Message.Sent" class="py-name" href="#" onclick="return doclink('link-186', 'Sent', 'link-186');">Sent</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">DateTimeProperty</tt><tt class="py-op">(</tt><tt class="py-name">auto_now_add</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L287"></a><tt class="py-lineno"> 287</tt>  <tt class="py-line">        <tt id="link-187" class="py-name" targets="Variable wrook.Message.ReplyTo=wrook.Message-class.html#ReplyTo"><a title="wrook.Message.ReplyTo" class="py-name" href="#" onclick="return doclink('link-187', 'ReplyTo', 'link-187');">ReplyTo</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">SelfReferenceProperty</tt><tt class="py-op">(</tt><tt class="py-name">collection_name</tt><tt class="py-op">=</tt><tt class="py-string">"Replies"</tt><tt class="py-op">)</tt> </tt>
<a name="L288"></a><tt class="py-lineno"> 288</tt>  <tt class="py-line">        <tt id="link-188" class="py-name" targets="Variable feathers.talk.Post.isPrivate=feathers.talk.Post-class.html#isPrivate,Variable wrook.Message.isPrivate=wrook.Message-class.html#isPrivate"><a title="feathers.talk.Post.isPrivate
wrook.Message.isPrivate" class="py-name" href="#" onclick="return doclink('link-188', 'isPrivate', 'link-188');">isPrivate</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">BooleanProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt><tt class="py-op">)</tt> <tt class="py-comment"># Only the author of the book will see this message</tt> </tt>
<a name="L289"></a><tt class="py-lineno"> 289</tt>  <tt class="py-line">        <tt id="link-189" class="py-name" targets="Variable wrook.Message.isForcedPrivate=wrook.Message-class.html#isForcedPrivate"><a title="wrook.Message.isForcedPrivate" class="py-name" href="#" onclick="return doclink('link-189', 'isForcedPrivate', 'link-189');">isForcedPrivate</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">BooleanProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt><tt class="py-op">)</tt> <tt class="py-comment"># The author has forced this message to be private</tt> </tt>
<a name="L290"></a><tt class="py-lineno"> 290</tt>  <tt class="py-line">        <tt id="link-190" class="py-name" targets="Variable wrook.Message.targetType=wrook.Message-class.html#targetType"><a title="wrook.Message.targetType" class="py-name" href="#" onclick="return doclink('link-190', 'targetType', 'link-190');">targetType</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-name">required</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">,</tt> <tt class="py-name">choices</tt><tt class="py-op">=</tt><tt class="py-name">set</tt><tt class="py-op">(</tt><tt class="py-op">[</tt><tt class="py-string">"chapter"</tt><tt class="py-op">,</tt> <tt class="py-string">"book"</tt><tt class="py-op">,</tt> <tt class="py-string">"author"</tt><tt class="py-op">]</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L291"></a><tt class="py-lineno"> 291</tt>  <tt class="py-line"> </tt>
<a name="Message.forcePrivate"></a><div id="Message.forcePrivate-def"><a name="L292"></a><tt class="py-lineno"> 292</tt> <a class="py-toggle" href="#" id="Message.forcePrivate-toggle" onclick="return toggle('Message.forcePrivate');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Message-class.html#forcePrivate">forcePrivate</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Message.forcePrivate-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Message.forcePrivate-expanded"><a name="L293"></a><tt class="py-lineno"> 293</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-191" class="py-name"><a title="feathers.talk.Post.isPrivate
wrook.Message.isPrivate" class="py-name" href="#" onclick="return doclink('link-191', 'isPrivate', 'link-188');">isPrivate</a></tt> <tt class="py-op">=</tt> <tt class="py-name">True</tt> </tt>
<a name="L294"></a><tt class="py-lineno"> 294</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-192" class="py-name"><a title="wrook.Message.isForcedPrivate" class="py-name" href="#" onclick="return doclink('link-192', 'isForcedPrivate', 'link-189');">isForcedPrivate</a></tt> <tt class="py-op">=</tt> <tt class="py-name">True</tt> </tt>
</div></div><a name="L295"></a><tt class="py-lineno"> 295</tt>  <tt class="py-line"> </tt>
<a name="CoverForm"></a><div id="CoverForm-def"><a name="L296"></a><tt class="py-lineno"> 296</tt> <a class="py-toggle" href="#" id="CoverForm-toggle" onclick="return toggle('CoverForm');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.CoverForm-class.html">CoverForm</a><tt class="py-op">(</tt><tt class="py-base-class">djangoforms</tt><tt class="py-op">.</tt><tt class="py-base-class">ModelForm</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverForm-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="CoverForm-expanded"><a name="CoverForm.Meta"></a><div id="CoverForm.Meta-def"><a name="L297"></a><tt class="py-lineno"> 297</tt> <a class="py-toggle" href="#" id="CoverForm.Meta-toggle" onclick="return toggle('CoverForm.Meta');">-</a><tt class="py-line">        <tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.CoverForm.Meta-class.html">Meta</a><tt class="py-op">:</tt> </tt>
</div><div id="CoverForm.Meta-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="CoverForm.Meta-expanded"><a name="L298"></a><tt class="py-lineno"> 298</tt>  <tt class="py-line">                <tt class="py-name">model</tt> <tt class="py-op">=</tt> <tt id="link-193" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-193', 'Cover', 'link-53');">Cover</a></tt> </tt>
<a name="L299"></a><tt class="py-lineno"> 299</tt>  <tt class="py-line">                <tt id="link-194" class="py-name"><a title="feathers.customize.ThemeSimpleForm.Meta.fields
feathers.membership.InviteForm.Meta.fields
wrook.BookForm.Meta.fields
wrook.BookLicenseForm.Meta.fields
wrook.ChapterForm.Meta.fields
wrook.ChapterFormForCreate.Meta.fields
wrook.CoverForm.Meta.fields" class="py-name" href="#" onclick="return doclink('link-194', 'fields', 'link-88');">fields</a></tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-string">"SampleTitle"</tt><tt class="py-op">,</tt> <tt class="py-string">"TitleColor"</tt><tt class="py-op">,</tt> <tt class="py-string">"isReusable"</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L300"></a><tt class="py-lineno"> 300</tt>  <tt class="py-line"> </tt>
<a name="L301"></a><tt class="py-lineno"> 301</tt>  <tt class="py-line"><tt class="py-comment">#Refactor: should be secure for admins???</tt> </tt>
<a name="CoverSetDefault"></a><div id="CoverSetDefault-def"><a name="L302"></a><tt class="py-lineno"> 302</tt> <a class="py-toggle" href="#" id="CoverSetDefault-toggle" onclick="return toggle('CoverSetDefault');">-</a><tt class="py-line"><tt class="py-comment"></tt><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.CoverSetDefault-class.html">CoverSetDefault</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverSetDefault-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="CoverSetDefault-expanded"><a name="CoverSetDefault.get"></a><div id="CoverSetDefault.get-def"><a name="L303"></a><tt class="py-lineno"> 303</tt> <a class="py-toggle" href="#" id="CoverSetDefault.get-toggle" onclick="return toggle('CoverSetDefault.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.CoverSetDefault-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverSetDefault.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="CoverSetDefault.get-expanded"><a name="L304"></a><tt class="py-lineno"> 304</tt>  <tt class="py-line">                <tt id="link-195" class="py-name" targets="Function wrook.onRequest()=wrook-module.html#onRequest"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-195', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L305"></a><tt class="py-lineno"> 305</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-196" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-196', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L306"></a><tt class="py-lineno"> 306</tt>  <tt class="py-line">                        <tt class="py-name">key</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-197" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-197', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"selected"</tt><tt class="py-op">)</tt> </tt>
<a name="L307"></a><tt class="py-lineno"> 307</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">key</tt><tt class="py-op">:</tt> </tt>
<a name="L308"></a><tt class="py-lineno"> 308</tt>  <tt class="py-line">                                <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt id="link-198" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-198', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt id="link-199" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-199', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L309"></a><tt class="py-lineno"> 309</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">cover</tt><tt class="py-op">:</tt> </tt>
<a name="L310"></a><tt class="py-lineno"> 310</tt>  <tt class="py-line">                                        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-200" class="py-name"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-200', 'AppConfig', 'link-19');">AppConfig</a></tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-201" class="py-name"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-201', 'AppConfig', 'link-19');">AppConfig</a></tt> <tt class="py-op">=</tt> <tt id="link-202" class="py-name" targets="Class wrook.WrookAppConfig=wrook.WrookAppConfig-class.html"><a title="wrook.WrookAppConfig" class="py-name" href="#" onclick="return doclink('link-202', 'WrookAppConfig', 'link-202');">WrookAppConfig</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L311"></a><tt class="py-lineno"> 311</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-203" class="py-name"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-203', 'AppConfig', 'link-19');">AppConfig</a></tt><tt class="py-op">.</tt><tt id="link-204" class="py-name"><a title="wrook.WrookAppConfig.DefaultCover" class="py-name" href="#" onclick="return doclink('link-204', 'DefaultCover', 'link-81');">DefaultCover</a></tt> <tt class="py-op">=</tt> <tt class="py-name">cover</tt> </tt>
<a name="L312"></a><tt class="py-lineno"> 312</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-205" class="py-name"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-205', 'AppConfig', 'link-19');">AppConfig</a></tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L313"></a><tt class="py-lineno"> 313</tt>  <tt class="py-line">                                        <tt class="py-name">page</tt> <tt class="py-op">=</tt> <tt id="link-206" class="py-name"><a title="feathers.proforma" class="py-name" href="#" onclick="return doclink('link-206', 'proforma', 'link-9');">proforma</a></tt><tt class="py-op">.</tt><tt id="link-207" class="py-name" targets="Class feathers.proforma.SuccessPage=feathers.proforma.SuccessPage-class.html"><a title="feathers.proforma.SuccessPage" class="py-name" href="#" onclick="return doclink('link-207', 'SuccessPage', 'link-207');">SuccessPage</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L314"></a><tt class="py-lineno"> 314</tt>  <tt class="py-line">                                        <tt class="py-name">page</tt><tt class="py-op">.</tt><tt id="link-208" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-208', 'Model', 'link-12');">Model</a></tt><tt class="py-op">=</tt><tt class="py-op">{</tt> </tt>
<a name="L315"></a><tt class="py-lineno"> 315</tt>  <tt class="py-line">                                                <tt class="py-string">"Statement"</tt><tt class="py-op">:</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"The default cover has been set!"</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L316"></a><tt class="py-lineno"> 316</tt>  <tt class="py-line">                                                <tt class="py-string">"ContinueURL"</tt><tt class="py-op">:</tt> <tt class="py-string">"/Covers/"</tt><tt class="py-op">,</tt> </tt>
<a name="L317"></a><tt class="py-lineno"> 317</tt>  <tt class="py-line">                                                <tt class="py-string">"ContinueLabel"</tt><tt class="py-op">:</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Back to the covers"</tt><tt class="py-op">)</tt><tt class="py-op">}</tt> </tt>
<a name="L318"></a><tt class="py-lineno"> 318</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-name">page</tt><tt class="py-op">.</tt><tt id="link-209" class="py-name" targets="Method feathers.proforma.ProformaPage.url()=feathers.proforma.ProformaPage-class.html#url"><a title="feathers.proforma.ProformaPage.url" class="py-name" href="#" onclick="return doclink('link-209', 'url', 'link-209');">url</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L319"></a><tt class="py-lineno"> 319</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L320"></a><tt class="py-lineno"> 320</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">500</tt><tt class="py-op">)</tt> </tt>
<a name="L321"></a><tt class="py-lineno"> 321</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-210" class="py-name" targets="Method feathers.webapp.RequestHandler.requestLogin()=feathers.webapp.RequestHandler-class.html#requestLogin"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-210', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L322"></a><tt class="py-lineno"> 322</tt>  <tt class="py-line"> </tt>
<a name="BookSetCover"></a><div id="BookSetCover-def"><a name="L323"></a><tt class="py-lineno"> 323</tt> <a class="py-toggle" href="#" id="BookSetCover-toggle" onclick="return toggle('BookSetCover');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.BookSetCover-class.html">BookSetCover</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="BookSetCover-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="BookSetCover-expanded"><a name="BookSetCover.get"></a><div id="BookSetCover.get-def"><a name="L324"></a><tt class="py-lineno"> 324</tt> <a class="py-toggle" href="#" id="BookSetCover.get-toggle" onclick="return toggle('BookSetCover.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.BookSetCover-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="BookSetCover.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="BookSetCover.get-expanded"><a name="L325"></a><tt class="py-lineno"> 325</tt>  <tt class="py-line">                <tt id="link-211" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-211', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L326"></a><tt class="py-lineno"> 326</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-212" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-212', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L327"></a><tt class="py-lineno"> 327</tt>  <tt class="py-line">                        <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-213" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-213', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-214" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-214', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L328"></a><tt class="py-lineno"> 328</tt>  <tt class="py-line">                        <tt class="py-name">selected</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-215" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-215', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"selected"</tt><tt class="py-op">)</tt> </tt>
<a name="L329"></a><tt class="py-lineno"> 329</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">selected</tt> <tt class="py-keyword">and</tt> <tt class="py-name">book</tt><tt class="py-op">:</tt> </tt>
<a name="L330"></a><tt class="py-lineno"> 330</tt>  <tt class="py-line">                                <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt id="link-216" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-216', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt id="link-217" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-217', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">selected</tt><tt class="py-op">)</tt> </tt>
<a name="L331"></a><tt class="py-lineno"> 331</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">cover</tt><tt class="py-op">:</tt> </tt>
<a name="L332"></a><tt class="py-lineno"> 332</tt>  <tt class="py-line">                                        <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-218" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-218', 'Cover', 'link-53');">Cover</a></tt> <tt class="py-op">=</tt> <tt class="py-name">cover</tt> </tt>
<a name="L333"></a><tt class="py-lineno"> 333</tt>  <tt class="py-line">                                        <tt class="py-name">book</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L334"></a><tt class="py-lineno"> 334</tt>  <tt class="py-line">                                        <tt class="py-name">page</tt> <tt class="py-op">=</tt> <tt id="link-219" class="py-name"><a title="feathers.proforma" class="py-name" href="#" onclick="return doclink('link-219', 'proforma', 'link-9');">proforma</a></tt><tt class="py-op">.</tt><tt id="link-220" class="py-name"><a title="feathers.proforma.SuccessPage" class="py-name" href="#" onclick="return doclink('link-220', 'SuccessPage', 'link-207');">SuccessPage</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L335"></a><tt class="py-lineno"> 335</tt>  <tt class="py-line">                                        <tt class="py-name">page</tt><tt class="py-op">.</tt><tt id="link-221" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-221', 'Model', 'link-12');">Model</a></tt><tt class="py-op">=</tt><tt class="py-op">{</tt> </tt>
<a name="L336"></a><tt class="py-lineno"> 336</tt>  <tt class="py-line">                                                <tt class="py-string">"Statement"</tt><tt class="py-op">:</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"The cover has been changed!"</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L337"></a><tt class="py-lineno"> 337</tt>  <tt class="py-line">                                                <tt class="py-string">"ContinueURL"</tt><tt class="py-op">:</tt> <tt class="py-string">"/Books/"</tt> <tt class="py-op">+</tt> <tt class="py-name">key</tt><tt class="py-op">,</tt> </tt>
<a name="L338"></a><tt class="py-lineno"> 338</tt>  <tt class="py-line">                                                <tt class="py-string">"ContinueLabel"</tt><tt class="py-op">:</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Back to the book"</tt><tt class="py-op">)</tt><tt class="py-op">}</tt> </tt>
<a name="L339"></a><tt class="py-lineno"> 339</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-name">page</tt><tt class="py-op">.</tt><tt id="link-222" class="py-name"><a title="feathers.proforma.ProformaPage.url" class="py-name" href="#" onclick="return doclink('link-222', 'url', 'link-209');">url</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L340"></a><tt class="py-lineno"> 340</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L341"></a><tt class="py-lineno"> 341</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">500</tt><tt class="py-op">)</tt> </tt>
<a name="L342"></a><tt class="py-lineno"> 342</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-223" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-223', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L343"></a><tt class="py-lineno"> 343</tt>  <tt class="py-line"> </tt>
<a name="CoverEdit"></a><div id="CoverEdit-def"><a name="L344"></a><tt class="py-lineno"> 344</tt> <a class="py-toggle" href="#" id="CoverEdit-toggle" onclick="return toggle('CoverEdit');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.CoverEdit-class.html">CoverEdit</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverEdit-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="CoverEdit-expanded"><a name="CoverEdit.get"></a><div id="CoverEdit.get-def"><a name="L345"></a><tt class="py-lineno"> 345</tt> <a class="py-toggle" href="#" id="CoverEdit.get-toggle" onclick="return toggle('CoverEdit.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.CoverEdit-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverEdit.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="CoverEdit.get-expanded"><a name="L346"></a><tt class="py-lineno"> 346</tt>  <tt class="py-line">                <tt id="link-224" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-224', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L347"></a><tt class="py-lineno"> 347</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-225" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-225', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L348"></a><tt class="py-lineno"> 348</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">key</tt><tt class="py-op">:</tt> <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt id="link-226" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-226', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt id="link-227" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-227', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L349"></a><tt class="py-lineno"> 349</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt id="link-228" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-228', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L350"></a><tt class="py-lineno"> 350</tt>  <tt class="py-line">                        <tt class="py-name">form</tt> <tt class="py-op">=</tt> <tt id="link-229" class="py-name" targets="Class wrook.CoverForm=wrook.CoverForm-class.html"><a title="wrook.CoverForm" class="py-name" href="#" onclick="return doclink('link-229', 'CoverForm', 'link-229');">CoverForm</a></tt><tt class="py-op">(</tt><tt class="py-name">instance</tt><tt class="py-op">=</tt><tt class="py-name">cover</tt><tt class="py-op">)</tt> </tt>
<a name="L351"></a><tt class="py-lineno"> 351</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-230" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-230', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-231" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-231', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L352"></a><tt class="py-lineno"> 352</tt>  <tt class="py-line">                                <tt class="py-string">'form'</tt><tt class="py-op">:</tt> <tt class="py-name">form</tt> </tt>
<a name="L353"></a><tt class="py-lineno"> 353</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L354"></a><tt class="py-lineno"> 354</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-232" class="py-name" targets="Method feathers.webapp.RequestHandler.render()=feathers.webapp.RequestHandler-class.html#render"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-232', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/covers-edit.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L355"></a><tt class="py-lineno"> 355</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-233" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-233', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L356"></a><tt class="py-lineno"> 356</tt>  <tt class="py-line"> </tt>
<a name="CoverEdit.post"></a><div id="CoverEdit.post-def"><a name="L357"></a><tt class="py-lineno"> 357</tt> <a class="py-toggle" href="#" id="CoverEdit.post-toggle" onclick="return toggle('CoverEdit.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.CoverEdit-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverEdit.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="CoverEdit.post-expanded"><a name="L358"></a><tt class="py-lineno"> 358</tt>  <tt class="py-line">                <tt id="link-234" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-234', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L359"></a><tt class="py-lineno"> 359</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-235" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-235', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L360"></a><tt class="py-lineno"> 360</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">key</tt><tt class="py-op">:</tt> <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt id="link-236" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-236', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt id="link-237" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-237', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L361"></a><tt class="py-lineno"> 361</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt id="link-238" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-238', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">(</tt><tt id="link-239" class="py-name"><a title="wrook.Cover.CreatedBy" class="py-name" href="#" onclick="return doclink('link-239', 'CreatedBy', 'link-42');">CreatedBy</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-240" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-240', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L362"></a><tt class="py-lineno"> 362</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-241" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-241', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"doDelete"</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L363"></a><tt class="py-lineno"> 363</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt id="link-242" class="py-name" targets="Variable feathers.membership.Member.Books=feathers.membership.Member-class.html#Books,Variable licensing.LicenseType.Books=licensing.LicenseType-class.html#Books,Class wrook.Books=wrook.Books-class.html,Variable wrook.Cover.Books=wrook.Cover-class.html#Books"><a title="feathers.membership.Member.Books
licensing.LicenseType.Books
wrook.Books
wrook.Cover.Books" class="py-name" href="#" onclick="return doclink('link-242', 'Books', 'link-242');">Books</a></tt><tt class="py-op">:</tt> </tt>
<a name="L364"></a><tt class="py-lineno"> 364</tt>  <tt class="py-line">                                        <tt class="py-comment">#Refactor: Replace this with the proforma module</tt> </tt>
<a name="L365"></a><tt class="py-lineno"> 365</tt>  <tt class="py-line"><tt class="py-comment"></tt>                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">out</tt><tt class="py-op">.</tt><tt class="py-name">write</tt><tt class="py-op">(</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"This cover is already in use by other book. It was not deleted"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L366"></a><tt class="py-lineno"> 366</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L367"></a><tt class="py-lineno"> 367</tt>  <tt class="py-line">                                        <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-name">cover</tt><tt class="py-op">)</tt> </tt>
<a name="L368"></a><tt class="py-lineno"> 368</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/Covers/"</tt><tt class="py-op">)</tt> </tt>
<a name="L369"></a><tt class="py-lineno"> 369</tt>  <tt class="py-line">                                <tt class="py-keyword">return</tt> </tt>
<a name="L370"></a><tt class="py-lineno"> 370</tt>  <tt class="py-line">                        <tt class="py-name">form</tt> <tt class="py-op">=</tt> <tt id="link-243" class="py-name"><a title="wrook.CoverForm" class="py-name" href="#" onclick="return doclink('link-243', 'CoverForm', 'link-229');">CoverForm</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt class="py-name">POST</tt><tt class="py-op">,</tt> <tt class="py-name">instance</tt><tt class="py-op">=</tt><tt class="py-name">cover</tt><tt class="py-op">)</tt> </tt>
<a name="L371"></a><tt class="py-lineno"> 371</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">form</tt><tt class="py-op">.</tt><tt class="py-name">is_valid</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L372"></a><tt class="py-lineno"> 372</tt>  <tt class="py-line">                                <tt class="py-comment"># Save the form, and redirect to the view page</tt> </tt>
<a name="L373"></a><tt class="py-lineno"> 373</tt>  <tt class="py-line"><tt class="py-comment"></tt>                                <tt class="py-name">entity</tt> <tt class="py-op">=</tt> <tt class="py-name">form</tt><tt class="py-op">.</tt><tt class="py-name">save</tt><tt class="py-op">(</tt><tt class="py-name">commit</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">)</tt> </tt>
<a name="L374"></a><tt class="py-lineno"> 374</tt>  <tt class="py-line">                                <tt class="py-name">thumbnailImageProxy</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-244" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-244', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">'thumbnailImageProxy'</tt><tt class="py-op">)</tt> </tt>
<a name="L375"></a><tt class="py-lineno"> 375</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">thumbnailImageProxy</tt><tt class="py-op">:</tt> <tt class="py-name">entity</tt><tt class="py-op">.</tt><tt id="link-245" class="py-name"><a title="wrook.Cover.ThumbnailImage" class="py-name" href="#" onclick="return doclink('link-245', 'ThumbnailImage', 'link-40');">ThumbnailImage</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">Blob</tt><tt class="py-op">(</tt><tt class="py-name">thumbnailImageProxy</tt><tt class="py-op">)</tt> </tt>
<a name="L376"></a><tt class="py-lineno"> 376</tt>  <tt class="py-line">                                <tt class="py-name">entity</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L377"></a><tt class="py-lineno"> 377</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">'/Covers/'</tt><tt class="py-op">)</tt> </tt>
<a name="L378"></a><tt class="py-lineno"> 378</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L379"></a><tt class="py-lineno"> 379</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-246" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-246', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-247" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-247', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">'form'</tt><tt class="py-op">:</tt> <tt class="py-name">form</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L380"></a><tt class="py-lineno"> 380</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-248" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-248', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/cover-edit.html"</tt><tt class="py-op">)</tt> </tt>
<a name="L381"></a><tt class="py-lineno"> 381</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-249" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-249', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L382"></a><tt class="py-lineno"> 382</tt>  <tt class="py-line"> </tt>
<a name="CoverThumbnail"></a><div id="CoverThumbnail-def"><a name="L383"></a><tt class="py-lineno"> 383</tt> <a class="py-toggle" href="#" id="CoverThumbnail-toggle" onclick="return toggle('CoverThumbnail');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.CoverThumbnail-class.html">CoverThumbnail</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverThumbnail-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="CoverThumbnail-expanded"><a name="CoverThumbnail.get"></a><div id="CoverThumbnail.get-def"><a name="L384"></a><tt class="py-lineno"> 384</tt> <a class="py-toggle" href="#" id="CoverThumbnail.get-toggle" onclick="return toggle('CoverThumbnail.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.CoverThumbnail-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverThumbnail.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="CoverThumbnail.get-expanded"><a name="L385"></a><tt class="py-lineno"> 385</tt>  <tt class="py-line">                <tt id="link-250" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-250', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L386"></a><tt class="py-lineno"> 386</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">key</tt><tt class="py-op">:</tt> <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt id="link-251" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-251', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L387"></a><tt class="py-lineno"> 387</tt>  <tt class="py-line">                <tt class="py-keyword">elif</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-252" class="py-name"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-252', 'AppConfig', 'link-19');">AppConfig</a></tt><tt class="py-op">:</tt> <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-253" class="py-name"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-253', 'AppConfig', 'link-19');">AppConfig</a></tt><tt class="py-op">.</tt><tt id="link-254" class="py-name"><a title="wrook.WrookAppConfig.DefaultCover" class="py-name" href="#" onclick="return doclink('link-254', 'DefaultCover', 'link-81');">DefaultCover</a></tt> </tt>
<a name="L388"></a><tt class="py-lineno"> 388</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt class="py-name">None</tt> </tt>
<a name="L389"></a><tt class="py-lineno"> 389</tt>  <tt class="py-line">                <tt class="py-name">paramWidth</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-255" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-255', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"width"</tt><tt class="py-op">)</tt> </tt>
<a name="L390"></a><tt class="py-lineno"> 390</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">paramWidth</tt> <tt class="py-op">==</tt> <tt class="py-string">"45"</tt><tt class="py-op">:</tt> </tt>
<a name="L391"></a><tt class="py-lineno"> 391</tt>  <tt class="py-line">                        <tt class="py-name">width</tt> <tt class="py-op">=</tt> <tt class="py-number">45</tt> </tt>
<a name="L392"></a><tt class="py-lineno"> 392</tt>  <tt class="py-line">                        <tt class="py-name">height</tt> <tt class="py-op">=</tt> <tt class="py-number">60</tt> </tt>
<a name="L393"></a><tt class="py-lineno"> 393</tt>  <tt class="py-line">                <tt class="py-keyword">elif</tt> <tt class="py-name">paramWidth</tt> <tt class="py-op">==</tt> <tt class="py-string">"90"</tt><tt class="py-op">:</tt> </tt>
<a name="L394"></a><tt class="py-lineno"> 394</tt>  <tt class="py-line">                        <tt class="py-name">width</tt> <tt class="py-op">=</tt> <tt class="py-number">90</tt> </tt>
<a name="L395"></a><tt class="py-lineno"> 395</tt>  <tt class="py-line">                        <tt class="py-name">height</tt> <tt class="py-op">=</tt> <tt class="py-number">120</tt> </tt>
<a name="L396"></a><tt class="py-lineno"> 396</tt>  <tt class="py-line">                <tt class="py-keyword">elif</tt> <tt class="py-name">paramWidth</tt> <tt class="py-op">==</tt> <tt class="py-string">"180"</tt><tt class="py-op">:</tt> </tt>
<a name="L397"></a><tt class="py-lineno"> 397</tt>  <tt class="py-line">                        <tt class="py-name">width</tt> <tt class="py-op">=</tt> <tt class="py-number">180</tt> </tt>
<a name="L398"></a><tt class="py-lineno"> 398</tt>  <tt class="py-line">                        <tt class="py-name">height</tt> <tt class="py-op">=</tt> <tt class="py-number">240</tt> </tt>
<a name="L399"></a><tt class="py-lineno"> 399</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L400"></a><tt class="py-lineno"> 400</tt>  <tt class="py-line">                        <tt class="py-name">width</tt> <tt class="py-op">=</tt> <tt class="py-number">120</tt> </tt>
<a name="L401"></a><tt class="py-lineno"> 401</tt>  <tt class="py-line">                        <tt class="py-name">height</tt> <tt class="py-op">=</tt> <tt class="py-number">160</tt> </tt>
<a name="L402"></a><tt class="py-lineno"> 402</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">cover</tt><tt class="py-op">:</tt> </tt>
<a name="L403"></a><tt class="py-lineno"> 403</tt>  <tt class="py-line">                        <tt class="py-name">imageKey</tt> <tt class="py-op">=</tt> <tt class="py-string">"coverThumb%s-%s"</tt> <tt class="py-op">%</tt> <tt class="py-op">(</tt><tt class="py-name">width</tt><tt class="py-op">,</tt> <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L404"></a><tt class="py-lineno"> 404</tt>  <tt class="py-line">                        <tt class="py-name">thumbnailData</tt> <tt class="py-op">=</tt> <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt id="link-256" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-256', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">imageKey</tt><tt class="py-op">)</tt> </tt>
<a name="L405"></a><tt class="py-lineno"> 405</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">thumbnailData</tt> <tt class="py-keyword">is</tt> <tt class="py-name">None</tt><tt class="py-op">:</tt> </tt>
<a name="L406"></a><tt class="py-lineno"> 406</tt>  <tt class="py-line">                                <tt class="py-name">image</tt> <tt class="py-op">=</tt> <tt class="py-name">images</tt><tt class="py-op">.</tt><tt class="py-name">Image</tt><tt class="py-op">(</tt><tt class="py-name">cover</tt><tt class="py-op">.</tt><tt id="link-257" class="py-name"><a title="wrook.Cover.ThumbnailImage" class="py-name" href="#" onclick="return doclink('link-257', 'ThumbnailImage', 'link-40');">ThumbnailImage</a></tt><tt class="py-op">)</tt> </tt>
<a name="L407"></a><tt class="py-lineno"> 407</tt>  <tt class="py-line">                                <tt class="py-name">image</tt><tt class="py-op">.</tt><tt class="py-name">resize</tt><tt class="py-op">(</tt><tt class="py-name">width</tt><tt class="py-op">,</tt> <tt class="py-name">height</tt><tt class="py-op">)</tt> </tt>
<a name="L408"></a><tt class="py-lineno"> 408</tt>  <tt class="py-line">                                <tt class="py-name">thumbnailData</tt> <tt class="py-op">=</tt> <tt class="py-name">image</tt><tt class="py-op">.</tt><tt class="py-name">execute_transforms</tt><tt class="py-op">(</tt><tt class="py-name">output_encoding</tt><tt class="py-op">=</tt><tt class="py-name">images</tt><tt class="py-op">.</tt><tt class="py-name">PNG</tt><tt class="py-op">)</tt> </tt>
<a name="L409"></a><tt class="py-lineno"> 409</tt>  <tt class="py-line">                                <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">add</tt><tt class="py-op">(</tt><tt class="py-name">imageKey</tt><tt class="py-op">,</tt> <tt class="py-name">thumbnailData</tt><tt class="py-op">)</tt> </tt>
<a name="L410"></a><tt class="py-lineno"> 410</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">headers</tt><tt class="py-op">[</tt><tt class="py-string">'content-type'</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-string">"image/jpg"</tt> </tt>
<a name="L411"></a><tt class="py-lineno"> 411</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">headers</tt><tt class="py-op">[</tt><tt class="py-string">'cache-control'</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-string">"public, max-age=1814400"</tt> <tt class="py-comment"># 21 day cache</tt> </tt>
<a name="L412"></a><tt class="py-lineno"> 412</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">headers</tt><tt class="py-op">[</tt><tt class="py-string">"Expires"</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-string">"Thu, 01 Dec 2014 16"</tt> </tt>
<a name="L413"></a><tt class="py-lineno"> 413</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">out</tt><tt class="py-op">.</tt><tt class="py-name">write</tt><tt class="py-op">(</tt><tt class="py-name">thumbnailData</tt><tt class="py-op">)</tt> </tt>
<a name="L414"></a><tt class="py-lineno"> 414</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L415"></a><tt class="py-lineno"> 415</tt>  <tt class="py-line"> </tt>
<a name="CoverImage"></a><div id="CoverImage-def"><a name="L416"></a><tt class="py-lineno"> 416</tt> <a class="py-toggle" href="#" id="CoverImage-toggle" onclick="return toggle('CoverImage');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.CoverImage-class.html">CoverImage</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverImage-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="CoverImage-expanded"><a name="CoverImage.get"></a><div id="CoverImage.get-def"><a name="L417"></a><tt class="py-lineno"> 417</tt> <a class="py-toggle" href="#" id="CoverImage.get-toggle" onclick="return toggle('CoverImage.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.CoverImage-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverImage.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="CoverImage.get-expanded"><a name="L418"></a><tt class="py-lineno"> 418</tt>  <tt class="py-line">                <tt id="link-258" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-258', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L419"></a><tt class="py-lineno"> 419</tt>  <tt class="py-line">                <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt id="link-259" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-259', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt id="link-260" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-260', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L420"></a><tt class="py-lineno"> 420</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">cover</tt><tt class="py-op">:</tt> </tt>
<a name="L421"></a><tt class="py-lineno"> 421</tt>  <tt class="py-line">                        <tt class="py-name">image</tt> <tt class="py-op">=</tt> <tt class="py-name">images</tt><tt class="py-op">.</tt><tt class="py-name">Image</tt><tt class="py-op">(</tt><tt class="py-name">cover</tt><tt class="py-op">.</tt><tt id="link-261" class="py-name"><a title="wrook.Cover.ThumbnailImage" class="py-name" href="#" onclick="return doclink('link-261', 'ThumbnailImage', 'link-40');">ThumbnailImage</a></tt><tt class="py-op">)</tt> </tt>
<a name="L422"></a><tt class="py-lineno"> 422</tt>  <tt class="py-line">                        <tt class="py-name">image</tt><tt class="py-op">.</tt><tt class="py-name">rotate</tt><tt class="py-op">(</tt><tt class="py-number">0</tt><tt class="py-op">)</tt> </tt>
<a name="L423"></a><tt class="py-lineno"> 423</tt>  <tt class="py-line">                        <tt class="py-name">thumbnailData</tt> <tt class="py-op">=</tt> <tt class="py-name">image</tt><tt class="py-op">.</tt><tt class="py-name">execute_transforms</tt><tt class="py-op">(</tt><tt class="py-name">output_encoding</tt><tt class="py-op">=</tt><tt class="py-name">images</tt><tt class="py-op">.</tt><tt class="py-name">PNG</tt><tt class="py-op">)</tt> </tt>
<a name="L424"></a><tt class="py-lineno"> 424</tt>  <tt class="py-line"> </tt>
<a name="L425"></a><tt class="py-lineno"> 425</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">headers</tt><tt class="py-op">[</tt><tt class="py-string">'content-type'</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-string">"image/png"</tt> </tt>
<a name="L426"></a><tt class="py-lineno"> 426</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">headers</tt><tt class="py-op">[</tt><tt class="py-string">'cache-control'</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-string">"public, max-age=600"</tt> <tt class="py-comment"># 10 minute cache</tt> </tt>
<a name="L427"></a><tt class="py-lineno"> 427</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">headers</tt><tt class="py-op">[</tt><tt class="py-string">"Expires"</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-string">"Thu, 01 Dec 2014 16"</tt> </tt>
<a name="L428"></a><tt class="py-lineno"> 428</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">out</tt><tt class="py-op">.</tt><tt class="py-name">write</tt><tt class="py-op">(</tt><tt class="py-name">thumbnailData</tt><tt class="py-op">)</tt> </tt>
<a name="L429"></a><tt class="py-lineno"> 429</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L430"></a><tt class="py-lineno"> 430</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
</div><a name="L431"></a><tt class="py-lineno"> 431</tt>  <tt class="py-line"> </tt>
<a name="CoverImage.post"></a><div id="CoverImage.post-def"><a name="L432"></a><tt class="py-lineno"> 432</tt> <a class="py-toggle" href="#" id="CoverImage.post-toggle" onclick="return toggle('CoverImage.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.CoverImage-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverImage.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="CoverImage.post-expanded"><a name="L433"></a><tt class="py-lineno"> 433</tt>  <tt class="py-line">                <tt id="link-262" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-262', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L434"></a><tt class="py-lineno"> 434</tt>  <tt class="py-line">                <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt id="link-263" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-263', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt id="link-264" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-264', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L435"></a><tt class="py-lineno"> 435</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">cover</tt><tt class="py-op">:</tt> </tt>
<a name="L436"></a><tt class="py-lineno"> 436</tt>  <tt class="py-line">                        <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt id="link-265" class="py-name"><a title="wrook.Cover.ThumbnailImage" class="py-name" href="#" onclick="return doclink('link-265', 'ThumbnailImage', 'link-40');">ThumbnailImage</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">Blob</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-266" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-266', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">'imageData'</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L437"></a><tt class="py-lineno"> 437</tt>  <tt class="py-line">                        <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L438"></a><tt class="py-lineno"> 438</tt>  <tt class="py-line">                        <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-string">"coverImage-%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L439"></a><tt class="py-lineno"> 439</tt>  <tt class="py-line">                        <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-string">"coverThumb45-%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L440"></a><tt class="py-lineno"> 440</tt>  <tt class="py-line">                        <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-string">"coverThumb90-%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L441"></a><tt class="py-lineno"> 441</tt>  <tt class="py-line">                        <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-string">"coverThumb120-%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L442"></a><tt class="py-lineno"> 442</tt>  <tt class="py-line">                        <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-string">"coverThumb180-%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L443"></a><tt class="py-lineno"> 443</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">out</tt><tt class="py-op">.</tt><tt class="py-name">write</tt><tt class="py-op">(</tt><tt class="py-string">"Done!"</tt><tt class="py-op">)</tt> </tt>
<a name="L444"></a><tt class="py-lineno"> 444</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L445"></a><tt class="py-lineno"> 445</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L446"></a><tt class="py-lineno"> 446</tt>  <tt class="py-line">                 </tt>
<a name="L447"></a><tt class="py-lineno"> 447</tt>  <tt class="py-line">         </tt>
<a name="L448"></a><tt class="py-lineno"> 448</tt>  <tt class="py-line"> </tt>
<a name="CoverList"></a><div id="CoverList-def"><a name="L449"></a><tt class="py-lineno"> 449</tt> <a class="py-toggle" href="#" id="CoverList-toggle" onclick="return toggle('CoverList');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.CoverList-class.html">CoverList</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverList-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="CoverList-expanded"><a name="CoverList.get"></a><div id="CoverList.get-def"><a name="L450"></a><tt class="py-lineno"> 450</tt> <a class="py-toggle" href="#" id="CoverList.get-toggle" onclick="return toggle('CoverList.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.CoverList-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverList.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="CoverList.get-expanded"><a name="L451"></a><tt class="py-lineno"> 451</tt>  <tt class="py-line">                <tt id="link-267" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-267', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L452"></a><tt class="py-lineno"> 452</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-268" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-268', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L453"></a><tt class="py-lineno"> 453</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-269" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-269', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-270" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-270', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L454"></a><tt class="py-lineno"> 454</tt>  <tt class="py-line">                                <tt class="py-string">'yourPrivateCovers'</tt><tt class="py-op">:</tt> <tt id="link-271" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-271', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"CreatedBy ="</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-272" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-272', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"isSharedWithEveryone ="</tt><tt class="py-op">,</tt> <tt class="py-name">False</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L455"></a><tt class="py-lineno"> 455</tt>  <tt class="py-line">                                <tt class="py-string">'yourSharedCovers'</tt><tt class="py-op">:</tt> <tt id="link-273" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-273', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"CreatedBy ="</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-274" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-274', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"isSharedWithEveryone ="</tt><tt class="py-op">,</tt> <tt class="py-name">True</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L456"></a><tt class="py-lineno"> 456</tt>  <tt class="py-line">                                <tt class="py-string">'allSharedCovers'</tt><tt class="py-op">:</tt> <tt id="link-275" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-275', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"isSharedWithEveryone ="</tt><tt class="py-op">,</tt> <tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L457"></a><tt class="py-lineno"> 457</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L458"></a><tt class="py-lineno"> 458</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-276" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-276', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/covers-list.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L459"></a><tt class="py-lineno"> 459</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-277" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-277', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L460"></a><tt class="py-lineno"> 460</tt>  <tt class="py-line"> </tt>
<a name="CoverSelect"></a><div id="CoverSelect-def"><a name="L461"></a><tt class="py-lineno"> 461</tt> <a class="py-toggle" href="#" id="CoverSelect-toggle" onclick="return toggle('CoverSelect');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.CoverSelect-class.html">CoverSelect</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverSelect-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="CoverSelect-expanded"><a name="CoverSelect.get"></a><div id="CoverSelect.get-def"><a name="L462"></a><tt class="py-lineno"> 462</tt> <a class="py-toggle" href="#" id="CoverSelect.get-toggle" onclick="return toggle('CoverSelect.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.CoverSelect-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverSelect.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="CoverSelect.get-expanded"><a name="L463"></a><tt class="py-lineno"> 463</tt>  <tt class="py-line">                <tt id="link-278" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-278', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L464"></a><tt class="py-lineno"> 464</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-279" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-279', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L465"></a><tt class="py-lineno"> 465</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-280" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-280', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-281" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-281', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L466"></a><tt class="py-lineno"> 466</tt>  <tt class="py-line">                                <tt class="py-string">'usage'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-282" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-282', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"usage"</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L467"></a><tt class="py-lineno"> 467</tt>  <tt class="py-line">                                <tt class="py-string">'redirect'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-283" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-283', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"redirect"</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L468"></a><tt class="py-lineno"> 468</tt>  <tt class="py-line">                                <tt class="py-string">'yourPrivateCovers'</tt><tt class="py-op">:</tt> <tt id="link-284" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-284', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"CreatedBy ="</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-285" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-285', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"isSharedWithEveryone ="</tt><tt class="py-op">,</tt> <tt class="py-name">False</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L469"></a><tt class="py-lineno"> 469</tt>  <tt class="py-line">                                <tt class="py-string">'yourSharedCovers'</tt><tt class="py-op">:</tt> <tt id="link-286" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-286', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"CreatedBy ="</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-287" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-287', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"isSharedWithEveryone ="</tt><tt class="py-op">,</tt> <tt class="py-name">True</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L470"></a><tt class="py-lineno"> 470</tt>  <tt class="py-line">                                <tt class="py-string">'allSharedCovers'</tt><tt class="py-op">:</tt> <tt id="link-288" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-288', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"isSharedWithEveryone ="</tt><tt class="py-op">,</tt> <tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L471"></a><tt class="py-lineno"> 471</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L472"></a><tt class="py-lineno"> 472</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-289" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-289', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/covers-select.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L473"></a><tt class="py-lineno"> 473</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-290" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-290', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L474"></a><tt class="py-lineno"> 474</tt>  <tt class="py-line"> </tt>
<a name="CoverView"></a><div id="CoverView-def"><a name="L475"></a><tt class="py-lineno"> 475</tt> <a class="py-toggle" href="#" id="CoverView-toggle" onclick="return toggle('CoverView');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.CoverView-class.html">CoverView</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverView-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="CoverView-expanded"><a name="CoverView.get"></a><div id="CoverView.get-def"><a name="L476"></a><tt class="py-lineno"> 476</tt> <a class="py-toggle" href="#" id="CoverView.get-toggle" onclick="return toggle('CoverView.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.CoverView-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverView.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="CoverView.get-expanded"><a name="L477"></a><tt class="py-lineno"> 477</tt>  <tt class="py-line">                <tt id="link-291" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-291', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L478"></a><tt class="py-lineno"> 478</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-292" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-292', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L479"></a><tt class="py-lineno"> 479</tt>  <tt class="py-line">                        <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt id="link-293" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-293', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt id="link-294" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-294', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L480"></a><tt class="py-lineno"> 480</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">cover</tt><tt class="py-op">:</tt> </tt>
<a name="L481"></a><tt class="py-lineno"> 481</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-295" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-295', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-296" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-296', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L482"></a><tt class="py-lineno"> 482</tt>  <tt class="py-line">                                        <tt class="py-string">'cover'</tt><tt class="py-op">:</tt> <tt class="py-name">cover</tt><tt class="py-op">,</tt> </tt>
<a name="L483"></a><tt class="py-lineno"> 483</tt>  <tt class="py-line">                                        <tt class="py-string">'picnikKey'</tt><tt class="py-op">:</tt> <tt id="link-297" class="py-name" targets="Variable wrook.picnikKey=wrook-module.html#picnikKey"><a title="wrook.picnikKey" class="py-name" href="#" onclick="return doclink('link-297', 'picnikKey', 'link-297');">picnikKey</a></tt> </tt>
<a name="L484"></a><tt class="py-lineno"> 484</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L485"></a><tt class="py-lineno"> 485</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-298" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-298', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/covers-view.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L486"></a><tt class="py-lineno"> 486</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L487"></a><tt class="py-lineno"> 487</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-299" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-299', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L488"></a><tt class="py-lineno"> 488</tt>  <tt class="py-line"> </tt>
<a name="CoverShare"></a><div id="CoverShare-def"><a name="L489"></a><tt class="py-lineno"> 489</tt> <a class="py-toggle" href="#" id="CoverShare-toggle" onclick="return toggle('CoverShare');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.CoverShare-class.html">CoverShare</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverShare-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="CoverShare-expanded"><a name="CoverShare.get"></a><div id="CoverShare.get-def"><a name="L490"></a><tt class="py-lineno"> 490</tt> <a class="py-toggle" href="#" id="CoverShare.get-toggle" onclick="return toggle('CoverShare.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.CoverShare-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverShare.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="CoverShare.get-expanded"><a name="L491"></a><tt class="py-lineno"> 491</tt>  <tt class="py-line">                <tt id="link-300" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-300', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L492"></a><tt class="py-lineno"> 492</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-301" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-301', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L493"></a><tt class="py-lineno"> 493</tt>  <tt class="py-line">                        <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt id="link-302" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-302', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L494"></a><tt class="py-lineno"> 494</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">cover</tt><tt class="py-op">:</tt> </tt>
<a name="L495"></a><tt class="py-lineno"> 495</tt>  <tt class="py-line">                                <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt id="link-303" class="py-name"><a title="feathers.customize.Theme.isSharedWithEveryone
wrook.Cover.isSharedWithEveryone" class="py-name" href="#" onclick="return doclink('link-303', 'isSharedWithEveryone', 'link-46');">isSharedWithEveryone</a></tt> <tt class="py-op">=</tt> <tt class="py-name">True</tt> </tt>
<a name="L496"></a><tt class="py-lineno"> 496</tt>  <tt class="py-line">                                <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L497"></a><tt class="py-lineno"> 497</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">'/Covers/%s'</tt> <tt class="py-op">%</tt> <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L498"></a><tt class="py-lineno"> 498</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L499"></a><tt class="py-lineno"> 499</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-304" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-304', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L500"></a><tt class="py-lineno"> 500</tt>  <tt class="py-line"> </tt>
<a name="CoverUnshare"></a><div id="CoverUnshare-def"><a name="L501"></a><tt class="py-lineno"> 501</tt> <a class="py-toggle" href="#" id="CoverUnshare-toggle" onclick="return toggle('CoverUnshare');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.CoverUnshare-class.html">CoverUnshare</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverUnshare-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="CoverUnshare-expanded"><a name="CoverUnshare.get"></a><div id="CoverUnshare.get-def"><a name="L502"></a><tt class="py-lineno"> 502</tt> <a class="py-toggle" href="#" id="CoverUnshare.get-toggle" onclick="return toggle('CoverUnshare.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.CoverUnshare-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CoverUnshare.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="CoverUnshare.get-expanded"><a name="L503"></a><tt class="py-lineno"> 503</tt>  <tt class="py-line">                <tt id="link-305" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-305', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L504"></a><tt class="py-lineno"> 504</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-306" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-306', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L505"></a><tt class="py-lineno"> 505</tt>  <tt class="py-line">                        <tt class="py-name">cover</tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt id="link-307" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-307', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L506"></a><tt class="py-lineno"> 506</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">cover</tt><tt class="py-op">:</tt> </tt>
<a name="L507"></a><tt class="py-lineno"> 507</tt>  <tt class="py-line">                                <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt id="link-308" class="py-name"><a title="feathers.customize.Theme.isSharedWithEveryone
wrook.Cover.isSharedWithEveryone" class="py-name" href="#" onclick="return doclink('link-308', 'isSharedWithEveryone', 'link-46');">isSharedWithEveryone</a></tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt> </tt>
<a name="L508"></a><tt class="py-lineno"> 508</tt>  <tt class="py-line">                                <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L509"></a><tt class="py-lineno"> 509</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">'/Covers/%s'</tt> <tt class="py-op">%</tt> <tt class="py-name">cover</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L510"></a><tt class="py-lineno"> 510</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L511"></a><tt class="py-lineno"> 511</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-309" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-309', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L512"></a><tt class="py-lineno"> 512</tt>  <tt class="py-line"> </tt>
<a name="Customize"></a><div id="Customize-def"><a name="L513"></a><tt class="py-lineno"> 513</tt> <a class="py-toggle" href="#" id="Customize-toggle" onclick="return toggle('Customize');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Customize-class.html">Customize</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Customize-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Customize-expanded"><a name="Customize.get"></a><div id="Customize.get-def"><a name="L514"></a><tt class="py-lineno"> 514</tt> <a class="py-toggle" href="#" id="Customize.get-toggle" onclick="return toggle('Customize.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Customize-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Customize.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Customize.get-expanded"><a name="L515"></a><tt class="py-lineno"> 515</tt>  <tt class="py-line">                <tt id="link-310" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-310', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L516"></a><tt class="py-lineno"> 516</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-311" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-311', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L517"></a><tt class="py-lineno"> 517</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-312" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-312', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-313" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-313', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L518"></a><tt class="py-lineno"> 518</tt>  <tt class="py-line">                                <tt class="py-string">"latestCovers"</tt><tt class="py-op">:</tt> <tt id="link-314" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-314', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">3</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L519"></a><tt class="py-lineno"> 519</tt>  <tt class="py-line">                                <tt class="py-string">"latestThemes"</tt><tt class="py-op">:</tt> <tt id="link-315" class="py-name"><a title="feathers.customize" class="py-name" href="#" onclick="return doclink('link-315', 'customize', 'link-6');">customize</a></tt><tt class="py-op">.</tt><tt id="link-316" class="py-name"><a title="feathers.customize.Theme
feathers.customize.ThemeMemberSelection.Theme
wrook.Moment.Theme" class="py-name" href="#" onclick="return doclink('link-316', 'Theme', 'link-33');">Theme</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">3</tt><tt class="py-op">)</tt> </tt>
<a name="L520"></a><tt class="py-lineno"> 520</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L521"></a><tt class="py-lineno"> 521</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-317" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-317', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/customize.html"</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L522"></a><tt class="py-lineno"> 522</tt>  <tt class="py-line"> </tt>
<a name="Login"></a><div id="Login-def"><a name="L523"></a><tt class="py-lineno"> 523</tt> <a class="py-toggle" href="#" id="Login-toggle" onclick="return toggle('Login');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Login-class.html">Login</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Login-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Login-expanded"><a name="Login.get"></a><div id="Login.get-def"><a name="L524"></a><tt class="py-lineno"> 524</tt> <a class="py-toggle" href="#" id="Login.get-toggle" onclick="return toggle('Login.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Login-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Login.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Login.get-expanded"><a name="L525"></a><tt class="py-lineno"> 525</tt>  <tt class="py-line">                <tt id="link-318" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-318', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L526"></a><tt class="py-lineno"> 526</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-319" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-319', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L527"></a><tt class="py-lineno"> 527</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-320" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-320', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-321" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-321', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L528"></a><tt class="py-lineno"> 528</tt>  <tt class="py-line">                                <tt class="py-string">'error'</tt><tt class="py-op">:</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"You are already logged in. In order to login again, you must first logout."</tt><tt class="py-op">)</tt> </tt>
<a name="L529"></a><tt class="py-lineno"> 529</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L530"></a><tt class="py-lineno"> 530</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-322" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-322', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/login-already.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L531"></a><tt class="py-lineno"> 531</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L532"></a><tt class="py-lineno"> 532</tt>  <tt class="py-line">                        <tt class="py-name">username</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-323" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-323', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"username"</tt><tt class="py-op">)</tt> </tt>
<a name="L533"></a><tt class="py-lineno"> 533</tt>  <tt class="py-line">                        <tt class="py-name">password</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-324" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-324', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"password"</tt><tt class="py-op">)</tt> </tt>
<a name="L534"></a><tt class="py-lineno"> 534</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-325" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-325', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-326" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-326', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L535"></a><tt class="py-lineno"> 535</tt>  <tt class="py-line">                                <tt class="py-string">'username'</tt><tt class="py-op">:</tt> <tt class="py-name">username</tt><tt class="py-op">,</tt> </tt>
<a name="L536"></a><tt class="py-lineno"> 536</tt>  <tt class="py-line">                                <tt class="py-string">'password'</tt><tt class="py-op">:</tt> <tt class="py-name">password</tt> </tt>
<a name="L537"></a><tt class="py-lineno"> 537</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L538"></a><tt class="py-lineno"> 538</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-327" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-327', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/login.html'</tt><tt class="py-op">)</tt> </tt>
</div><a name="L539"></a><tt class="py-lineno"> 539</tt>  <tt class="py-line"> </tt>
<a name="Login.post"></a><div id="Login.post-def"><a name="L540"></a><tt class="py-lineno"> 540</tt> <a class="py-toggle" href="#" id="Login.post-toggle" onclick="return toggle('Login.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Login-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Login.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Login.post-expanded"><a name="L541"></a><tt class="py-lineno"> 541</tt>  <tt class="py-line">                <tt id="link-328" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-328', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L542"></a><tt class="py-lineno"> 542</tt>  <tt class="py-line">                <tt class="py-name">username</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-329" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-329', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"username"</tt><tt class="py-op">)</tt> </tt>
<a name="L543"></a><tt class="py-lineno"> 543</tt>  <tt class="py-line">                <tt class="py-name">password</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-330" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-330', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"password"</tt><tt class="py-op">)</tt> </tt>
<a name="L544"></a><tt class="py-lineno"> 544</tt>  <tt class="py-line">                <tt class="py-name">error</tt> <tt class="py-op">=</tt> <tt class="py-name">None</tt> </tt>
<a name="L545"></a><tt class="py-lineno"> 545</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">username</tt> <tt class="py-keyword">and</tt> <tt class="py-name">password</tt><tt class="py-op">:</tt> </tt>
<a name="L546"></a><tt class="py-lineno"> 546</tt>  <tt class="py-line">                        <tt class="py-name">result</tt> <tt class="py-op">=</tt> <tt id="link-331" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-331', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-332" class="py-name" targets="Function feathers.membership.memberLogin()=feathers.membership-module.html#memberLogin"><a title="feathers.membership.memberLogin" class="py-name" href="#" onclick="return doclink('link-332', 'memberLogin', 'link-332');">memberLogin</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">,</tt> <tt class="py-name">username</tt><tt class="py-op">,</tt> <tt class="py-name">password</tt><tt class="py-op">)</tt> </tt>
<a name="L547"></a><tt class="py-lineno"> 547</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">result</tt><tt class="py-op">.</tt><tt id="link-333" class="py-name" targets="Variable wrook.CommandResult.ErrorCode=wrook.CommandResult-class.html#ErrorCode"><a title="wrook.CommandResult.ErrorCode" class="py-name" href="#" onclick="return doclink('link-333', 'ErrorCode', 'link-333');">ErrorCode</a></tt><tt class="py-op">:</tt> </tt>
<a name="L548"></a><tt class="py-lineno"> 548</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/"</tt><tt class="py-op">)</tt> </tt>
<a name="L549"></a><tt class="py-lineno"> 549</tt>  <tt class="py-line">                                <tt class="py-keyword">return</tt> </tt>
<a name="L550"></a><tt class="py-lineno"> 550</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L551"></a><tt class="py-lineno"> 551</tt>  <tt class="py-line">                                <tt class="py-name">error</tt> <tt class="py-op">=</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"&lt;strong&gt;Login failed:&lt;/strong&gt; "</tt><tt class="py-op">)</tt> <tt class="py-op">+</tt> <tt class="py-name">result</tt><tt class="py-op">.</tt><tt class="py-name">ErrorMessage</tt> </tt>
<a name="L552"></a><tt class="py-lineno"> 552</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L553"></a><tt class="py-lineno"> 553</tt>  <tt class="py-line">                        <tt class="py-name">error</tt> <tt class="py-op">=</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"&lt;strong&gt;Login failed:&lt;/strong&gt; Username and password are both mandatory!"</tt><tt class="py-op">)</tt> </tt>
<a name="L554"></a><tt class="py-lineno"> 554</tt>  <tt class="py-line"> </tt>
<a name="L555"></a><tt class="py-lineno"> 555</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-334" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-334', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-335" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-335', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L556"></a><tt class="py-lineno"> 556</tt>  <tt class="py-line">                        <tt class="py-string">'error'</tt><tt class="py-op">:</tt> <tt class="py-name">error</tt><tt class="py-op">,</tt> </tt>
<a name="L557"></a><tt class="py-lineno"> 557</tt>  <tt class="py-line">                        <tt class="py-string">'username'</tt><tt class="py-op">:</tt> <tt class="py-name">username</tt><tt class="py-op">,</tt> </tt>
<a name="L558"></a><tt class="py-lineno"> 558</tt>  <tt class="py-line">                        <tt class="py-string">'password'</tt><tt class="py-op">:</tt> <tt class="py-name">password</tt> </tt>
<a name="L559"></a><tt class="py-lineno"> 559</tt>  <tt class="py-line">                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L560"></a><tt class="py-lineno"> 560</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-336" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-336', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/login.html'</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L561"></a><tt class="py-lineno"> 561</tt>  <tt class="py-line">                 </tt>
<a name="L562"></a><tt class="py-lineno"> 562</tt>  <tt class="py-line"> </tt>
<a name="Logout"></a><div id="Logout-def"><a name="L563"></a><tt class="py-lineno"> 563</tt> <a class="py-toggle" href="#" id="Logout-toggle" onclick="return toggle('Logout');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Logout-class.html">Logout</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Logout-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Logout-expanded"><a name="Logout.get"></a><div id="Logout.get-def"><a name="L564"></a><tt class="py-lineno"> 564</tt> <a class="py-toggle" href="#" id="Logout.get-toggle" onclick="return toggle('Logout.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Logout-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Logout.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Logout.get-expanded"><a name="L565"></a><tt class="py-lineno"> 565</tt>  <tt class="py-line">                <tt id="link-337" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-337', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-338" class="py-name" targets="Function feathers.membership.logout()=feathers.membership-module.html#logout"><a title="feathers.membership.logout" class="py-name" href="#" onclick="return doclink('link-338', 'logout', 'link-338');">logout</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L566"></a><tt class="py-lineno"> 566</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/"</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L567"></a><tt class="py-lineno"> 567</tt>  <tt class="py-line"> </tt>
<a name="Join"></a><div id="Join-def"><a name="L568"></a><tt class="py-lineno"> 568</tt> <a class="py-toggle" href="#" id="Join-toggle" onclick="return toggle('Join');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Join-class.html">Join</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Join-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Join-expanded"><a name="Join.get"></a><div id="Join.get-def"><a name="L569"></a><tt class="py-lineno"> 569</tt> <a class="py-toggle" href="#" id="Join.get-toggle" onclick="return toggle('Join.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Join-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Join.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Join.get-expanded"><a name="L570"></a><tt class="py-lineno"> 570</tt>  <tt class="py-line">                <tt id="link-339" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-339', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L571"></a><tt class="py-lineno"> 571</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-340" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-340', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L572"></a><tt class="py-lineno"> 572</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/"</tt><tt class="py-op">)</tt> <tt class="py-comment"># Refactor: This special case should be handled: "Accept invite while being already logged in"</tt> </tt>
<a name="L573"></a><tt class="py-lineno"> 573</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L574"></a><tt class="py-lineno"> 574</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">key</tt><tt class="py-op">:</tt> <tt class="py-name">invite</tt> <tt class="py-op">=</tt> <tt id="link-341" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-341', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-342" class="py-name" targets="Class feathers.membership.Invite=feathers.membership.Invite-class.html"><a title="feathers.membership.Invite" class="py-name" href="#" onclick="return doclink('link-342', 'Invite', 'link-342');">Invite</a></tt><tt class="py-op">.</tt><tt id="link-343" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-343', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L575"></a><tt class="py-lineno"> 575</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">invite</tt> <tt class="py-op">=</tt> <tt id="link-344" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-344', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-345" class="py-name"><a title="feathers.membership.Invite" class="py-name" href="#" onclick="return doclink('link-345', 'Invite', 'link-342');">Invite</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L576"></a><tt class="py-lineno"> 576</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-346" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-346', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-347" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-347', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L577"></a><tt class="py-lineno"> 577</tt>  <tt class="py-line">                                <tt class="py-string">"invite"</tt><tt class="py-op">:</tt> <tt class="py-name">invite</tt><tt class="py-op">,</tt> </tt>
<a name="L578"></a><tt class="py-lineno"> 578</tt>  <tt class="py-line">                                <tt class="py-string">"email"</tt><tt class="py-op">:</tt> <tt class="py-name">invite</tt><tt class="py-op">.</tt><tt id="link-348" class="py-name" targets="Variable feathers.membership.Invite.Email=feathers.membership.Invite-class.html#Email,Variable feathers.membership.Member.Email=feathers.membership.Member-class.html#Email"><a title="feathers.membership.Invite.Email
feathers.membership.Member.Email" class="py-name" href="#" onclick="return doclink('link-348', 'Email', 'link-348');">Email</a></tt><tt class="py-op">.</tt><tt class="py-name">strip</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L579"></a><tt class="py-lineno"> 579</tt>  <tt class="py-line">                                <tt class="py-string">"firstname"</tt><tt class="py-op">:</tt> <tt class="py-name">invite</tt><tt class="py-op">.</tt><tt id="link-349" class="py-name" targets="Variable feathers.membership.Invite.Firstname=feathers.membership.Invite-class.html#Firstname,Variable feathers.membership.Member.Firstname=feathers.membership.Member-class.html#Firstname"><a title="feathers.membership.Invite.Firstname
feathers.membership.Member.Firstname" class="py-name" href="#" onclick="return doclink('link-349', 'Firstname', 'link-349');">Firstname</a></tt><tt class="py-op">.</tt><tt class="py-name">strip</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L580"></a><tt class="py-lineno"> 580</tt>  <tt class="py-line">                                <tt class="py-string">"lastname"</tt><tt class="py-op">:</tt> <tt class="py-name">invite</tt><tt class="py-op">.</tt><tt id="link-350" class="py-name" targets="Variable feathers.membership.Invite.Lastname=feathers.membership.Invite-class.html#Lastname,Variable feathers.membership.Member.Lastname=feathers.membership.Member-class.html#Lastname"><a title="feathers.membership.Invite.Lastname
feathers.membership.Member.Lastname" class="py-name" href="#" onclick="return doclink('link-350', 'Lastname', 'link-350');">Lastname</a></tt><tt class="py-op">.</tt><tt class="py-name">strip</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L581"></a><tt class="py-lineno"> 581</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L582"></a><tt class="py-lineno"> 582</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-351" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-351', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/join.html'</tt><tt class="py-op">)</tt> </tt>
</div><a name="L583"></a><tt class="py-lineno"> 583</tt>  <tt class="py-line"> </tt>
<a name="Join.post"></a><div id="Join.post-def"><a name="L584"></a><tt class="py-lineno"> 584</tt> <a class="py-toggle" href="#" id="Join.post-toggle" onclick="return toggle('Join.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Join-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> <tt class="py-comment">#Refactor: This handler should be moved to the membership module and actuel business logic should be in separate methods</tt> </tt>
</div><a name="L585"></a><tt class="py-lineno"> 585</tt>  <tt class="py-line">                <tt id="link-352" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-352', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L586"></a><tt class="py-lineno"> 586</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">key</tt><tt class="py-op">:</tt> <tt class="py-name">invite</tt> <tt class="py-op">=</tt> <tt id="link-353" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-353', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-354" class="py-name"><a title="feathers.membership.Invite" class="py-name" href="#" onclick="return doclink('link-354', 'Invite', 'link-342');">Invite</a></tt><tt class="py-op">.</tt><tt id="link-355" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-355', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L587"></a><tt class="py-lineno"> 587</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">invite</tt> <tt class="py-op">=</tt> <tt id="link-356" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-356', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-357" class="py-name"><a title="feathers.membership.Invite" class="py-name" href="#" onclick="return doclink('link-357', 'Invite', 'link-342');">Invite</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L588"></a><tt class="py-lineno"> 588</tt>  <tt class="py-line">                <tt class="py-name">username</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-358" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-358', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"Username"</tt><tt class="py-op">)</tt> </tt>
<a name="L589"></a><tt class="py-lineno"> 589</tt>  <tt class="py-line">                <tt class="py-name">email</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-359" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-359', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"Email"</tt><tt class="py-op">)</tt> </tt>
<a name="L590"></a><tt class="py-lineno"> 590</tt>  <tt class="py-line">                <tt id="link-360" class="py-name" targets="Method feathers.membership.Member.firstname()=feathers.membership.Member-class.html#firstname"><a title="feathers.membership.Member.firstname" class="py-name" href="#" onclick="return doclink('link-360', 'firstname', 'link-360');">firstname</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-361" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-361', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"Firstname"</tt><tt class="py-op">)</tt> </tt>
<a name="L591"></a><tt class="py-lineno"> 591</tt>  <tt class="py-line">                <tt class="py-name">lastname</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-362" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-362', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"Lastname"</tt><tt class="py-op">)</tt> </tt>
<a name="L592"></a><tt class="py-lineno"> 592</tt>  <tt class="py-line">                <tt class="py-name">gender</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-363" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-363', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"Gender"</tt><tt class="py-op">)</tt> </tt>
<a name="L593"></a><tt class="py-lineno"> 593</tt>  <tt class="py-line">                <tt class="py-name">preferedLanguage</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-364" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-364', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"PreferedLanguage"</tt><tt class="py-op">)</tt> </tt>
<a name="L594"></a><tt class="py-lineno"> 594</tt>  <tt class="py-line">                <tt class="py-name">isValid</tt> <tt class="py-op">=</tt> <tt class="py-name">True</tt> </tt>
<a name="L595"></a><tt class="py-lineno"> 595</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-op">(</tt><tt id="link-365" class="py-name"><a title="feathers.membership.Member.firstname" class="py-name" href="#" onclick="return doclink('link-365', 'firstname', 'link-360');">firstname</a></tt> <tt class="py-op">==</tt> <tt class="py-string">""</tt> <tt class="py-keyword">or</tt> <tt class="py-name">lastname</tt> <tt class="py-op">==</tt> <tt class="py-string">""</tt> <tt class="py-keyword">or</tt> <tt class="py-name">email</tt> <tt class="py-op">==</tt> <tt class="py-string">""</tt> <tt class="py-keyword">or</tt> <tt class="py-name">username</tt> <tt class="py-op">==</tt> <tt class="py-string">""</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L596"></a><tt class="py-lineno"> 596</tt>  <tt class="py-line">                        <tt class="py-name">isValid</tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt> </tt>
<a name="L597"></a><tt class="py-lineno"> 597</tt>  <tt class="py-line">                        <tt class="py-name">error</tt> <tt class="py-op">=</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Username, email, firstname and lastname are madatory!"</tt><tt class="py-op">)</tt> </tt>
<a name="L598"></a><tt class="py-lineno"> 598</tt>  <tt class="py-line">                <tt class="py-keyword">elif</tt> <tt class="py-op">(</tt><tt id="link-366" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-366', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-367" class="py-name" targets="Function feathers.membership.getMemberFromCredentials()=feathers.membership-module.html#getMemberFromCredentials"><a title="feathers.membership.getMemberFromCredentials" class="py-name" href="#" onclick="return doclink('link-367', 'getMemberFromCredentials', 'link-367');">getMemberFromCredentials</a></tt><tt class="py-op">(</tt><tt class="py-name">email</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> <tt class="py-comment">#Refactor: This constraint should be built into the Member entity</tt> </tt>
<a name="L599"></a><tt class="py-lineno"> 599</tt>  <tt class="py-line">                        <tt class="py-name">isValid</tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt> </tt>
<a name="L600"></a><tt class="py-lineno"> 600</tt>  <tt class="py-line">                        <tt class="py-name">error</tt> <tt class="py-op">=</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"This email address is already used by another member"</tt><tt class="py-op">)</tt> </tt>
<a name="L601"></a><tt class="py-lineno"> 601</tt>  <tt class="py-line">                <tt class="py-keyword">elif</tt> <tt class="py-op">(</tt><tt id="link-368" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-368', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-369" class="py-name"><a title="feathers.membership.getMemberFromCredentials" class="py-name" href="#" onclick="return doclink('link-369', 'getMemberFromCredentials', 'link-367');">getMemberFromCredentials</a></tt><tt class="py-op">(</tt><tt class="py-name">username</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> <tt class="py-comment">#Refactor: This constraint should be built into the Member entity</tt> </tt>
<a name="L602"></a><tt class="py-lineno"> 602</tt>  <tt class="py-line">                        <tt class="py-name">isValid</tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt> </tt>
<a name="L603"></a><tt class="py-lineno"> 603</tt>  <tt class="py-line">                        <tt class="py-name">error</tt> <tt class="py-op">=</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"This username address is already used by another member"</tt><tt class="py-op">)</tt> </tt>
<a name="L604"></a><tt class="py-lineno"> 604</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-op">(</tt><tt class="py-keyword">not</tt> <tt class="py-name">isValid</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L605"></a><tt class="py-lineno"> 605</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-370" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-370', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-371" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-371', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L606"></a><tt class="py-lineno"> 606</tt>  <tt class="py-line">                                <tt class="py-string">'username'</tt><tt class="py-op">:</tt> <tt class="py-name">username</tt><tt class="py-op">,</tt> </tt>
<a name="L607"></a><tt class="py-lineno"> 607</tt>  <tt class="py-line">                                <tt class="py-string">'email'</tt><tt class="py-op">:</tt> <tt class="py-name">email</tt><tt class="py-op">,</tt> </tt>
<a name="L608"></a><tt class="py-lineno"> 608</tt>  <tt class="py-line">                                <tt class="py-string">'firstname'</tt><tt class="py-op">:</tt> <tt id="link-372" class="py-name"><a title="feathers.membership.Member.firstname" class="py-name" href="#" onclick="return doclink('link-372', 'firstname', 'link-360');">firstname</a></tt><tt class="py-op">,</tt> </tt>
<a name="L609"></a><tt class="py-lineno"> 609</tt>  <tt class="py-line">                                <tt class="py-string">'lastname'</tt><tt class="py-op">:</tt> <tt class="py-name">lastname</tt><tt class="py-op">,</tt> </tt>
<a name="L610"></a><tt class="py-lineno"> 610</tt>  <tt class="py-line">                                <tt class="py-string">'gender'</tt><tt class="py-op">:</tt> <tt class="py-name">gender</tt><tt class="py-op">,</tt> </tt>
<a name="L611"></a><tt class="py-lineno"> 611</tt>  <tt class="py-line">                                <tt class="py-string">'preferedLanguage'</tt><tt class="py-op">:</tt> <tt class="py-name">preferedLanguage</tt><tt class="py-op">,</tt> </tt>
<a name="L612"></a><tt class="py-lineno"> 612</tt>  <tt class="py-line">                                <tt class="py-string">'error'</tt><tt class="py-op">:</tt> <tt class="py-name">error</tt> </tt>
<a name="L613"></a><tt class="py-lineno"> 613</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L614"></a><tt class="py-lineno"> 614</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-373" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-373', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/join.html"</tt><tt class="py-op">)</tt> </tt>
<a name="L615"></a><tt class="py-lineno"> 615</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L616"></a><tt class="py-lineno"> 616</tt>  <tt class="py-line">                        <tt class="py-name">member</tt> <tt class="py-op">=</tt> <tt id="link-374" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-374', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-375" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-375', 'Member', 'link-44');">Member</a></tt><tt class="py-op">(</tt> </tt>
<a name="L617"></a><tt class="py-lineno"> 617</tt>  <tt class="py-line">                                <tt id="link-376" class="py-name" targets="Variable feathers.membership.Member.Username=feathers.membership.Member-class.html#Username"><a title="feathers.membership.Member.Username" class="py-name" href="#" onclick="return doclink('link-376', 'Username', 'link-376');">Username</a></tt> <tt class="py-op">=</tt> <tt class="py-name">username</tt><tt class="py-op">,</tt> </tt>
<a name="L618"></a><tt class="py-lineno"> 618</tt>  <tt class="py-line">                                <tt id="link-377" class="py-name"><a title="feathers.membership.Invite.Email
feathers.membership.Member.Email" class="py-name" href="#" onclick="return doclink('link-377', 'Email', 'link-348');">Email</a></tt> <tt class="py-op">=</tt> <tt class="py-name">email</tt><tt class="py-op">,</tt> </tt>
<a name="L619"></a><tt class="py-lineno"> 619</tt>  <tt class="py-line">                                <tt id="link-378" class="py-name"><a title="feathers.membership.Invite.Firstname
feathers.membership.Member.Firstname" class="py-name" href="#" onclick="return doclink('link-378', 'Firstname', 'link-349');">Firstname</a></tt> <tt class="py-op">=</tt> <tt id="link-379" class="py-name"><a title="feathers.membership.Member.firstname" class="py-name" href="#" onclick="return doclink('link-379', 'firstname', 'link-360');">firstname</a></tt><tt class="py-op">,</tt> </tt>
<a name="L620"></a><tt class="py-lineno"> 620</tt>  <tt class="py-line">                                <tt id="link-380" class="py-name"><a title="feathers.membership.Invite.Lastname
feathers.membership.Member.Lastname" class="py-name" href="#" onclick="return doclink('link-380', 'Lastname', 'link-350');">Lastname</a></tt> <tt class="py-op">=</tt> <tt class="py-name">lastname</tt><tt class="py-op">,</tt> </tt>
<a name="L621"></a><tt class="py-lineno"> 621</tt>  <tt class="py-line">                                <tt id="link-381" class="py-name" targets="Variable feathers.membership.Member.Gender=feathers.membership.Member-class.html#Gender"><a title="feathers.membership.Member.Gender" class="py-name" href="#" onclick="return doclink('link-381', 'Gender', 'link-381');">Gender</a></tt> <tt class="py-op">=</tt> <tt class="py-name">gender</tt><tt class="py-op">,</tt> </tt>
<a name="L622"></a><tt class="py-lineno"> 622</tt>  <tt class="py-line">                                <tt id="link-382" class="py-name"><a title="feathers.membership.Member.PreferedLanguage" class="py-name" href="#" onclick="return doclink('link-382', 'PreferedLanguage', 'link-23');">PreferedLanguage</a></tt> <tt class="py-op">=</tt> <tt class="py-name">preferedLanguage</tt><tt class="py-op">,</tt> </tt>
<a name="L623"></a><tt class="py-lineno"> 623</tt>  <tt class="py-line">                                <tt class="py-op">)</tt> </tt>
<a name="L624"></a><tt class="py-lineno"> 624</tt>  <tt class="py-line">                        <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L625"></a><tt class="py-lineno"> 625</tt>  <tt class="py-line">                        <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-383" class="py-name" targets="Method feathers.membership.Member.resetPassword()=feathers.membership.Member-class.html#resetPassword"><a title="feathers.membership.Member.resetPassword" class="py-name" href="#" onclick="return doclink('link-383', 'resetPassword', 'link-383');">resetPassword</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-384" class="py-name"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-384', 'AppConfig', 'link-19');">AppConfig</a></tt><tt class="py-op">.</tt><tt id="link-385" class="py-name" targets="Variable wrook.WrookAppConfig.EncryptionKey=wrook.WrookAppConfig-class.html#EncryptionKey"><a title="wrook.WrookAppConfig.EncryptionKey" class="py-name" href="#" onclick="return doclink('link-385', 'EncryptionKey', 'link-385');">EncryptionKey</a></tt><tt class="py-op">)</tt> </tt>
<a name="L626"></a><tt class="py-lineno"> 626</tt>  <tt class="py-line">                        <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-386" class="py-name" targets="Method feathers.membership.Member.sendPassword()=feathers.membership.Member-class.html#sendPassword"><a title="feathers.membership.Member.sendPassword" class="py-name" href="#" onclick="return doclink('link-386', 'sendPassword', 'link-386');">sendPassword</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L627"></a><tt class="py-lineno"> 627</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">invite</tt><tt class="py-op">:</tt> </tt>
<a name="L628"></a><tt class="py-lineno"> 628</tt>  <tt class="py-line">                                <tt class="py-name">invite</tt><tt class="py-op">.</tt><tt id="link-387" class="py-name" targets="Variable feathers.membership.Invite.AcceptedMember=feathers.membership.Invite-class.html#AcceptedMember"><a title="feathers.membership.Invite.AcceptedMember" class="py-name" href="#" onclick="return doclink('link-387', 'AcceptedMember', 'link-387');">AcceptedMember</a></tt> <tt class="py-op">=</tt> <tt class="py-name">member</tt> </tt>
<a name="L629"></a><tt class="py-lineno"> 629</tt>  <tt class="py-line">                                <tt class="py-name">invite</tt><tt class="py-op">.</tt><tt id="link-388" class="py-name" targets="Variable feathers.membership.Invite.Status=feathers.membership.Invite-class.html#Status"><a title="feathers.membership.Invite.Status" class="py-name" href="#" onclick="return doclink('link-388', 'Status', 'link-388');">Status</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"accepted"</tt> </tt>
<a name="L630"></a><tt class="py-lineno"> 630</tt>  <tt class="py-line">                                <tt class="py-name">invite</tt><tt class="py-op">.</tt><tt id="link-389" class="py-name" targets="Variable feathers.membership.Invite.WhenAccepted=feathers.membership.Invite-class.html#WhenAccepted"><a title="feathers.membership.Invite.WhenAccepted" class="py-name" href="#" onclick="return doclink('link-389', 'WhenAccepted', 'link-389');">WhenAccepted</a></tt> <tt class="py-op">=</tt> <tt class="py-name">datetime</tt><tt class="py-op">.</tt><tt class="py-name">datetime</tt><tt class="py-op">.</tt><tt class="py-name">now</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L631"></a><tt class="py-lineno"> 631</tt>  <tt class="py-line">                                <tt class="py-name">invite</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L632"></a><tt class="py-lineno"> 632</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/ResetPassword/%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L633"></a><tt class="py-lineno"> 633</tt>  <tt class="py-line"> </tt>
<a name="L634"></a><tt class="py-lineno"> 634</tt>  <tt class="py-line"> </tt>
<a name="AccountView"></a><div id="AccountView-def"><a name="L635"></a><tt class="py-lineno"> 635</tt> <a class="py-toggle" href="#" id="AccountView-toggle" onclick="return toggle('AccountView');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.AccountView-class.html">AccountView</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AccountView-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="AccountView-expanded"><a name="AccountView.get"></a><div id="AccountView.get-def"><a name="L636"></a><tt class="py-lineno"> 636</tt> <a class="py-toggle" href="#" id="AccountView.get-toggle" onclick="return toggle('AccountView.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.AccountView-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AccountView.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="AccountView.get-expanded"><a name="L637"></a><tt class="py-lineno"> 637</tt>  <tt class="py-line">                <tt id="link-390" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-390', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L638"></a><tt class="py-lineno"> 638</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-391" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-391', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L639"></a><tt class="py-lineno"> 639</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-392" class="py-name" targets="Method feathers.webapp.RequestHandler.setVisitedMember()=feathers.webapp.RequestHandler-class.html#setVisitedMember"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-392', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-393" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-393', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L640"></a><tt class="py-lineno"> 640</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-394" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-394', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-395" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-395', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L641"></a><tt class="py-lineno"> 641</tt>  <tt class="py-line">                                <tt class="py-string">'member'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-396" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-396', 'CurrentMember', 'link-14');">CurrentMember</a></tt> </tt>
<a name="L642"></a><tt class="py-lineno"> 642</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L643"></a><tt class="py-lineno"> 643</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-397" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-397', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/viewAccount.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L644"></a><tt class="py-lineno"> 644</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-398" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-398', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L645"></a><tt class="py-lineno"> 645</tt>  <tt class="py-line"> </tt>
<a name="EditAccount"></a><div id="EditAccount-def"><a name="L646"></a><tt class="py-lineno"> 646</tt> <a class="py-toggle" href="#" id="EditAccount-toggle" onclick="return toggle('EditAccount');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.EditAccount-class.html">EditAccount</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="EditAccount-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="EditAccount-expanded"><a name="EditAccount.get"></a><div id="EditAccount.get-def"><a name="L647"></a><tt class="py-lineno"> 647</tt> <a class="py-toggle" href="#" id="EditAccount.get-toggle" onclick="return toggle('EditAccount.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.EditAccount-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="EditAccount.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="EditAccount.get-expanded"><a name="L648"></a><tt class="py-lineno"> 648</tt>  <tt class="py-line">                <tt id="link-399" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-399', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L649"></a><tt class="py-lineno"> 649</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-400" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-400', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L650"></a><tt class="py-lineno"> 650</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-401" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-401', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-402" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-402', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L651"></a><tt class="py-lineno"> 651</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-403" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-403', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-404" class="py-name" targets="Variable feathers.membership.Member.ProfilePhoto=feathers.membership.Member-class.html#ProfilePhoto"><a title="feathers.membership.Member.ProfilePhoto" class="py-name" href="#" onclick="return doclink('link-404', 'ProfilePhoto', 'link-404');">ProfilePhoto</a></tt><tt class="py-op">:</tt> <tt class="py-name">hasProfilePhoto</tt> <tt class="py-op">=</tt> <tt class="py-name">True</tt> </tt>
<a name="L652"></a><tt class="py-lineno"> 652</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">hasProfilePhoto</tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt> </tt>
<a name="L653"></a><tt class="py-lineno"> 653</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-405" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-405', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-406" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-406', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L654"></a><tt class="py-lineno"> 654</tt>  <tt class="py-line">                                <tt class="py-string">'key'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-407" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-407', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L655"></a><tt class="py-lineno"> 655</tt>  <tt class="py-line">                                <tt class="py-string">'firstname'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-408" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-408', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-409" class="py-name"><a title="feathers.membership.Invite.Firstname
feathers.membership.Member.Firstname" class="py-name" href="#" onclick="return doclink('link-409', 'Firstname', 'link-349');">Firstname</a></tt><tt class="py-op">,</tt> </tt>
<a name="L656"></a><tt class="py-lineno"> 656</tt>  <tt class="py-line">                                <tt class="py-string">'lastname'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-410" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-410', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-411" class="py-name"><a title="feathers.membership.Invite.Lastname
feathers.membership.Member.Lastname" class="py-name" href="#" onclick="return doclink('link-411', 'Lastname', 'link-350');">Lastname</a></tt><tt class="py-op">,</tt> </tt>
<a name="L657"></a><tt class="py-lineno"> 657</tt>  <tt class="py-line">                                <tt class="py-string">'hasProfilePhoto'</tt><tt class="py-op">:</tt> <tt class="py-name">hasProfilePhoto</tt><tt class="py-op">,</tt> </tt>
<a name="L658"></a><tt class="py-lineno"> 658</tt>  <tt class="py-line">                                <tt class="py-string">'gender'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-412" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-412', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-413" class="py-name"><a title="feathers.membership.Member.Gender" class="py-name" href="#" onclick="return doclink('link-413', 'Gender', 'link-381');">Gender</a></tt><tt class="py-op">,</tt> </tt>
<a name="L659"></a><tt class="py-lineno"> 659</tt>  <tt class="py-line">                                <tt class="py-string">'preferedLanguage'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-414" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-414', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-415" class="py-name"><a title="feathers.membership.Member.PreferedLanguage" class="py-name" href="#" onclick="return doclink('link-415', 'PreferedLanguage', 'link-23');">PreferedLanguage</a></tt><tt class="py-op">,</tt> </tt>
<a name="L660"></a><tt class="py-lineno"> 660</tt>  <tt class="py-line">                                <tt class="py-string">'about'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-416" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-416', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-417" class="py-name" targets="Variable feathers.membership.Member.About=feathers.membership.Member-class.html#About"><a title="feathers.membership.Member.About" class="py-name" href="#" onclick="return doclink('link-417', 'About', 'link-417');">About</a></tt> </tt>
<a name="L661"></a><tt class="py-lineno"> 661</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L662"></a><tt class="py-lineno"> 662</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-418" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-418', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/editAccount.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L663"></a><tt class="py-lineno"> 663</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-419" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-419', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L664"></a><tt class="py-lineno"> 664</tt>  <tt class="py-line"> </tt>
<a name="EditAccount.post"></a><div id="EditAccount.post-def"><a name="L665"></a><tt class="py-lineno"> 665</tt> <a class="py-toggle" href="#" id="EditAccount.post-toggle" onclick="return toggle('EditAccount.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.EditAccount-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="EditAccount.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="EditAccount.post-expanded"><a name="L666"></a><tt class="py-lineno"> 666</tt>  <tt class="py-line">                <tt id="link-420" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-420', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L667"></a><tt class="py-lineno"> 667</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-421" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-421', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L668"></a><tt class="py-lineno"> 668</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-422" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-422', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-423" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-423', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L669"></a><tt class="py-lineno"> 669</tt>  <tt class="py-line">                        <tt id="link-424" class="py-name"><a title="feathers.membership.Member.firstname" class="py-name" href="#" onclick="return doclink('link-424', 'firstname', 'link-360');">firstname</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-425" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-425', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"Firstname"</tt><tt class="py-op">)</tt> </tt>
<a name="L670"></a><tt class="py-lineno"> 670</tt>  <tt class="py-line">                        <tt class="py-name">lastname</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-426" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-426', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"Lastname"</tt><tt class="py-op">)</tt> </tt>
<a name="L671"></a><tt class="py-lineno"> 671</tt>  <tt class="py-line">                        <tt class="py-name">preferedLanguage</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-427" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-427', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"PreferedLanguage"</tt><tt class="py-op">)</tt> </tt>
<a name="L672"></a><tt class="py-lineno"> 672</tt>  <tt class="py-line">                        <tt class="py-name">gender</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-428" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-428', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"Gender"</tt><tt class="py-op">)</tt> </tt>
<a name="L673"></a><tt class="py-lineno"> 673</tt>  <tt class="py-line">                        <tt class="py-name">about</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-429" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-429', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"About"</tt><tt class="py-op">)</tt> </tt>
<a name="L674"></a><tt class="py-lineno"> 674</tt>  <tt class="py-line">                        <tt class="py-name">tmpProfilePhoto</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-430" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-430', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"profilePhotoProxy"</tt><tt class="py-op">)</tt> </tt>
<a name="L675"></a><tt class="py-lineno"> 675</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">tmpProfilePhoto</tt><tt class="py-op">:</tt> <tt class="py-name">profilePhoto</tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">Blob</tt><tt class="py-op">(</tt><tt class="py-name">tmpProfilePhoto</tt><tt class="py-op">)</tt> </tt>
<a name="L676"></a><tt class="py-lineno"> 676</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">profilePhoto</tt> <tt class="py-op">=</tt> <tt class="py-name">None</tt> </tt>
<a name="L677"></a><tt class="py-lineno"> 677</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-op">(</tt><tt id="link-431" class="py-name"><a title="feathers.membership.Member.firstname" class="py-name" href="#" onclick="return doclink('link-431', 'firstname', 'link-360');">firstname</a></tt> <tt class="py-op">==</tt> <tt class="py-string">""</tt> <tt class="py-keyword">or</tt> <tt class="py-name">lastname</tt> <tt class="py-op">==</tt> <tt class="py-string">""</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L678"></a><tt class="py-lineno"> 678</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-432" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-432', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-433" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-433', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L679"></a><tt class="py-lineno"> 679</tt>  <tt class="py-line">                                        <tt class="py-string">'firstname'</tt><tt class="py-op">:</tt> <tt id="link-434" class="py-name"><a title="feathers.membership.Member.firstname" class="py-name" href="#" onclick="return doclink('link-434', 'firstname', 'link-360');">firstname</a></tt><tt class="py-op">,</tt> </tt>
<a name="L680"></a><tt class="py-lineno"> 680</tt>  <tt class="py-line">                                        <tt class="py-string">'lastname'</tt><tt class="py-op">:</tt> <tt class="py-name">lastname</tt><tt class="py-op">,</tt> </tt>
<a name="L681"></a><tt class="py-lineno"> 681</tt>  <tt class="py-line">                                        <tt class="py-string">'preferedLanguage'</tt><tt class="py-op">:</tt> <tt class="py-name">preferedLanguage</tt><tt class="py-op">,</tt> </tt>
<a name="L682"></a><tt class="py-lineno"> 682</tt>  <tt class="py-line">                                        <tt class="py-string">'gender'</tt><tt class="py-op">:</tt> <tt class="py-name">gender</tt><tt class="py-op">,</tt> </tt>
<a name="L683"></a><tt class="py-lineno"> 683</tt>  <tt class="py-line">                                        <tt class="py-string">'about'</tt><tt class="py-op">:</tt> <tt class="py-name">about</tt><tt class="py-op">,</tt> </tt>
<a name="L684"></a><tt class="py-lineno"> 684</tt>  <tt class="py-line">                                        <tt class="py-string">'error'</tt><tt class="py-op">:</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Firstname and lastname are madatory! You will also have to re-upload your photo!"</tt><tt class="py-op">)</tt> <tt class="py-comment">#Refacfor: There should be a way not to forget the photo... temp area?</tt> </tt>
<a name="L685"></a><tt class="py-lineno"> 685</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L686"></a><tt class="py-lineno"> 686</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-435" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-435', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/editAccount.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L687"></a><tt class="py-lineno"> 687</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L688"></a><tt class="py-lineno"> 688</tt>  <tt class="py-line">                                <tt class="py-name">member</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-436" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-436', 'CurrentMember', 'link-14');">CurrentMember</a></tt> </tt>
<a name="L689"></a><tt class="py-lineno"> 689</tt>  <tt class="py-line">                                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-437" class="py-name"><a title="feathers.membership.Invite.Firstname
feathers.membership.Member.Firstname" class="py-name" href="#" onclick="return doclink('link-437', 'Firstname', 'link-349');">Firstname</a></tt> <tt class="py-op">=</tt> <tt id="link-438" class="py-name"><a title="feathers.membership.Member.firstname" class="py-name" href="#" onclick="return doclink('link-438', 'firstname', 'link-360');">firstname</a></tt> </tt>
<a name="L690"></a><tt class="py-lineno"> 690</tt>  <tt class="py-line">                                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-439" class="py-name"><a title="feathers.membership.Invite.Lastname
feathers.membership.Member.Lastname" class="py-name" href="#" onclick="return doclink('link-439', 'Lastname', 'link-350');">Lastname</a></tt> <tt class="py-op">=</tt> <tt class="py-name">lastname</tt> </tt>
<a name="L691"></a><tt class="py-lineno"> 691</tt>  <tt class="py-line">                                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-440" class="py-name"><a title="feathers.membership.Member.PreferedLanguage" class="py-name" href="#" onclick="return doclink('link-440', 'PreferedLanguage', 'link-23');">PreferedLanguage</a></tt> <tt class="py-op">=</tt> <tt class="py-name">preferedLanguage</tt> </tt>
<a name="L692"></a><tt class="py-lineno"> 692</tt>  <tt class="py-line">                                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-441" class="py-name"><a title="feathers.membership.Member.Gender" class="py-name" href="#" onclick="return doclink('link-441', 'Gender', 'link-381');">Gender</a></tt> <tt class="py-op">=</tt> <tt class="py-name">gender</tt> </tt>
<a name="L693"></a><tt class="py-lineno"> 693</tt>  <tt class="py-line">                                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-442" class="py-name"><a title="feathers.membership.Member.About" class="py-name" href="#" onclick="return doclink('link-442', 'About', 'link-417');">About</a></tt> <tt class="py-op">=</tt> <tt class="py-name">about</tt> </tt>
<a name="L694"></a><tt class="py-lineno"> 694</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">profilePhoto</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-443" class="py-name"><a title="feathers.membership.Member.ProfilePhoto" class="py-name" href="#" onclick="return doclink('link-443', 'ProfilePhoto', 'link-404');">ProfilePhoto</a></tt> <tt class="py-op">=</tt> <tt class="py-name">profilePhoto</tt> </tt>
<a name="L695"></a><tt class="py-lineno"> 695</tt>  <tt class="py-line">                                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L696"></a><tt class="py-lineno"> 696</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/Account/View"</tt><tt class="py-op">)</tt> </tt>
<a name="L697"></a><tt class="py-lineno"> 697</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-444" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-444', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L698"></a><tt class="py-lineno"> 698</tt>  <tt class="py-line"> </tt>
<a name="AccountChangeProfilePhoto"></a><div id="AccountChangeProfilePhoto-def"><a name="L699"></a><tt class="py-lineno"> 699</tt> <a class="py-toggle" href="#" id="AccountChangeProfilePhoto-toggle" onclick="return toggle('AccountChangeProfilePhoto');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.AccountChangeProfilePhoto-class.html">AccountChangeProfilePhoto</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AccountChangeProfilePhoto-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="AccountChangeProfilePhoto-expanded"><a name="AccountChangeProfilePhoto.get"></a><div id="AccountChangeProfilePhoto.get-def"><a name="L700"></a><tt class="py-lineno"> 700</tt> <a class="py-toggle" href="#" id="AccountChangeProfilePhoto.get-toggle" onclick="return toggle('AccountChangeProfilePhoto.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.AccountChangeProfilePhoto-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AccountChangeProfilePhoto.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="AccountChangeProfilePhoto.get-expanded"><a name="L701"></a><tt class="py-lineno"> 701</tt>  <tt class="py-line">                <tt id="link-445" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-445', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L702"></a><tt class="py-lineno"> 702</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-446" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-446', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L703"></a><tt class="py-lineno"> 703</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-447" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-447', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-448" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-448', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L704"></a><tt class="py-lineno"> 704</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-449" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-449', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-450" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-450', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L705"></a><tt class="py-lineno"> 705</tt>  <tt class="py-line">                                <tt class="py-string">'member'</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-451" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-451', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">,</tt> </tt>
<a name="L706"></a><tt class="py-lineno"> 706</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L707"></a><tt class="py-lineno"> 707</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-452" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-452', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/account-changePhoto.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L708"></a><tt class="py-lineno"> 708</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-453" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-453', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L709"></a><tt class="py-lineno"> 709</tt>  <tt class="py-line"> </tt>
<a name="AccountChangeProfilePhoto.post"></a><div id="AccountChangeProfilePhoto.post-def"><a name="L710"></a><tt class="py-lineno"> 710</tt> <a class="py-toggle" href="#" id="AccountChangeProfilePhoto.post-toggle" onclick="return toggle('AccountChangeProfilePhoto.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.AccountChangeProfilePhoto-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AccountChangeProfilePhoto.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="AccountChangeProfilePhoto.post-expanded"><a name="L711"></a><tt class="py-lineno"> 711</tt>  <tt class="py-line">                <tt id="link-454" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-454', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L712"></a><tt class="py-lineno"> 712</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-455" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-455', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L713"></a><tt class="py-lineno"> 713</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-456" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-456', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-457" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-457', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L714"></a><tt class="py-lineno"> 714</tt>  <tt class="py-line">                        <tt class="py-name">tmpProfilePhoto</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-458" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-458', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"profilePhotoProxy"</tt><tt class="py-op">)</tt> </tt>
<a name="L715"></a><tt class="py-lineno"> 715</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">tmpProfilePhoto</tt><tt class="py-op">:</tt> <tt class="py-name">profilePhoto</tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">Blob</tt><tt class="py-op">(</tt><tt class="py-name">tmpProfilePhoto</tt><tt class="py-op">)</tt> </tt>
<a name="L716"></a><tt class="py-lineno"> 716</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">profilePhoto</tt> <tt class="py-op">=</tt> <tt class="py-name">None</tt> </tt>
<a name="L717"></a><tt class="py-lineno"> 717</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">profilePhoto</tt><tt class="py-op">:</tt> </tt>
<a name="L718"></a><tt class="py-lineno"> 718</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-459" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-459', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-460" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-460', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L719"></a><tt class="py-lineno"> 719</tt>  <tt class="py-line">                                        <tt class="py-string">'error'</tt><tt class="py-op">:</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"No file were uploaded!"</tt><tt class="py-op">)</tt> <tt class="py-comment">#Refacfor: There should be a way not to forget the photo... temp area?</tt> </tt>
<a name="L720"></a><tt class="py-lineno"> 720</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L721"></a><tt class="py-lineno"> 721</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-461" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-461', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/editAccount.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L722"></a><tt class="py-lineno"> 722</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L723"></a><tt class="py-lineno"> 723</tt>  <tt class="py-line">                                <tt class="py-name">member</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-462" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-462', 'CurrentMember', 'link-14');">CurrentMember</a></tt> </tt>
<a name="L724"></a><tt class="py-lineno"> 724</tt>  <tt class="py-line">                                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-463" class="py-name"><a title="feathers.membership.Member.ProfilePhoto" class="py-name" href="#" onclick="return doclink('link-463', 'ProfilePhoto', 'link-404');">ProfilePhoto</a></tt> <tt class="py-op">=</tt> <tt class="py-name">profilePhoto</tt> </tt>
<a name="L725"></a><tt class="py-lineno"> 725</tt>  <tt class="py-line">                                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L726"></a><tt class="py-lineno"> 726</tt>  <tt class="py-line">                                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-464" class="py-name" targets="Method feathers.membership.Member.flushCache()=feathers.membership.Member-class.html#flushCache"><a title="feathers.membership.Member.flushCache" class="py-name" href="#" onclick="return doclink('link-464', 'flushCache', 'link-464');">flushCache</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L727"></a><tt class="py-lineno"> 727</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/Account/View"</tt><tt class="py-op">)</tt> </tt>
<a name="L728"></a><tt class="py-lineno"> 728</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-465" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-465', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L729"></a><tt class="py-lineno"> 729</tt>  <tt class="py-line"> </tt>
<a name="L730"></a><tt class="py-lineno"> 730</tt>  <tt class="py-line"> </tt>
<a name="AccountChangePassword"></a><div id="AccountChangePassword-def"><a name="L731"></a><tt class="py-lineno"> 731</tt> <a class="py-toggle" href="#" id="AccountChangePassword-toggle" onclick="return toggle('AccountChangePassword');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.AccountChangePassword-class.html">AccountChangePassword</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AccountChangePassword-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="AccountChangePassword-expanded"><a name="AccountChangePassword.get"></a><div id="AccountChangePassword.get-def"><a name="L732"></a><tt class="py-lineno"> 732</tt> <a class="py-toggle" href="#" id="AccountChangePassword.get-toggle" onclick="return toggle('AccountChangePassword.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.AccountChangePassword-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AccountChangePassword.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="AccountChangePassword.get-expanded"><a name="L733"></a><tt class="py-lineno"> 733</tt>  <tt class="py-line">                <tt id="link-466" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-466', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L734"></a><tt class="py-lineno"> 734</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-467" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-467', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L735"></a><tt class="py-lineno"> 735</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-468" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-468', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-469" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-469', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L736"></a><tt class="py-lineno"> 736</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-470" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-470', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/account-changePassword.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L737"></a><tt class="py-lineno"> 737</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-471" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-471', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L738"></a><tt class="py-lineno"> 738</tt>  <tt class="py-line"> </tt>
<a name="AccountChangePassword.post"></a><div id="AccountChangePassword.post-def"><a name="L739"></a><tt class="py-lineno"> 739</tt> <a class="py-toggle" href="#" id="AccountChangePassword.post-toggle" onclick="return toggle('AccountChangePassword.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.AccountChangePassword-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AccountChangePassword.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="AccountChangePassword.post-expanded"><a name="L740"></a><tt class="py-lineno"> 740</tt>  <tt class="py-line">                <tt id="link-472" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-472', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L741"></a><tt class="py-lineno"> 741</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-473" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-473', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L742"></a><tt class="py-lineno"> 742</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-474" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-474', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-475" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-475', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L743"></a><tt class="py-lineno"> 743</tt>  <tt class="py-line">                        <tt class="py-name">oldPassword</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-476" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-476', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"oldPassword"</tt><tt class="py-op">)</tt> </tt>
<a name="L744"></a><tt class="py-lineno"> 744</tt>  <tt class="py-line">                        <tt class="py-name">newPassword</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-477" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-477', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"newPassword"</tt><tt class="py-op">)</tt> </tt>
<a name="L745"></a><tt class="py-lineno"> 745</tt>  <tt class="py-line">                        <tt class="py-name">oldEncryptedPassword</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-478" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-478', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-479" class="py-name" targets="Method feathers.membership.Member.getEncryptedPassword()=feathers.membership.Member-class.html#getEncryptedPassword"><a title="feathers.membership.Member.getEncryptedPassword" class="py-name" href="#" onclick="return doclink('link-479', 'getEncryptedPassword', 'link-479');">getEncryptedPassword</a></tt><tt class="py-op">(</tt><tt class="py-name">oldPassword</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-480" class="py-name"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-480', 'AppConfig', 'link-19');">AppConfig</a></tt><tt class="py-op">.</tt><tt id="link-481" class="py-name"><a title="wrook.WrookAppConfig.EncryptionKey" class="py-name" href="#" onclick="return doclink('link-481', 'EncryptionKey', 'link-385');">EncryptionKey</a></tt><tt class="py-op">)</tt> </tt>
<a name="L746"></a><tt class="py-lineno"> 746</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">oldEncryptedPassword</tt> <tt class="py-op">==</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-482" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-482', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-483" class="py-name" targets="Variable feathers.membership.Member.Password=feathers.membership.Member-class.html#Password"><a title="feathers.membership.Member.Password" class="py-name" href="#" onclick="return doclink('link-483', 'Password', 'link-483');">Password</a></tt> <tt class="py-keyword">and</tt> <tt class="py-name">newPassword</tt><tt class="py-op">:</tt> </tt>
<a name="L747"></a><tt class="py-lineno"> 747</tt>  <tt class="py-line">                                <tt class="py-name">passwordChanged</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-484" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-484', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-485" class="py-name" targets="Method feathers.membership.Member.setPassword()=feathers.membership.Member-class.html#setPassword"><a title="feathers.membership.Member.setPassword" class="py-name" href="#" onclick="return doclink('link-485', 'setPassword', 'link-485');">setPassword</a></tt><tt class="py-op">(</tt><tt class="py-name">newPassword</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-486" class="py-name"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-486', 'AppConfig', 'link-19');">AppConfig</a></tt><tt class="py-op">.</tt><tt id="link-487" class="py-name"><a title="wrook.WrookAppConfig.EncryptionKey" class="py-name" href="#" onclick="return doclink('link-487', 'EncryptionKey', 'link-385');">EncryptionKey</a></tt><tt class="py-op">)</tt> </tt>
<a name="L748"></a><tt class="py-lineno"> 748</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">passwordChanged</tt><tt class="py-op">:</tt> </tt>
<a name="L749"></a><tt class="py-lineno"> 749</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-488" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-488', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-489" class="py-name"><a title="feathers.membership.Member.flushCache" class="py-name" href="#" onclick="return doclink('link-489', 'flushCache', 'link-464');">flushCache</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L750"></a><tt class="py-lineno"> 750</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/Account/View"</tt><tt class="py-op">)</tt> </tt>
<a name="L751"></a><tt class="py-lineno"> 751</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L752"></a><tt class="py-lineno"> 752</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-490" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-490', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-491" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-491', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L753"></a><tt class="py-lineno"> 753</tt>  <tt class="py-line">                                                <tt class="py-string">'error'</tt><tt class="py-op">:</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Un unforseen error occured! Your password could not be changed. You should contact the site administrator about this problem."</tt><tt class="py-op">)</tt> </tt>
<a name="L754"></a><tt class="py-lineno"> 754</tt>  <tt class="py-line">                                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L755"></a><tt class="py-lineno"> 755</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-492" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-492', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/account-changePassword.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L756"></a><tt class="py-lineno"> 756</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L757"></a><tt class="py-lineno"> 757</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-493" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-493', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-494" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-494', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L758"></a><tt class="py-lineno"> 758</tt>  <tt class="py-line">                                        <tt class="py-string">'error'</tt><tt class="py-op">:</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Changing password failed! You have either not entered a new password or the old one does not match."</tt><tt class="py-op">)</tt> </tt>
<a name="L759"></a><tt class="py-lineno"> 759</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L760"></a><tt class="py-lineno"> 760</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-495" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-495', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/account-changePassword.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L761"></a><tt class="py-lineno"> 761</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-496" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-496', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L762"></a><tt class="py-lineno"> 762</tt>  <tt class="py-line"> </tt>
<a name="Home"></a><div id="Home-def"><a name="L763"></a><tt class="py-lineno"> 763</tt> <a class="py-toggle" href="#" id="Home-toggle" onclick="return toggle('Home');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Home-class.html">Home</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Home-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Home-expanded"><a name="Home.get"></a><div id="Home.get-def"><a name="L764"></a><tt class="py-lineno"> 764</tt> <a class="py-toggle" href="#" id="Home.get-toggle" onclick="return toggle('Home.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Home-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Home.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Home.get-expanded"><a name="L765"></a><tt class="py-lineno"> 765</tt>  <tt class="py-line">                <tt id="link-497" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-497', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L766"></a><tt class="py-lineno"> 766</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-498" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-498', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L767"></a><tt class="py-lineno"> 767</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-499" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-499', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-500" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-500', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L768"></a><tt class="py-lineno"> 768</tt>  <tt class="py-line">                        <tt class="py-name">BeginnerBook</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L769"></a><tt class="py-lineno"> 769</tt>  <tt class="py-line">                        <tt class="py-name">BeginnerBookmark</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L770"></a><tt class="py-lineno"> 770</tt>  <tt class="py-line">                        <tt class="py-name">hasReadWrookForBeginners</tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt>  </tt>
<a name="L771"></a><tt class="py-lineno"> 771</tt>  <tt class="py-line">                        <tt class="py-comment"># Refactor: Put in a cached method</tt> </tt>
<a name="L772"></a><tt class="py-lineno"> 772</tt>  <tt class="py-line"><tt class="py-comment"></tt>                        <tt class="py-comment"># BeginnerBook = Book.all().filter("Slug =", "wrook-for-beginners").fetch(limit=1)</tt> </tt>
<a name="L773"></a><tt class="py-lineno"> 773</tt>  <tt class="py-line"><tt class="py-comment"></tt>                        <tt class="py-comment"># if len(BeginnerBook) &gt; 0:</tt> </tt>
<a name="L774"></a><tt class="py-lineno"> 774</tt>  <tt class="py-line"><tt class="py-comment"></tt>                                <tt class="py-comment"># BeginnerBookmark = Bookmark.all().filter("Reader = ", self.CurrentMember).filter("Book =", BeginnerBook[0]).fetch(limit=1)</tt> </tt>
<a name="L775"></a><tt class="py-lineno"> 775</tt>  <tt class="py-line"><tt class="py-comment"></tt>                        <tt class="py-comment"># if len(BeginnerBookmark) &gt; 0:</tt> </tt>
<a name="L776"></a><tt class="py-lineno"> 776</tt>  <tt class="py-line"><tt class="py-comment"></tt>                                <tt class="py-comment"># hasReadWrookForBeginners = True</tt> </tt>
<a name="L777"></a><tt class="py-lineno"> 777</tt>  <tt class="py-line"><tt class="py-comment"></tt> </tt>
<a name="L778"></a><tt class="py-lineno"> 778</tt>  <tt class="py-line">                        <tt class="py-name">cacheKey</tt> <tt class="py-op">=</tt> <tt class="py-string">"wrookMemberPosts-%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-501" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-501', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L779"></a><tt class="py-lineno"> 779</tt>  <tt class="py-line">                        <tt class="py-name">posts</tt> <tt class="py-op">=</tt> <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt id="link-502" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-502', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">cacheKey</tt><tt class="py-op">)</tt> </tt>
<a name="L780"></a><tt class="py-lineno"> 780</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">posts</tt><tt class="py-op">:</tt> </tt>
<a name="L781"></a><tt class="py-lineno"> 781</tt>  <tt class="py-line">                                <tt class="py-name">posts</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-503" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-503', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-504" class="py-name" targets="Variable feathers.membership.Member.ReceivedStoryPosts=feathers.membership.Member-class.html#ReceivedStoryPosts"><a title="feathers.membership.Member.ReceivedStoryPosts" class="py-name" href="#" onclick="return doclink('link-504', 'ReceivedStoryPosts', 'link-504');">ReceivedStoryPosts</a></tt><tt class="py-op">.</tt><tt class="py-name">order</tt><tt class="py-op">(</tt><tt class="py-string">"-WhenOccured"</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">50</tt><tt class="py-op">)</tt> </tt>
<a name="L782"></a><tt class="py-lineno"> 782</tt>  <tt class="py-line">                                <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">add</tt><tt class="py-op">(</tt><tt class="py-name">cacheKey</tt><tt class="py-op">,</tt> <tt class="py-name">posts</tt><tt class="py-op">)</tt> </tt>
<a name="L783"></a><tt class="py-lineno"> 783</tt>  <tt class="py-line"> </tt>
<a name="L784"></a><tt class="py-lineno"> 784</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-505" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-505', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-506" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-506', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L785"></a><tt class="py-lineno"> 785</tt>  <tt class="py-line">                                <tt class="py-string">"posts"</tt><tt class="py-op">:</tt> <tt class="py-name">posts</tt><tt class="py-op">,</tt> </tt>
<a name="L786"></a><tt class="py-lineno"> 786</tt>  <tt class="py-line">                                <tt class="py-string">"hasReadWrookForBeginners"</tt><tt class="py-op">:</tt> <tt class="py-name">hasReadWrookForBeginners</tt> </tt>
<a name="L787"></a><tt class="py-lineno"> 787</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L788"></a><tt class="py-lineno"> 788</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-507" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-507', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/memberHome.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L789"></a><tt class="py-lineno"> 789</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L790"></a><tt class="py-lineno"> 790</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-508" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-508', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/visitorHome.html'</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L791"></a><tt class="py-lineno"> 791</tt>  <tt class="py-line"> </tt>
<a name="MembersFeed"></a><div id="MembersFeed-def"><a name="L792"></a><tt class="py-lineno"> 792</tt> <a class="py-toggle" href="#" id="MembersFeed-toggle" onclick="return toggle('MembersFeed');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.MembersFeed-class.html">MembersFeed</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="MembersFeed-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="MembersFeed-expanded"><a name="MembersFeed.get"></a><div id="MembersFeed.get-def"><a name="L793"></a><tt class="py-lineno"> 793</tt> <a class="py-toggle" href="#" id="MembersFeed.get-toggle" onclick="return toggle('MembersFeed.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.MembersFeed-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="MembersFeed.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="MembersFeed.get-expanded"><a name="L794"></a><tt class="py-lineno"> 794</tt>  <tt class="py-line">                <tt id="link-509" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-509', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L795"></a><tt class="py-lineno"> 795</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-510" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-510', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L796"></a><tt class="py-lineno"> 796</tt>  <tt class="py-line">                        <tt class="py-name">member</tt> <tt class="py-op">=</tt> <tt id="link-511" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-511', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-512" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-512', 'Member', 'link-44');">Member</a></tt><tt class="py-op">.</tt><tt id="link-513" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-513', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L797"></a><tt class="py-lineno"> 797</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">member</tt><tt class="py-op">:</tt> </tt>
<a name="L798"></a><tt class="py-lineno"> 798</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-514" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-514', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">member</tt><tt class="py-op">)</tt> </tt>
<a name="L799"></a><tt class="py-lineno"> 799</tt>  <tt class="py-line">                                <tt class="py-name">posts</tt> <tt class="py-op">=</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-515" class="py-name"><a title="feathers.membership.Member.ReceivedStoryPosts" class="py-name" href="#" onclick="return doclink('link-515', 'ReceivedStoryPosts', 'link-504');">ReceivedStoryPosts</a></tt><tt class="py-op">.</tt><tt class="py-name">order</tt><tt class="py-op">(</tt><tt class="py-string">"-WhenOccured"</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Member = "</tt><tt class="py-op">,</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">40</tt><tt class="py-op">)</tt> </tt>
<a name="L800"></a><tt class="py-lineno"> 800</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-516" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-516', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-517" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-517', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L801"></a><tt class="py-lineno"> 801</tt>  <tt class="py-line">                                        <tt class="py-string">"posts"</tt><tt class="py-op">:</tt> <tt class="py-name">posts</tt> </tt>
<a name="L802"></a><tt class="py-lineno"> 802</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L803"></a><tt class="py-lineno"> 803</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-518" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-518', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/members-stories.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L804"></a><tt class="py-lineno"> 804</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L805"></a><tt class="py-lineno"> 805</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-519" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-519', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L806"></a><tt class="py-lineno"> 806</tt>  <tt class="py-line"> </tt>
<a name="ViewBook"></a><div id="ViewBook-def"><a name="L807"></a><tt class="py-lineno"> 807</tt> <a class="py-toggle" href="#" id="ViewBook-toggle" onclick="return toggle('ViewBook');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.ViewBook-class.html">ViewBook</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="ViewBook-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="ViewBook-expanded"><a name="ViewBook.get"></a><div id="ViewBook.get-def"><a name="L808"></a><tt class="py-lineno"> 808</tt> <a class="py-toggle" href="#" id="ViewBook.get-toggle" onclick="return toggle('ViewBook.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.ViewBook-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="ViewBook.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="ViewBook.get-expanded"><a name="L809"></a><tt class="py-lineno"> 809</tt>  <tt class="py-line">                <tt id="link-520" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-520', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L810"></a><tt class="py-lineno"> 810</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-521" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-521', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L811"></a><tt class="py-lineno"> 811</tt>  <tt class="py-line">                        <tt class="py-comment">#Before loading a book from the key, lets try to find it from the Slug</tt> </tt>
<a name="L812"></a><tt class="py-lineno"> 812</tt>  <tt class="py-line"><tt class="py-comment"></tt>                        <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-522" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-522', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Slug ="</tt><tt class="py-op">,</tt> <tt class="py-name">key</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
<a name="L813"></a><tt class="py-lineno"> 813</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">book</tt><tt class="py-op">)</tt> <tt class="py-op">&gt;</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt class="py-name">book</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt> </tt>
<a name="L814"></a><tt class="py-lineno"> 814</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-523" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-523', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-524" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-524', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L815"></a><tt class="py-lineno"> 815</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">:</tt> </tt>
<a name="L816"></a><tt class="py-lineno"> 816</tt>  <tt class="py-line">                                <tt class="py-name">chapters</tt> <tt class="py-op">=</tt> <tt id="link-525" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-525', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Book ="</tt><tt class="py-op">,</tt> <tt class="py-name">book</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">order</tt><tt class="py-op">(</tt><tt class="py-string">"Number"</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">999</tt><tt class="py-op">)</tt> </tt>
<a name="L817"></a><tt class="py-lineno"> 817</tt>  <tt class="py-line">                                <tt class="py-name">chapterCount</tt> <tt class="py-op">=</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">chapters</tt><tt class="py-op">)</tt> </tt>
<a name="L818"></a><tt class="py-lineno"> 818</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-526" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-526', 'Author', 'link-48');">Author</a></tt><tt class="py-op">:</tt> </tt>
<a name="L819"></a><tt class="py-lineno"> 819</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-527" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-527', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-528" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-528', 'Author', 'link-48');">Author</a></tt><tt class="py-op">)</tt> </tt>
<a name="L820"></a><tt class="py-lineno"> 820</tt>  <tt class="py-line">                                        <tt class="py-name">userIsAuthor</tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-529" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-529', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-530" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-530', 'Author', 'link-48');">Author</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L821"></a><tt class="py-lineno"> 821</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">userIsAuthor</tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt> </tt>
<a name="L822"></a><tt class="py-lineno"> 822</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">userIsAuthor</tt> <tt class="py-keyword">or</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-531" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-531', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-532" class="py-name" targets="Variable feathers.membership.Member.isAdmin=feathers.membership.Member-class.html#isAdmin"><a title="feathers.membership.Member.isAdmin" class="py-name" href="#" onclick="return doclink('link-532', 'isAdmin', 'link-532');">isAdmin</a></tt><tt class="py-op">:</tt> <tt class="py-name">userCanEdit</tt> <tt class="py-op">=</tt> <tt class="py-name">True</tt> </tt>
<a name="L823"></a><tt class="py-lineno"> 823</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">userCanEdit</tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt> </tt>
<a name="L824"></a><tt class="py-lineno"> 824</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-533" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-533', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-534" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-534', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L825"></a><tt class="py-lineno"> 825</tt>  <tt class="py-line">                                        <tt class="py-string">"book"</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">,</tt> </tt>
<a name="L826"></a><tt class="py-lineno"> 826</tt>  <tt class="py-line">                                        <tt class="py-string">"chapters"</tt><tt class="py-op">:</tt> <tt class="py-name">chapters</tt><tt class="py-op">,</tt> </tt>
<a name="L827"></a><tt class="py-lineno"> 827</tt>  <tt class="py-line">                                        <tt class="py-string">"firstChapter"</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-535" class="py-name" targets="Method wrook.Book.firstChapter()=wrook.Book-class.html#firstChapter"><a title="wrook.Book.firstChapter" class="py-name" href="#" onclick="return doclink('link-535', 'firstChapter', 'link-535');">firstChapter</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L828"></a><tt class="py-lineno"> 828</tt>  <tt class="py-line">                                        <tt class="py-string">"chapterCount"</tt><tt class="py-op">:</tt> <tt class="py-name">chapterCount</tt><tt class="py-op">,</tt> </tt>
<a name="L829"></a><tt class="py-lineno"> 829</tt>  <tt class="py-line">                                        <tt class="py-string">"userIsAuthor"</tt><tt class="py-op">:</tt> <tt class="py-name">userIsAuthor</tt><tt class="py-op">,</tt> </tt>
<a name="L830"></a><tt class="py-lineno"> 830</tt>  <tt class="py-line">                                        <tt class="py-string">"userCanEdit"</tt><tt class="py-op">:</tt> <tt class="py-name">userCanEdit</tt> </tt>
<a name="L831"></a><tt class="py-lineno"> 831</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L832"></a><tt class="py-lineno"> 832</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-536" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-536', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/books-view.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L833"></a><tt class="py-lineno"> 833</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L834"></a><tt class="py-lineno"> 834</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-537" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-537', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L835"></a><tt class="py-lineno"> 835</tt>  <tt class="py-line"> </tt>
<a name="L836"></a><tt class="py-lineno"> 836</tt>  <tt class="py-line"> </tt>
<a name="MembersProfile"></a><div id="MembersProfile-def"><a name="L837"></a><tt class="py-lineno"> 837</tt> <a class="py-toggle" href="#" id="MembersProfile-toggle" onclick="return toggle('MembersProfile');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.MembersProfile-class.html">MembersProfile</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="MembersProfile-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="MembersProfile-expanded"><a name="MembersProfile.get"></a><div id="MembersProfile.get-def"><a name="L838"></a><tt class="py-lineno"> 838</tt> <a class="py-toggle" href="#" id="MembersProfile.get-toggle" onclick="return toggle('MembersProfile.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.MembersProfile-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="MembersProfile.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="MembersProfile.get-expanded"><a name="L839"></a><tt class="py-lineno"> 839</tt>  <tt class="py-line">                <tt id="link-538" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-538', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L840"></a><tt class="py-lineno"> 840</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-539" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-539', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L841"></a><tt class="py-lineno"> 841</tt>  <tt class="py-line">                        <tt class="py-name">visitedMember</tt> <tt class="py-op">=</tt> <tt id="link-540" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-540', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-541" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-541', 'Member', 'link-44');">Member</a></tt><tt class="py-op">.</tt><tt id="link-542" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-542', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L842"></a><tt class="py-lineno"> 842</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">visitedMember</tt><tt class="py-op">:</tt> </tt>
<a name="L843"></a><tt class="py-lineno"> 843</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-543" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-543', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">visitedMember</tt><tt class="py-op">)</tt> </tt>
<a name="L844"></a><tt class="py-lineno"> 844</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-544" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-544', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-545" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-545', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L845"></a><tt class="py-lineno"> 845</tt>  <tt class="py-line">                                        <tt class="py-string">"now"</tt><tt class="py-op">:</tt> <tt class="py-name">datetime</tt><tt class="py-op">.</tt><tt class="py-name">datetime</tt><tt class="py-op">.</tt><tt class="py-name">now</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L846"></a><tt class="py-lineno"> 846</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L847"></a><tt class="py-lineno"> 847</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-546" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-546', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/MembersProfile.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L848"></a><tt class="py-lineno"> 848</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L849"></a><tt class="py-lineno"> 849</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-547" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-547', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L850"></a><tt class="py-lineno"> 850</tt>  <tt class="py-line"> </tt>
<a name="L851"></a><tt class="py-lineno"> 851</tt>  <tt class="py-line"><tt class="py-comment">#Refactor: Put back in the chapter object</tt> </tt>
<a name="deleteChapter"></a><div id="deleteChapter-def"><a name="L852"></a><tt class="py-lineno"> 852</tt> <a class="py-toggle" href="#" id="deleteChapter-toggle" onclick="return toggle('deleteChapter');">-</a><tt class="py-line"><tt class="py-comment"></tt><tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook-module.html#deleteChapter">deleteChapter</a><tt class="py-op">(</tt><tt class="py-param">chapter</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="deleteChapter-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="deleteChapter-expanded"><a name="L853"></a><tt class="py-lineno"> 853</tt>  <tt class="py-line">        <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-548" class="py-name" targets="Variable wrook.Book.Feedback=wrook.Book-class.html#Feedback,Variable wrook.Chapter.Feedback=wrook.Chapter-class.html#Feedback"><a title="wrook.Book.Feedback
wrook.Chapter.Feedback" class="py-name" href="#" onclick="return doclink('link-548', 'Feedback', 'link-548');">Feedback</a></tt><tt class="py-op">)</tt> </tt>
<a name="L854"></a><tt class="py-lineno"> 854</tt>  <tt class="py-line">        <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-549" class="py-name"><a title="wrook.Chapter.Revisions" class="py-name" href="#" onclick="return doclink('link-549', 'Revisions', 'link-108');">Revisions</a></tt><tt class="py-op">)</tt> </tt>
<a name="L855"></a><tt class="py-lineno"> 855</tt>  <tt class="py-line">        <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-550" class="py-name" targets="Variable feathers.membership.Member.Bookmarks=feathers.membership.Member-class.html#Bookmarks,Variable wrook.Book.Bookmarks=wrook.Book-class.html#Bookmarks,Variable wrook.Chapter.Bookmarks=wrook.Chapter-class.html#Bookmarks"><a title="feathers.membership.Member.Bookmarks
wrook.Book.Bookmarks
wrook.Chapter.Bookmarks" class="py-name" href="#" onclick="return doclink('link-550', 'Bookmarks', 'link-550');">Bookmarks</a></tt><tt class="py-op">)</tt> </tt>
<a name="L856"></a><tt class="py-lineno"> 856</tt>  <tt class="py-line">        <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-name">chapter</tt><tt class="py-op">)</tt> </tt>
</div><a name="L857"></a><tt class="py-lineno"> 857</tt>  <tt class="py-line"> </tt>
<a name="L858"></a><tt class="py-lineno"> 858</tt>  <tt class="py-line"><tt class="py-comment">#Refactor: Put back in the book object</tt> </tt>
<a name="deleteBook"></a><div id="deleteBook-def"><a name="L859"></a><tt class="py-lineno"> 859</tt> <a class="py-toggle" href="#" id="deleteBook-toggle" onclick="return toggle('deleteBook');">-</a><tt class="py-line"><tt class="py-comment"></tt><tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook-module.html#deleteBook">deleteBook</a><tt class="py-op">(</tt><tt class="py-param">book</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="deleteBook-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="deleteBook-expanded"><a name="L860"></a><tt class="py-lineno"> 860</tt>  <tt class="py-line">        <tt class="py-keyword">for</tt> <tt class="py-name">chapter</tt> <tt class="py-keyword">in</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-551" class="py-name"><a title="wrook.Book.Chapters" class="py-name" href="#" onclick="return doclink('link-551', 'Chapters', 'link-67');">Chapters</a></tt><tt class="py-op">:</tt> </tt>
<a name="L861"></a><tt class="py-lineno"> 861</tt>  <tt class="py-line">                <tt id="link-552" class="py-name" targets="Function wrook.deleteChapter()=wrook-module.html#deleteChapter"><a title="wrook.deleteChapter" class="py-name" href="#" onclick="return doclink('link-552', 'deleteChapter', 'link-552');">deleteChapter</a></tt><tt class="py-op">(</tt><tt class="py-name">chapter</tt><tt class="py-op">)</tt> </tt>
<a name="L862"></a><tt class="py-lineno"> 862</tt>  <tt class="py-line">        <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-553" class="py-name"><a title="wrook.Book.Feedback
wrook.Chapter.Feedback" class="py-name" href="#" onclick="return doclink('link-553', 'Feedback', 'link-548');">Feedback</a></tt><tt class="py-op">)</tt> </tt>
<a name="L863"></a><tt class="py-lineno"> 863</tt>  <tt class="py-line">        <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-554" class="py-name"><a title="feathers.membership.Member.Bookmarks
wrook.Book.Bookmarks
wrook.Chapter.Bookmarks" class="py-name" href="#" onclick="return doclink('link-554', 'Bookmarks', 'link-550');">Bookmarks</a></tt><tt class="py-op">)</tt> </tt>
<a name="L864"></a><tt class="py-lineno"> 864</tt>  <tt class="py-line">        <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-name">book</tt><tt class="py-op">)</tt> </tt>
</div><a name="L865"></a><tt class="py-lineno"> 865</tt>  <tt class="py-line"> </tt>
<a name="DeleteChapter"></a><div id="DeleteChapter-def"><a name="L866"></a><tt class="py-lineno"> 866</tt> <a class="py-toggle" href="#" id="DeleteChapter-toggle" onclick="return toggle('DeleteChapter');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.DeleteChapter-class.html">DeleteChapter</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="DeleteChapter-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="DeleteChapter-expanded"><a name="DeleteChapter.get"></a><div id="DeleteChapter.get-def"><a name="L867"></a><tt class="py-lineno"> 867</tt> <a class="py-toggle" href="#" id="DeleteChapter.get-toggle" onclick="return toggle('DeleteChapter.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.DeleteChapter-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="DeleteChapter.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="DeleteChapter.get-expanded"><a name="L868"></a><tt class="py-lineno"> 868</tt>  <tt class="py-line">                <tt id="link-555" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-555', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L869"></a><tt class="py-lineno"> 869</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-556" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-556', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L870"></a><tt class="py-lineno"> 870</tt>  <tt class="py-line">                        <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt id="link-557" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-557', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt id="link-558" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-558', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L871"></a><tt class="py-lineno"> 871</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">:</tt> </tt>
<a name="L872"></a><tt class="py-lineno"> 872</tt>  <tt class="py-line">                                <tt class="py-name">userIsAuthor</tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-559" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-559', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-560" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-560', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-561" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-561', 'Author', 'link-48');">Author</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L873"></a><tt class="py-lineno"> 873</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">userIsAuthor</tt><tt class="py-op">:</tt> </tt>
<a name="L874"></a><tt class="py-lineno"> 874</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-562" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-562', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-563" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-563', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">"chapter"</tt><tt class="py-op">:</tt> <tt class="py-name">chapter</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L875"></a><tt class="py-lineno"> 875</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-564" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-564', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/deleteChapter.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L876"></a><tt class="py-lineno"> 876</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-keyword">return</tt> </tt>
<a name="L877"></a><tt class="py-lineno"> 877</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L878"></a><tt class="py-lineno"> 878</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-565" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-565', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L879"></a><tt class="py-lineno"> 879</tt>  <tt class="py-line"> </tt>
<a name="DeleteChapter.post"></a><div id="DeleteChapter.post-def"><a name="L880"></a><tt class="py-lineno"> 880</tt> <a class="py-toggle" href="#" id="DeleteChapter.post-toggle" onclick="return toggle('DeleteChapter.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.DeleteChapter-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="DeleteChapter.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="DeleteChapter.post-expanded"><a name="L881"></a><tt class="py-lineno"> 881</tt>  <tt class="py-line">                <tt id="link-566" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-566', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L882"></a><tt class="py-lineno"> 882</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-567" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-567', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L883"></a><tt class="py-lineno"> 883</tt>  <tt class="py-line">                        <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt id="link-568" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-568', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt id="link-569" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-569', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L884"></a><tt class="py-lineno"> 884</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">:</tt> </tt>
<a name="L885"></a><tt class="py-lineno"> 885</tt>  <tt class="py-line">                                <tt class="py-name">userIsAuthor</tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-570" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-570', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-571" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-571', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-572" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-572', 'Author', 'link-48');">Author</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L886"></a><tt class="py-lineno"> 886</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">userIsAuthor</tt><tt class="py-op">:</tt> </tt>
<a name="L887"></a><tt class="py-lineno"> 887</tt>  <tt class="py-line">                                        <tt class="py-keyword">if</tt> <tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-573" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-573', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"doDelete"</tt><tt class="py-op">)</tt> <tt class="py-op">!=</tt> <tt class="py-string">""</tt> <tt class="py-keyword">and</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-574" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-574', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"confirmDelete"</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-string">"yes"</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L888"></a><tt class="py-lineno"> 888</tt>  <tt class="py-line">                                                <tt id="link-575" class="py-name"><a title="wrook.deleteChapter" class="py-name" href="#" onclick="return doclink('link-575', 'deleteChapter', 'link-552');">deleteChapter</a></tt><tt class="py-op">(</tt><tt class="py-name">chapter</tt><tt class="py-op">)</tt> </tt>
<a name="L889"></a><tt class="py-lineno"> 889</tt>  <tt class="py-line">                                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/Books/%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-576" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-576', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L890"></a><tt class="py-lineno"> 890</tt>  <tt class="py-line">                                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L891"></a><tt class="py-lineno"> 891</tt>  <tt class="py-line">                                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/Chapter/Delete/%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L892"></a><tt class="py-lineno"> 892</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-keyword">return</tt> </tt>
<a name="L893"></a><tt class="py-lineno"> 893</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L894"></a><tt class="py-lineno"> 894</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-577" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-577', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L895"></a><tt class="py-lineno"> 895</tt>  <tt class="py-line"> </tt>
<a name="PasswordSent"></a><div id="PasswordSent-def"><a name="L896"></a><tt class="py-lineno"> 896</tt> <a class="py-toggle" href="#" id="PasswordSent-toggle" onclick="return toggle('PasswordSent');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.PasswordSent-class.html">PasswordSent</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="PasswordSent-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="PasswordSent-expanded"><a name="PasswordSent.get"></a><div id="PasswordSent.get-def"><a name="L897"></a><tt class="py-lineno"> 897</tt> <a class="py-toggle" href="#" id="PasswordSent.get-toggle" onclick="return toggle('PasswordSent.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.PasswordSent-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="PasswordSent.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="PasswordSent.get-expanded"><a name="L898"></a><tt class="py-lineno"> 898</tt>  <tt class="py-line">                <tt id="link-578" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-578', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L899"></a><tt class="py-lineno"> 899</tt>  <tt class="py-line">                <tt class="py-name">member</tt> <tt class="py-op">=</tt> <tt id="link-579" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-579', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-580" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-580', 'Member', 'link-44');">Member</a></tt><tt class="py-op">.</tt><tt id="link-581" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-581', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L900"></a><tt class="py-lineno"> 900</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">member</tt><tt class="py-op">:</tt> </tt>
<a name="L901"></a><tt class="py-lineno"> 901</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-582" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-582', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-583" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-583', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">"member"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L902"></a><tt class="py-lineno"> 902</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-584" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-584', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/passwordSent.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L903"></a><tt class="py-lineno"> 903</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L904"></a><tt class="py-lineno"> 904</tt>  <tt class="py-line"> </tt>
<a name="ResetPassword"></a><div id="ResetPassword-def"><a name="L905"></a><tt class="py-lineno"> 905</tt> <a class="py-toggle" href="#" id="ResetPassword-toggle" onclick="return toggle('ResetPassword');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.ResetPassword-class.html">ResetPassword</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="ResetPassword-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="ResetPassword-expanded"><a name="ResetPassword.get"></a><div id="ResetPassword.get-def"><a name="L906"></a><tt class="py-lineno"> 906</tt> <a class="py-toggle" href="#" id="ResetPassword.get-toggle" onclick="return toggle('ResetPassword.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.ResetPassword-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="ResetPassword.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="ResetPassword.get-expanded"><a name="L907"></a><tt class="py-lineno"> 907</tt>  <tt class="py-line">                <tt id="link-585" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-585', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L908"></a><tt class="py-lineno"> 908</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">key</tt><tt class="py-op">:</tt> </tt>
<a name="L909"></a><tt class="py-lineno"> 909</tt>  <tt class="py-line">                        <tt class="py-name">member</tt> <tt class="py-op">=</tt> <tt id="link-586" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-586', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-587" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-587', 'Member', 'link-44');">Member</a></tt><tt class="py-op">.</tt><tt id="link-588" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-588', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L910"></a><tt class="py-lineno"> 910</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">member</tt><tt class="py-op">:</tt> </tt>
<a name="L911"></a><tt class="py-lineno"> 911</tt>  <tt class="py-line">                                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-589" class="py-name"><a title="feathers.membership.Member.resetPassword" class="py-name" href="#" onclick="return doclink('link-589', 'resetPassword', 'link-383');">resetPassword</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-590" class="py-name"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-590', 'AppConfig', 'link-19');">AppConfig</a></tt><tt class="py-op">.</tt><tt id="link-591" class="py-name"><a title="wrook.WrookAppConfig.EncryptionKey" class="py-name" href="#" onclick="return doclink('link-591', 'EncryptionKey', 'link-385');">EncryptionKey</a></tt><tt class="py-op">)</tt> </tt>
<a name="L912"></a><tt class="py-lineno"> 912</tt>  <tt class="py-line">                                <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-592" class="py-name"><a title="feathers.membership.Member.sendPassword" class="py-name" href="#" onclick="return doclink('link-592', 'sendPassword', 'link-386');">sendPassword</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L913"></a><tt class="py-lineno"> 913</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-593" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-593', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-594" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-594', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">"member"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L914"></a><tt class="py-lineno"> 914</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">'/PasswordSent/%s'</tt> <tt class="py-op">%</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L915"></a><tt class="py-lineno"> 915</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L916"></a><tt class="py-lineno"> 916</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L917"></a><tt class="py-lineno"> 917</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-595" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-595', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/resetPassword.html"</tt><tt class="py-op">)</tt> </tt>
</div><a name="L918"></a><tt class="py-lineno"> 918</tt>  <tt class="py-line"> </tt>
<a name="ResetPassword.post"></a><div id="ResetPassword.post-def"><a name="L919"></a><tt class="py-lineno"> 919</tt> <a class="py-toggle" href="#" id="ResetPassword.post-toggle" onclick="return toggle('ResetPassword.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.ResetPassword-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="ResetPassword.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="ResetPassword.post-expanded"><a name="L920"></a><tt class="py-lineno"> 920</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">key</tt><tt class="py-op">:</tt> </tt>
<a name="L921"></a><tt class="py-lineno"> 921</tt>  <tt class="py-line">                        <tt class="py-name">usernameOrEmail</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-596" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-596', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"usernameOrEmail"</tt><tt class="py-op">)</tt> </tt>
<a name="L922"></a><tt class="py-lineno"> 922</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">usernameOrEmail</tt><tt class="py-op">:</tt> </tt>
<a name="L923"></a><tt class="py-lineno"> 923</tt>  <tt class="py-line">                                <tt class="py-name">member</tt> <tt class="py-op">=</tt> <tt id="link-597" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-597', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-598" class="py-name"><a title="feathers.membership.getMemberFromCredentials" class="py-name" href="#" onclick="return doclink('link-598', 'getMemberFromCredentials', 'link-367');">getMemberFromCredentials</a></tt><tt class="py-op">(</tt><tt class="py-name">usernameOrEmail</tt><tt class="py-op">)</tt> </tt>
<a name="L924"></a><tt class="py-lineno"> 924</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">member</tt><tt class="py-op">:</tt> </tt>
<a name="L925"></a><tt class="py-lineno"> 925</tt>  <tt class="py-line">                                        <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-599" class="py-name"><a title="feathers.membership.Member.resetPassword" class="py-name" href="#" onclick="return doclink('link-599', 'resetPassword', 'link-383');">resetPassword</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-600" class="py-name"><a title="feathers.webapp.RequestHandler.AppConfig" class="py-name" href="#" onclick="return doclink('link-600', 'AppConfig', 'link-19');">AppConfig</a></tt><tt class="py-op">.</tt><tt id="link-601" class="py-name"><a title="wrook.WrookAppConfig.EncryptionKey" class="py-name" href="#" onclick="return doclink('link-601', 'EncryptionKey', 'link-385');">EncryptionKey</a></tt><tt class="py-op">)</tt> </tt>
<a name="L926"></a><tt class="py-lineno"> 926</tt>  <tt class="py-line">                                        <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-602" class="py-name"><a title="feathers.membership.Member.sendPassword" class="py-name" href="#" onclick="return doclink('link-602', 'sendPassword', 'link-386');">sendPassword</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L927"></a><tt class="py-lineno"> 927</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-603" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-603', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-604" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-604', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">"member"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L928"></a><tt class="py-lineno"> 928</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">'/PasswordSent/%s'</tt> <tt class="py-op">%</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L929"></a><tt class="py-lineno"> 929</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L930"></a><tt class="py-lineno"> 930</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-605" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-605', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-606" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-606', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">"error"</tt><tt class="py-op">:</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"No member found with this username or email address!"</tt><tt class="py-op">)</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L931"></a><tt class="py-lineno"> 931</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-607" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-607', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/resetPassword.html"</tt><tt class="py-op">)</tt> </tt>
<a name="L932"></a><tt class="py-lineno"> 932</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L933"></a><tt class="py-lineno"> 933</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-608" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-608', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-609" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-609', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">"error"</tt><tt class="py-op">:</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"No member found with this username or email address!"</tt><tt class="py-op">)</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L934"></a><tt class="py-lineno"> 934</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-610" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-610', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/resetPassword.html"</tt><tt class="py-op">)</tt> </tt>
<a name="L935"></a><tt class="py-lineno"> 935</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L936"></a><tt class="py-lineno"> 936</tt>  <tt class="py-line"> </tt>
<a name="SendPassword"></a><div id="SendPassword-def"><a name="L937"></a><tt class="py-lineno"> 937</tt> <a class="py-toggle" href="#" id="SendPassword-toggle" onclick="return toggle('SendPassword');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.SendPassword-class.html">SendPassword</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="SendPassword-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="SendPassword-expanded"><a name="SendPassword.get"></a><div id="SendPassword.get-def"><a name="L938"></a><tt class="py-lineno"> 938</tt> <a class="py-toggle" href="#" id="SendPassword.get-toggle" onclick="return toggle('SendPassword.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.SendPassword-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="SendPassword.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="SendPassword.get-expanded"><a name="L939"></a><tt class="py-lineno"> 939</tt>  <tt class="py-line">                <tt id="link-611" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-611', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L940"></a><tt class="py-lineno"> 940</tt>  <tt class="py-line">                <tt class="py-name">member</tt> <tt class="py-op">=</tt> <tt id="link-612" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-612', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-613" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-613', 'Member', 'link-44');">Member</a></tt><tt class="py-op">.</tt><tt id="link-614" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-614', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L941"></a><tt class="py-lineno"> 941</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">member</tt><tt class="py-op">:</tt> </tt>
<a name="L942"></a><tt class="py-lineno"> 942</tt>  <tt class="py-line">                        <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-615" class="py-name"><a title="feathers.membership.Member.sendPassword" class="py-name" href="#" onclick="return doclink('link-615', 'sendPassword', 'link-386');">sendPassword</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L943"></a><tt class="py-lineno"> 943</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-616" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-616', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-617" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-617', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">"member"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L944"></a><tt class="py-lineno"> 944</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">'/PasswordSent/%s'</tt> <tt class="py-op">%</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L945"></a><tt class="py-lineno"> 945</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L946"></a><tt class="py-lineno"> 946</tt>  <tt class="py-line"> </tt>
<a name="DeleteBook"></a><div id="DeleteBook-def"><a name="L947"></a><tt class="py-lineno"> 947</tt> <a class="py-toggle" href="#" id="DeleteBook-toggle" onclick="return toggle('DeleteBook');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.DeleteBook-class.html">DeleteBook</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="DeleteBook-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="DeleteBook-expanded"><a name="DeleteBook.get"></a><div id="DeleteBook.get-def"><a name="L948"></a><tt class="py-lineno"> 948</tt> <a class="py-toggle" href="#" id="DeleteBook.get-toggle" onclick="return toggle('DeleteBook.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.DeleteBook-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="DeleteBook.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="DeleteBook.get-expanded"><a name="L949"></a><tt class="py-lineno"> 949</tt>  <tt class="py-line">                <tt id="link-618" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-618', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L950"></a><tt class="py-lineno"> 950</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-619" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-619', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L951"></a><tt class="py-lineno"> 951</tt>  <tt class="py-line">                        <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-620" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-620', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-621" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-621', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L952"></a><tt class="py-lineno"> 952</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">:</tt> </tt>
<a name="L953"></a><tt class="py-lineno"> 953</tt>  <tt class="py-line">                                <tt class="py-name">userIsAuthor</tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-622" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-622', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-623" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-623', 'Author', 'link-48');">Author</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L954"></a><tt class="py-lineno"> 954</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">userIsAuthor</tt><tt class="py-op">:</tt> </tt>
<a name="L955"></a><tt class="py-lineno"> 955</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-624" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-624', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-625" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-625', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">"book"</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L956"></a><tt class="py-lineno"> 956</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-626" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-626', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/deleteBook.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L957"></a><tt class="py-lineno"> 957</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-keyword">return</tt> </tt>
<a name="L958"></a><tt class="py-lineno"> 958</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L959"></a><tt class="py-lineno"> 959</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-627" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-627', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L960"></a><tt class="py-lineno"> 960</tt>  <tt class="py-line"> </tt>
<a name="DeleteBook.post"></a><div id="DeleteBook.post-def"><a name="L961"></a><tt class="py-lineno"> 961</tt> <a class="py-toggle" href="#" id="DeleteBook.post-toggle" onclick="return toggle('DeleteBook.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.DeleteBook-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="DeleteBook.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="DeleteBook.post-expanded"><a name="L962"></a><tt class="py-lineno"> 962</tt>  <tt class="py-line">                <tt id="link-628" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-628', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L963"></a><tt class="py-lineno"> 963</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-629" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-629', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L964"></a><tt class="py-lineno"> 964</tt>  <tt class="py-line">                        <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-630" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-630', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-631" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-631', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L965"></a><tt class="py-lineno"> 965</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">:</tt> </tt>
<a name="L966"></a><tt class="py-lineno"> 966</tt>  <tt class="py-line">                                <tt class="py-name">userIsAuthor</tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-632" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-632', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-633" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-633', 'Author', 'link-48');">Author</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L967"></a><tt class="py-lineno"> 967</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">userIsAuthor</tt><tt class="py-op">:</tt> </tt>
<a name="L968"></a><tt class="py-lineno"> 968</tt>  <tt class="py-line">                                        <tt class="py-keyword">if</tt> <tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-634" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-634', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"doDelete"</tt><tt class="py-op">)</tt> <tt class="py-op">!=</tt> <tt class="py-string">""</tt> <tt class="py-keyword">and</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-635" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-635', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"confirmDelete"</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-string">"yes"</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L969"></a><tt class="py-lineno"> 969</tt>  <tt class="py-line">                                                <tt id="link-636" class="py-name" targets="Function wrook.deleteBook()=wrook-module.html#deleteBook"><a title="wrook.deleteBook" class="py-name" href="#" onclick="return doclink('link-636', 'deleteBook', 'link-636');">deleteBook</a></tt><tt class="py-op">(</tt><tt class="py-name">book</tt><tt class="py-op">)</tt> </tt>
<a name="L970"></a><tt class="py-lineno"> 970</tt>  <tt class="py-line">                                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/"</tt><tt class="py-op">)</tt> </tt>
<a name="L971"></a><tt class="py-lineno"> 971</tt>  <tt class="py-line">                                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L972"></a><tt class="py-lineno"> 972</tt>  <tt class="py-line">                                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/Books/Delete/%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L973"></a><tt class="py-lineno"> 973</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-keyword">return</tt> </tt>
<a name="L974"></a><tt class="py-lineno"> 974</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L975"></a><tt class="py-lineno"> 975</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-637" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-637', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L976"></a><tt class="py-lineno"> 976</tt>  <tt class="py-line">         </tt>
<a name="ViewChapter"></a><div id="ViewChapter-def"><a name="L977"></a><tt class="py-lineno"> 977</tt> <a class="py-toggle" href="#" id="ViewChapter-toggle" onclick="return toggle('ViewChapter');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.ViewChapter-class.html">ViewChapter</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="ViewChapter-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="ViewChapter-expanded"><a name="ViewChapter.get"></a><div id="ViewChapter.get-def"><a name="L978"></a><tt class="py-lineno"> 978</tt> <a class="py-toggle" href="#" id="ViewChapter.get-toggle" onclick="return toggle('ViewChapter.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.ViewChapter-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="ViewChapter.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="ViewChapter.get-expanded"><a name="L979"></a><tt class="py-lineno"> 979</tt>  <tt class="py-line">                <tt id="link-638" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-638', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L980"></a><tt class="py-lineno"> 980</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-639" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-639', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L981"></a><tt class="py-lineno"> 981</tt>  <tt class="py-line">                        <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt id="link-640" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-640', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt id="link-641" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-641', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L982"></a><tt class="py-lineno"> 982</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">:</tt> </tt>
<a name="L983"></a><tt class="py-lineno"> 983</tt>  <tt class="py-line">                                <tt class="py-name">userIsAuthor</tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-642" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-642', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-643" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-643', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-644" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-644', 'Author', 'link-48');">Author</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L984"></a><tt class="py-lineno"> 984</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-645" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-645', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-646" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-646', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L985"></a><tt class="py-lineno"> 985</tt>  <tt class="py-line">                                        <tt class="py-string">"chapter"</tt><tt class="py-op">:</tt> <tt class="py-name">chapter</tt><tt class="py-op">,</tt> </tt>
<a name="L986"></a><tt class="py-lineno"> 986</tt>  <tt class="py-line">                                        <tt class="py-string">"userIsAuthor"</tt><tt class="py-op">:</tt> <tt class="py-name">userIsAuthor</tt> </tt>
<a name="L987"></a><tt class="py-lineno"> 987</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L988"></a><tt class="py-lineno"> 988</tt>  <tt class="py-line">                                <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-647" class="py-name" targets="Method wrook.Chapter.setBookmark()=wrook.Chapter-class.html#setBookmark"><a title="wrook.Chapter.setBookmark" class="py-name" href="#" onclick="return doclink('link-647', 'setBookmark', 'link-647');">setBookmark</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-648" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-648', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L989"></a><tt class="py-lineno"> 989</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-649" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-649', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/viewChapter.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L990"></a><tt class="py-lineno"> 990</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L991"></a><tt class="py-lineno"> 991</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-650" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-650', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L992"></a><tt class="py-lineno"> 992</tt>  <tt class="py-line"> </tt>
<a name="L993"></a><tt class="py-lineno"> 993</tt>  <tt class="py-line"> </tt>
<a name="EditChapterOptions"></a><div id="EditChapterOptions-def"><a name="L994"></a><tt class="py-lineno"> 994</tt> <a class="py-toggle" href="#" id="EditChapterOptions-toggle" onclick="return toggle('EditChapterOptions');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.EditChapterOptions-class.html">EditChapterOptions</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="EditChapterOptions-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="EditChapterOptions-expanded"><a name="EditChapterOptions.get"></a><div id="EditChapterOptions.get-def"><a name="L995"></a><tt class="py-lineno"> 995</tt> <a class="py-toggle" href="#" id="EditChapterOptions.get-toggle" onclick="return toggle('EditChapterOptions.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.EditChapterOptions-class.html#get">get</a><tt class="py-op">(</tt> <tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt> <tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="EditChapterOptions.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="EditChapterOptions.get-expanded"><a name="L996"></a><tt class="py-lineno"> 996</tt>  <tt class="py-line">                <tt id="link-651" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-651', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L997"></a><tt class="py-lineno"> 997</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-652" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-652', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L998"></a><tt class="py-lineno"> 998</tt>  <tt class="py-line">                        <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt id="link-653" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-653', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt id="link-654" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-654', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L999"></a><tt class="py-lineno"> 999</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">:</tt> </tt>
<a name="L1000"></a><tt class="py-lineno">1000</tt>  <tt class="py-line">                                <tt class="py-name">form</tt> <tt class="py-op">=</tt> <tt id="link-655" class="py-name" targets="Class wrook.ChapterForm=wrook.ChapterForm-class.html"><a title="wrook.ChapterForm" class="py-name" href="#" onclick="return doclink('link-655', 'ChapterForm', 'link-655');">ChapterForm</a></tt><tt class="py-op">(</tt><tt class="py-name">instance</tt><tt class="py-op">=</tt><tt class="py-name">chapter</tt><tt class="py-op">)</tt> </tt>
<a name="L1001"></a><tt class="py-lineno">1001</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-656" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-656', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-657" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-657', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1002"></a><tt class="py-lineno">1002</tt>  <tt class="py-line">                                        <tt class="py-string">"chapter"</tt><tt class="py-op">:</tt> <tt class="py-name">chapter</tt><tt class="py-op">,</tt> </tt>
<a name="L1003"></a><tt class="py-lineno">1003</tt>  <tt class="py-line">                                        <tt class="py-string">"form"</tt><tt class="py-op">:</tt> <tt class="py-name">form</tt> </tt>
<a name="L1004"></a><tt class="py-lineno">1004</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1005"></a><tt class="py-lineno">1005</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-658" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-658', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/books-chapter-edit.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1006"></a><tt class="py-lineno">1006</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1007"></a><tt class="py-lineno">1007</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-659" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-659', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1008"></a><tt class="py-lineno">1008</tt>  <tt class="py-line"> </tt>
<a name="EditChapterOptions.post"></a><div id="EditChapterOptions.post-def"><a name="L1009"></a><tt class="py-lineno">1009</tt> <a class="py-toggle" href="#" id="EditChapterOptions.post-toggle" onclick="return toggle('EditChapterOptions.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.EditChapterOptions-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="EditChapterOptions.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="EditChapterOptions.post-expanded"><a name="L1010"></a><tt class="py-lineno">1010</tt>  <tt class="py-line">                <tt id="link-660" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-660', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1011"></a><tt class="py-lineno">1011</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-661" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-661', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1012"></a><tt class="py-lineno">1012</tt>  <tt class="py-line">                        <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt id="link-662" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-662', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt id="link-663" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-663', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1013"></a><tt class="py-lineno">1013</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">:</tt> </tt>
<a name="L1014"></a><tt class="py-lineno">1014</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-664" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-664', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"doDelete"</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1015"></a><tt class="py-lineno">1015</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">'/Chapter/Delete/%s'</tt> <tt class="py-op">%</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1016"></a><tt class="py-lineno">1016</tt>  <tt class="py-line">                                        <tt class="py-keyword">return</tt> </tt>
<a name="L1017"></a><tt class="py-lineno">1017</tt>  <tt class="py-line">                                <tt class="py-name">form</tt> <tt class="py-op">=</tt> <tt id="link-665" class="py-name"><a title="wrook.ChapterForm" class="py-name" href="#" onclick="return doclink('link-665', 'ChapterForm', 'link-655');">ChapterForm</a></tt><tt class="py-op">(</tt><tt class="py-name">data</tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt class="py-name">POST</tt><tt class="py-op">,</tt> <tt class="py-name">instance</tt><tt class="py-op">=</tt><tt class="py-name">chapter</tt><tt class="py-op">)</tt> </tt>
<a name="L1018"></a><tt class="py-lineno">1018</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">form</tt><tt class="py-op">.</tt><tt class="py-name">is_valid</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1019"></a><tt class="py-lineno">1019</tt>  <tt class="py-line">                                        <tt class="py-comment"># Save the form, and redirect to the view page</tt> </tt>
<a name="L1020"></a><tt class="py-lineno">1020</tt>  <tt class="py-line"><tt class="py-comment"></tt>                                        <tt class="py-name">entity</tt> <tt class="py-op">=</tt> <tt class="py-name">form</tt><tt class="py-op">.</tt><tt class="py-name">save</tt><tt class="py-op">(</tt><tt class="py-name">commit</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">)</tt> </tt>
<a name="L1021"></a><tt class="py-lineno">1021</tt>  <tt class="py-line">                                        <tt class="py-name">entity</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1022"></a><tt class="py-lineno">1022</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">'/ViewChapter/%s'</tt> <tt class="py-op">%</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1023"></a><tt class="py-lineno">1023</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L1024"></a><tt class="py-lineno">1024</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-666" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-666', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-667" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-667', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1025"></a><tt class="py-lineno">1025</tt>  <tt class="py-line">                                                <tt class="py-string">'chapter'</tt><tt class="py-op">:</tt> <tt class="py-name">chapter</tt><tt class="py-op">,</tt> </tt>
<a name="L1026"></a><tt class="py-lineno">1026</tt>  <tt class="py-line">                                                <tt class="py-string">'form'</tt><tt class="py-op">:</tt> <tt class="py-name">form</tt> </tt>
<a name="L1027"></a><tt class="py-lineno">1027</tt>  <tt class="py-line">                                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1028"></a><tt class="py-lineno">1028</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-668" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-668', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/books-chapter-edit.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1029"></a><tt class="py-lineno">1029</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1030"></a><tt class="py-lineno">1030</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-669" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-669', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1031"></a><tt class="py-lineno">1031</tt>  <tt class="py-line"> </tt>
<a name="Books"></a><div id="Books-def"><a name="L1032"></a><tt class="py-lineno">1032</tt> <a class="py-toggle" href="#" id="Books-toggle" onclick="return toggle('Books');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Books-class.html">Books</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Books-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Books-expanded"><a name="Books.get"></a><div id="Books.get-def"><a name="L1033"></a><tt class="py-lineno">1033</tt> <a class="py-toggle" href="#" id="Books.get-toggle" onclick="return toggle('Books.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Books-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Books.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Books.get-expanded"><a name="L1034"></a><tt class="py-lineno">1034</tt>  <tt class="py-line">                <tt id="link-670" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-670', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1035"></a><tt class="py-lineno">1035</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-671" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-671', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1036"></a><tt class="py-lineno">1036</tt>  <tt class="py-line">                        <tt class="py-name">stage</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-672" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-672', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"stage"</tt><tt class="py-op">)</tt> </tt>
<a name="L1037"></a><tt class="py-lineno">1037</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-673" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-673', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-674" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-674', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1038"></a><tt class="py-lineno">1038</tt>  <tt class="py-line">                                <tt class="py-string">'true'</tt><tt class="py-op">:</tt> <tt class="py-name">True</tt><tt class="py-op">,</tt> </tt>
<a name="L1039"></a><tt class="py-lineno">1039</tt>  <tt class="py-line">                                <tt class="py-string">'false'</tt><tt class="py-op">:</tt> <tt class="py-name">False</tt> </tt>
<a name="L1040"></a><tt class="py-lineno">1040</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1041"></a><tt class="py-lineno">1041</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">stage</tt><tt class="py-op">:</tt> </tt>
<a name="L1042"></a><tt class="py-lineno">1042</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-675" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-675', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-676" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-676', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">'books'</tt><tt class="py-op">:</tt> <tt id="link-677" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-677', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Stage ="</tt><tt class="py-op">,</tt> <tt class="py-name">stage</tt><tt class="py-op">)</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1043"></a><tt class="py-lineno">1043</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-678" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-678', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-679" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-679', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">'stage'</tt><tt class="py-op">:</tt> <tt class="py-name">stage</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1044"></a><tt class="py-lineno">1044</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L1045"></a><tt class="py-lineno">1045</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-680" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-680', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-681" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-681', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">'books'</tt><tt class="py-op">:</tt> <tt id="link-682" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-682', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1046"></a><tt class="py-lineno">1046</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-683" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-683', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/books.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1047"></a><tt class="py-lineno">1047</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-684" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-684', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1048"></a><tt class="py-lineno">1048</tt>  <tt class="py-line"> </tt>
<a name="Books_Edit"></a><div id="Books_Edit-def"><a name="L1049"></a><tt class="py-lineno">1049</tt> <a class="py-toggle" href="#" id="Books_Edit-toggle" onclick="return toggle('Books_Edit');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Books_Edit-class.html">Books_Edit</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Books_Edit-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Books_Edit-expanded"><a name="Books_Edit.get"></a><div id="Books_Edit.get-def"><a name="L1050"></a><tt class="py-lineno">1050</tt> <a class="py-toggle" href="#" id="Books_Edit.get-toggle" onclick="return toggle('Books_Edit.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Books_Edit-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Books_Edit.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Books_Edit.get-expanded"><a name="L1051"></a><tt class="py-lineno">1051</tt>  <tt class="py-line">                <tt id="link-685" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-685', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1052"></a><tt class="py-lineno">1052</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-686" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-686', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1053"></a><tt class="py-lineno">1053</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">key</tt> <tt class="py-op">==</tt> <tt class="py-string">""</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-687" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-687', 'Book', 'link-87');">Book</a></tt><tt class="py-op">(</tt><tt id="link-688" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-688', 'Author', 'link-48');">Author</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-689" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-689', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L1054"></a><tt class="py-lineno">1054</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-690" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-690', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-691" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-691', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt>  </tt>
<a name="L1055"></a><tt class="py-lineno">1055</tt>  <tt class="py-line">                        <tt class="py-name">form</tt> <tt class="py-op">=</tt> <tt id="link-692" class="py-name" targets="Class wrook.BookForm=wrook.BookForm-class.html"><a title="wrook.BookForm" class="py-name" href="#" onclick="return doclink('link-692', 'BookForm', 'link-692');">BookForm</a></tt><tt class="py-op">(</tt><tt class="py-name">instance</tt><tt class="py-op">=</tt><tt class="py-name">book</tt><tt class="py-op">)</tt> </tt>
<a name="L1056"></a><tt class="py-lineno">1056</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-693" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-693', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-694" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-694', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1057"></a><tt class="py-lineno">1057</tt>  <tt class="py-line">                                <tt class="py-string">'book'</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">,</tt> </tt>
<a name="L1058"></a><tt class="py-lineno">1058</tt>  <tt class="py-line">                                <tt class="py-string">'form'</tt><tt class="py-op">:</tt> <tt class="py-name">form</tt> </tt>
<a name="L1059"></a><tt class="py-lineno">1059</tt>  <tt class="py-line">                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1060"></a><tt class="py-lineno">1060</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-695" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-695', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/books-edit.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1061"></a><tt class="py-lineno">1061</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-696" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-696', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1062"></a><tt class="py-lineno">1062</tt>  <tt class="py-line"> </tt>
<a name="Books_Edit.post"></a><div id="Books_Edit.post-def"><a name="L1063"></a><tt class="py-lineno">1063</tt> <a class="py-toggle" href="#" id="Books_Edit.post-toggle" onclick="return toggle('Books_Edit.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Books_Edit-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Books_Edit.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Books_Edit.post-expanded"><a name="L1064"></a><tt class="py-lineno">1064</tt>  <tt class="py-line">                <tt id="link-697" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-697', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1065"></a><tt class="py-lineno">1065</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-698" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-698', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1066"></a><tt class="py-lineno">1066</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">key</tt> <tt class="py-op">==</tt> <tt class="py-string">""</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-699" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-699', 'Book', 'link-87');">Book</a></tt><tt class="py-op">(</tt><tt id="link-700" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-700', 'Author', 'link-48');">Author</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-701" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-701', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L1067"></a><tt class="py-lineno">1067</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-702" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-702', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-703" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-703', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt>  </tt>
<a name="L1068"></a><tt class="py-lineno">1068</tt>  <tt class="py-line">                        <tt class="py-name">form</tt> <tt class="py-op">=</tt> <tt id="link-704" class="py-name"><a title="wrook.BookForm" class="py-name" href="#" onclick="return doclink('link-704', 'BookForm', 'link-692');">BookForm</a></tt><tt class="py-op">(</tt><tt class="py-name">data</tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt class="py-name">POST</tt><tt class="py-op">,</tt> <tt class="py-name">instance</tt><tt class="py-op">=</tt><tt class="py-name">book</tt><tt class="py-op">)</tt> </tt>
<a name="L1069"></a><tt class="py-lineno">1069</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">form</tt><tt class="py-op">.</tt><tt class="py-name">is_valid</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1070"></a><tt class="py-lineno">1070</tt>  <tt class="py-line">                                <tt class="py-comment"># Save the form, and redirect to the view page</tt> </tt>
<a name="L1071"></a><tt class="py-lineno">1071</tt>  <tt class="py-line"><tt class="py-comment"></tt>                                <tt class="py-name">entity</tt> <tt class="py-op">=</tt> <tt class="py-name">form</tt><tt class="py-op">.</tt><tt class="py-name">save</tt><tt class="py-op">(</tt><tt class="py-name">commit</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">)</tt> </tt>
<a name="L1072"></a><tt class="py-lineno">1072</tt>  <tt class="py-line">                                <tt class="py-name">entity</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1073"></a><tt class="py-lineno">1073</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">key</tt> <tt class="py-op">==</tt> <tt class="py-string">""</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">'/NewChapter/%s'</tt> <tt class="py-op">%</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1074"></a><tt class="py-lineno">1074</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">'/Books/%s'</tt> <tt class="py-op">%</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1075"></a><tt class="py-lineno">1075</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L1076"></a><tt class="py-lineno">1076</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-705" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-705', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-706" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-706', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1077"></a><tt class="py-lineno">1077</tt>  <tt class="py-line">                                        <tt class="py-string">'book'</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">,</tt> </tt>
<a name="L1078"></a><tt class="py-lineno">1078</tt>  <tt class="py-line">                                        <tt class="py-string">'form'</tt><tt class="py-op">:</tt> <tt class="py-name">form</tt> </tt>
<a name="L1079"></a><tt class="py-lineno">1079</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1080"></a><tt class="py-lineno">1080</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-707" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-707', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/books-edit.html"</tt><tt class="py-op">)</tt> </tt>
<a name="L1081"></a><tt class="py-lineno">1081</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-708" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-708', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1082"></a><tt class="py-lineno">1082</tt>  <tt class="py-line"> </tt>
<a name="Book_ReorderChapters"></a><div id="Book_ReorderChapters-def"><a name="L1083"></a><tt class="py-lineno">1083</tt> <a class="py-toggle" href="#" id="Book_ReorderChapters-toggle" onclick="return toggle('Book_ReorderChapters');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Book_ReorderChapters-class.html">Book_ReorderChapters</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Book_ReorderChapters-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Book_ReorderChapters-expanded"><a name="Book_ReorderChapters.get"></a><div id="Book_ReorderChapters.get-def"><a name="L1084"></a><tt class="py-lineno">1084</tt> <a class="py-toggle" href="#" id="Book_ReorderChapters.get-toggle" onclick="return toggle('Book_ReorderChapters.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Book_ReorderChapters-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Book_ReorderChapters.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Book_ReorderChapters.get-expanded"><a name="L1085"></a><tt class="py-lineno">1085</tt>  <tt class="py-line">                <tt class="py-name">chapterCount</tt> <tt class="py-op">=</tt> <tt id="link-709" class="py-name"><a title="feathers.utils" class="py-name" href="#" onclick="return doclink('link-709', 'utils', 'link-1');">utils</a></tt><tt class="py-op">.</tt><tt id="link-710" class="py-name" targets="Function feathers.utils.buildCountingList()=feathers.utils-module.html#buildCountingList"><a title="feathers.utils.buildCountingList" class="py-name" href="#" onclick="return doclink('link-710', 'buildCountingList', 'link-710');">buildCountingList</a></tt><tt class="py-op">(</tt><tt class="py-number">50</tt><tt class="py-op">)</tt> </tt>
<a name="L1086"></a><tt class="py-lineno">1086</tt>  <tt class="py-line">                <tt id="link-711" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-711', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1087"></a><tt class="py-lineno">1087</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-712" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-712', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1088"></a><tt class="py-lineno">1088</tt>  <tt class="py-line">                        <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-713" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-713', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-714" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-714', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1089"></a><tt class="py-lineno">1089</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">:</tt> </tt>
<a name="L1090"></a><tt class="py-lineno">1090</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-715" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-715', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-716" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-716', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1091"></a><tt class="py-lineno">1091</tt>  <tt class="py-line">                                        <tt class="py-string">'chapterCount'</tt><tt class="py-op">:</tt> <tt class="py-name">chapterCount</tt><tt class="py-op">,</tt> </tt>
<a name="L1092"></a><tt class="py-lineno">1092</tt>  <tt class="py-line">                                        <tt class="py-string">'book'</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">,</tt> </tt>
<a name="L1093"></a><tt class="py-lineno">1093</tt>  <tt class="py-line">                                        <tt class="py-string">'chapters'</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-717" class="py-name"><a title="wrook.Book.Chapters" class="py-name" href="#" onclick="return doclink('link-717', 'Chapters', 'link-67');">Chapters</a></tt><tt class="py-op">.</tt><tt class="py-name">order</tt><tt class="py-op">(</tt><tt class="py-string">"Number"</tt><tt class="py-op">)</tt> </tt>
<a name="L1094"></a><tt class="py-lineno">1094</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1095"></a><tt class="py-lineno">1095</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-718" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-718', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/books-reorderChapters.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1096"></a><tt class="py-lineno">1096</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1097"></a><tt class="py-lineno">1097</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-719" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-719', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1098"></a><tt class="py-lineno">1098</tt>  <tt class="py-line"> </tt>
<a name="Book_ReorderChapters.post"></a><div id="Book_ReorderChapters.post-def"><a name="L1099"></a><tt class="py-lineno">1099</tt> <a class="py-toggle" href="#" id="Book_ReorderChapters.post-toggle" onclick="return toggle('Book_ReorderChapters.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Book_ReorderChapters-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Book_ReorderChapters.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Book_ReorderChapters.post-expanded"><a name="L1100"></a><tt class="py-lineno">1100</tt>  <tt class="py-line">                <tt id="link-720" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-720', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1101"></a><tt class="py-lineno">1101</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-721" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-721', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1102"></a><tt class="py-lineno">1102</tt>  <tt class="py-line">                        <tt class="py-name">chapterCount</tt> <tt class="py-op">=</tt> <tt id="link-722" class="py-name"><a title="feathers.utils" class="py-name" href="#" onclick="return doclink('link-722', 'utils', 'link-1');">utils</a></tt><tt class="py-op">.</tt><tt id="link-723" class="py-name"><a title="feathers.utils.buildCountingList" class="py-name" href="#" onclick="return doclink('link-723', 'buildCountingList', 'link-710');">buildCountingList</a></tt><tt class="py-op">(</tt><tt class="py-number">50</tt><tt class="py-op">)</tt> </tt>
<a name="L1103"></a><tt class="py-lineno">1103</tt>  <tt class="py-line">                        <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-724" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-724', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-725" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-725', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1104"></a><tt class="py-lineno">1104</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">:</tt> </tt>
<a name="L1105"></a><tt class="py-lineno">1105</tt>  <tt class="py-line">                                <tt class="py-keyword">for</tt> <tt class="py-name">chapter</tt> <tt class="py-keyword">in</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-726" class="py-name"><a title="wrook.Book.Chapters" class="py-name" href="#" onclick="return doclink('link-726', 'Chapters', 'link-67');">Chapters</a></tt><tt class="py-op">.</tt><tt class="py-name">order</tt><tt class="py-op">(</tt><tt class="py-string">"Number"</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1106"></a><tt class="py-lineno">1106</tt>  <tt class="py-line">                                        <tt class="py-name">chapterSet</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-727" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-727', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"chapter.%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1107"></a><tt class="py-lineno">1107</tt>  <tt class="py-line">                                        <tt class="py-name">title</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-728" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-728', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"chapter.%s.title"</tt> <tt class="py-op">%</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1108"></a><tt class="py-lineno">1108</tt>  <tt class="py-line">                                        <tt class="py-name">name</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-729" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-729', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"chapter.%s.name"</tt> <tt class="py-op">%</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1109"></a><tt class="py-lineno">1109</tt>  <tt class="py-line">                                        <tt class="py-name">order</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-730" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-730', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"chapter.%s.order"</tt> <tt class="py-op">%</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1110"></a><tt class="py-lineno">1110</tt>  <tt class="py-line">                                        <tt class="py-keyword">if</tt> <tt class="py-name">chapterSet</tt><tt class="py-op">:</tt> </tt>
<a name="L1111"></a><tt class="py-lineno">1111</tt>  <tt class="py-line">                                                <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-731" class="py-name"><a title="wrook.Chapter.Name" class="py-name" href="#" onclick="return doclink('link-731', 'Name', 'link-94');">Name</a></tt><tt class="py-op">:</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-732" class="py-name"><a title="wrook.Chapter.Name" class="py-name" href="#" onclick="return doclink('link-732', 'Name', 'link-94');">Name</a></tt> <tt class="py-op">=</tt> <tt class="py-name">name</tt> </tt>
<a name="L1112"></a><tt class="py-lineno">1112</tt>  <tt class="py-line">                                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-733" class="py-name"><a title="wrook.Chapter.Name" class="py-name" href="#" onclick="return doclink('link-733', 'Name', 'link-94');">Name</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"Unnamed chapter"</tt> </tt>
<a name="L1113"></a><tt class="py-lineno">1113</tt>  <tt class="py-line">                                                <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-734" class="py-name"><a title="feathers.customize.Theme.Title
feathers.feed.StoryOccurence.Title
feathers.feed.StoryPost.Title
feathers.labs.Feature.Title
feathers.stories.StoryOccurence.Title
feathers.stories.StoryPost.Title
feathers.talk.Topic.Title
licensing.LicenseType.Title
wrook.Book.Title
wrook.Chapter.Title
wrook.Command.Title
wrook.Moment.Title" class="py-name" href="#" onclick="return doclink('link-734', 'Title', 'link-29');">Title</a></tt> <tt class="py-op">=</tt> <tt class="py-name">title</tt> </tt>
<a name="L1114"></a><tt class="py-lineno">1114</tt>  <tt class="py-line">                                                <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-735" class="py-name"><a title="wrook.Chapter.Number" class="py-name" href="#" onclick="return doclink('link-735', 'Number', 'link-93');">Number</a></tt> <tt class="py-op">=</tt> <tt class="py-name">int</tt><tt class="py-op">(</tt><tt class="py-name">order</tt><tt class="py-op">)</tt> </tt>
<a name="L1115"></a><tt class="py-lineno">1115</tt>  <tt class="py-line">                                        <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1116"></a><tt class="py-lineno">1116</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-736" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-736', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"update"</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1117"></a><tt class="py-lineno">1117</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-737" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-737', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-738" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-738', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1118"></a><tt class="py-lineno">1118</tt>  <tt class="py-line">                                                <tt class="py-string">'chapterCount'</tt><tt class="py-op">:</tt> <tt class="py-name">chapterCount</tt><tt class="py-op">,</tt> </tt>
<a name="L1119"></a><tt class="py-lineno">1119</tt>  <tt class="py-line">                                                <tt class="py-string">'book'</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">,</tt> </tt>
<a name="L1120"></a><tt class="py-lineno">1120</tt>  <tt class="py-line">                                                <tt class="py-string">'chapters'</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-739" class="py-name"><a title="wrook.Book.Chapters" class="py-name" href="#" onclick="return doclink('link-739', 'Chapters', 'link-67');">Chapters</a></tt><tt class="py-op">.</tt><tt class="py-name">order</tt><tt class="py-op">(</tt><tt class="py-string">"Number"</tt><tt class="py-op">)</tt> </tt>
<a name="L1121"></a><tt class="py-lineno">1121</tt>  <tt class="py-line">                                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1122"></a><tt class="py-lineno">1122</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-740" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-740', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/books-reorderChapters.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1123"></a><tt class="py-lineno">1123</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-741" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-741', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"done"</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1124"></a><tt class="py-lineno">1124</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">'/Books/%s'</tt> <tt class="py-op">%</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1125"></a><tt class="py-lineno">1125</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1126"></a><tt class="py-lineno">1126</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-742" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-742', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1127"></a><tt class="py-lineno">1127</tt>  <tt class="py-line"> </tt>
<a name="Books_Edit_License"></a><div id="Books_Edit_License-def"><a name="L1128"></a><tt class="py-lineno">1128</tt> <a class="py-toggle" href="#" id="Books_Edit_License-toggle" onclick="return toggle('Books_Edit_License');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Books_Edit_License-class.html">Books_Edit_License</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Books_Edit_License-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Books_Edit_License-expanded"><a name="Books_Edit_License.get"></a><div id="Books_Edit_License.get-def"><a name="L1129"></a><tt class="py-lineno">1129</tt> <a class="py-toggle" href="#" id="Books_Edit_License.get-toggle" onclick="return toggle('Books_Edit_License.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Books_Edit_License-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Books_Edit_License.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Books_Edit_License.get-expanded"><a name="L1130"></a><tt class="py-lineno">1130</tt>  <tt class="py-line">                <tt id="link-743" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-743', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1131"></a><tt class="py-lineno">1131</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-744" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-744', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1132"></a><tt class="py-lineno">1132</tt>  <tt class="py-line">                        <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-745" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-745', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-746" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-746', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1133"></a><tt class="py-lineno">1133</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">:</tt> </tt>
<a name="L1134"></a><tt class="py-lineno">1134</tt>  <tt class="py-line">                                <tt class="py-name">form</tt> <tt class="py-op">=</tt> <tt id="link-747" class="py-name" targets="Class wrook.BookLicenseForm=wrook.BookLicenseForm-class.html"><a title="wrook.BookLicenseForm" class="py-name" href="#" onclick="return doclink('link-747', 'BookLicenseForm', 'link-747');">BookLicenseForm</a></tt><tt class="py-op">(</tt><tt class="py-name">instance</tt><tt class="py-op">=</tt><tt class="py-name">book</tt><tt class="py-op">)</tt> </tt>
<a name="L1135"></a><tt class="py-lineno">1135</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-748" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-748', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-749" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-749', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1136"></a><tt class="py-lineno">1136</tt>  <tt class="py-line">                                        <tt class="py-string">'book'</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">,</tt> </tt>
<a name="L1137"></a><tt class="py-lineno">1137</tt>  <tt class="py-line">                                        <tt class="py-string">'form'</tt><tt class="py-op">:</tt> <tt class="py-name">form</tt> </tt>
<a name="L1138"></a><tt class="py-lineno">1138</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1139"></a><tt class="py-lineno">1139</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-750" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-750', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/books-edit-license.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1140"></a><tt class="py-lineno">1140</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1141"></a><tt class="py-lineno">1141</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-751" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-751', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1142"></a><tt class="py-lineno">1142</tt>  <tt class="py-line"> </tt>
<a name="Books_Edit_License.post"></a><div id="Books_Edit_License.post-def"><a name="L1143"></a><tt class="py-lineno">1143</tt> <a class="py-toggle" href="#" id="Books_Edit_License.post-toggle" onclick="return toggle('Books_Edit_License.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Books_Edit_License-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Books_Edit_License.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Books_Edit_License.post-expanded"><a name="L1144"></a><tt class="py-lineno">1144</tt>  <tt class="py-line">                <tt id="link-752" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-752', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1145"></a><tt class="py-lineno">1145</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-753" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-753', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1146"></a><tt class="py-lineno">1146</tt>  <tt class="py-line">                        <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-754" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-754', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-755" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-755', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt>  </tt>
<a name="L1147"></a><tt class="py-lineno">1147</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">:</tt> </tt>
<a name="L1148"></a><tt class="py-lineno">1148</tt>  <tt class="py-line">                                <tt class="py-name">form</tt> <tt class="py-op">=</tt> <tt id="link-756" class="py-name"><a title="wrook.BookLicenseForm" class="py-name" href="#" onclick="return doclink('link-756', 'BookLicenseForm', 'link-747');">BookLicenseForm</a></tt><tt class="py-op">(</tt><tt class="py-name">data</tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt class="py-name">POST</tt><tt class="py-op">,</tt> <tt class="py-name">instance</tt><tt class="py-op">=</tt><tt class="py-name">book</tt><tt class="py-op">)</tt> </tt>
<a name="L1149"></a><tt class="py-lineno">1149</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">form</tt><tt class="py-op">.</tt><tt class="py-name">is_valid</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1150"></a><tt class="py-lineno">1150</tt>  <tt class="py-line">                                        <tt class="py-comment"># Save the form, and redirect to the view page</tt> </tt>
<a name="L1151"></a><tt class="py-lineno">1151</tt>  <tt class="py-line"><tt class="py-comment"></tt>                                        <tt class="py-name">entity</tt> <tt class="py-op">=</tt> <tt class="py-name">form</tt><tt class="py-op">.</tt><tt class="py-name">save</tt><tt class="py-op">(</tt><tt class="py-name">commit</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">)</tt> </tt>
<a name="L1152"></a><tt class="py-lineno">1152</tt>  <tt class="py-line">                                        <tt class="py-name">entity</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1153"></a><tt class="py-lineno">1153</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">'/Books/%s'</tt> <tt class="py-op">%</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1154"></a><tt class="py-lineno">1154</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L1155"></a><tt class="py-lineno">1155</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-757" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-757', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-758" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-758', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1156"></a><tt class="py-lineno">1156</tt>  <tt class="py-line">                                                <tt class="py-string">'book'</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">,</tt> </tt>
<a name="L1157"></a><tt class="py-lineno">1157</tt>  <tt class="py-line">                                                <tt class="py-string">'form'</tt><tt class="py-op">:</tt> <tt class="py-name">form</tt> </tt>
<a name="L1158"></a><tt class="py-lineno">1158</tt>  <tt class="py-line">                                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1159"></a><tt class="py-lineno">1159</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-759" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-759', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/books-edit-license.html"</tt><tt class="py-op">)</tt> </tt>
<a name="L1160"></a><tt class="py-lineno">1160</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1161"></a><tt class="py-lineno">1161</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-760" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-760', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1162"></a><tt class="py-lineno">1162</tt>  <tt class="py-line"> </tt>
<a name="Members"></a><div id="Members-def"><a name="L1163"></a><tt class="py-lineno">1163</tt> <a class="py-toggle" href="#" id="Members-toggle" onclick="return toggle('Members');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Members-class.html">Members</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Members-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Members-expanded"><a name="Members.get"></a><div id="Members.get-def"><a name="L1164"></a><tt class="py-lineno">1164</tt> <a class="py-toggle" href="#" id="Members.get-toggle" onclick="return toggle('Members.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Members-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Members.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Members.get-expanded"><a name="L1165"></a><tt class="py-lineno">1165</tt>  <tt class="py-line">                <tt id="link-761" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-761', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1166"></a><tt class="py-lineno">1166</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-762" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-762', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1167"></a><tt class="py-lineno">1167</tt>  <tt class="py-line">                        <tt class="py-name">members</tt> <tt class="py-op">=</tt> <tt id="link-763" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-763', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-764" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-764', 'Member', 'link-44');">Member</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">200</tt><tt class="py-op">)</tt> </tt>
<a name="L1168"></a><tt class="py-lineno">1168</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-765" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-765', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-766" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-766', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">'members'</tt><tt class="py-op">:</tt> <tt class="py-name">members</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1169"></a><tt class="py-lineno">1169</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-767" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-767', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/members.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1170"></a><tt class="py-lineno">1170</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-768" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-768', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1171"></a><tt class="py-lineno">1171</tt>  <tt class="py-line"> </tt>
<a name="MembersCoversList"></a><div id="MembersCoversList-def"><a name="L1172"></a><tt class="py-lineno">1172</tt> <a class="py-toggle" href="#" id="MembersCoversList-toggle" onclick="return toggle('MembersCoversList');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.MembersCoversList-class.html">MembersCoversList</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="MembersCoversList-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="MembersCoversList-expanded"><a name="MembersCoversList.get"></a><div id="MembersCoversList.get-def"><a name="L1173"></a><tt class="py-lineno">1173</tt> <a class="py-toggle" href="#" id="MembersCoversList.get-toggle" onclick="return toggle('MembersCoversList.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.MembersCoversList-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="MembersCoversList.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="MembersCoversList.get-expanded"><a name="L1174"></a><tt class="py-lineno">1174</tt>  <tt class="py-line">                <tt id="link-769" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-769', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1175"></a><tt class="py-lineno">1175</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-770" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-770', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1176"></a><tt class="py-lineno">1176</tt>  <tt class="py-line">                        <tt class="py-name">visitedMember</tt> <tt class="py-op">=</tt> <tt id="link-771" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-771', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-772" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-772', 'Member', 'link-44');">Member</a></tt><tt class="py-op">.</tt><tt id="link-773" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-773', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1177"></a><tt class="py-lineno">1177</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">visitedMember</tt><tt class="py-op">:</tt> </tt>
<a name="L1178"></a><tt class="py-lineno">1178</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-774" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-774', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">visitedMember</tt><tt class="py-op">)</tt> </tt>
<a name="L1179"></a><tt class="py-lineno">1179</tt>  <tt class="py-line">                                <tt class="py-name">sharedCovers</tt> <tt class="py-op">=</tt> <tt class="py-name">visitedMember</tt><tt class="py-op">.</tt><tt id="link-775" class="py-name" targets="Variable feathers.membership.Member.Covers=feathers.membership.Member-class.html#Covers"><a title="feathers.membership.Member.Covers" class="py-name" href="#" onclick="return doclink('link-775', 'Covers', 'link-775');">Covers</a></tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"isSharedWithEveryone ="</tt><tt class="py-op">,</tt> <tt class="py-name">True</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">100</tt><tt class="py-op">)</tt> </tt>
<a name="L1180"></a><tt class="py-lineno">1180</tt>  <tt class="py-line">                                <tt class="py-name">privateCovers</tt> <tt class="py-op">=</tt> <tt class="py-name">visitedMember</tt><tt class="py-op">.</tt><tt id="link-776" class="py-name"><a title="feathers.membership.Member.Covers" class="py-name" href="#" onclick="return doclink('link-776', 'Covers', 'link-775');">Covers</a></tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"isSharedWithEveryone ="</tt><tt class="py-op">,</tt> <tt class="py-name">False</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">100</tt><tt class="py-op">)</tt> </tt>
<a name="L1181"></a><tt class="py-lineno">1181</tt>  <tt class="py-line">                                <tt class="py-name">permissionMemberCanSeePrivateCovers</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-777" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-777', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-778" class="py-name"><a title="feathers.membership.Member.isAdmin" class="py-name" href="#" onclick="return doclink('link-778', 'isAdmin', 'link-532');">isAdmin</a></tt> <tt class="py-keyword">or</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-779" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-779', 'CurrentMember', 'link-14');">CurrentMember</a></tt> <tt class="py-op">==</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">VisitedMember</tt> </tt>
<a name="L1182"></a><tt class="py-lineno">1182</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-780" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-780', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-781" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-781', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1183"></a><tt class="py-lineno">1183</tt>  <tt class="py-line">                                        <tt class="py-string">'sharedCovers'</tt><tt class="py-op">:</tt> <tt class="py-name">sharedCovers</tt><tt class="py-op">,</tt> </tt>
<a name="L1184"></a><tt class="py-lineno">1184</tt>  <tt class="py-line">                                        <tt class="py-string">'privateCovers'</tt><tt class="py-op">:</tt> <tt class="py-name">privateCovers</tt><tt class="py-op">,</tt> </tt>
<a name="L1185"></a><tt class="py-lineno">1185</tt>  <tt class="py-line">                                        <tt class="py-string">'permissionMemberCanSeePrivateCovers'</tt><tt class="py-op">:</tt> <tt class="py-name">permissionMemberCanSeePrivateCovers</tt> </tt>
<a name="L1186"></a><tt class="py-lineno">1186</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1187"></a><tt class="py-lineno">1187</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-782" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-782', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/members-covers-list.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1188"></a><tt class="py-lineno">1188</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1189"></a><tt class="py-lineno">1189</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-783" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-783', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1190"></a><tt class="py-lineno">1190</tt>  <tt class="py-line"> </tt>
<a name="MembersBooksList"></a><div id="MembersBooksList-def"><a name="L1191"></a><tt class="py-lineno">1191</tt> <a class="py-toggle" href="#" id="MembersBooksList-toggle" onclick="return toggle('MembersBooksList');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.MembersBooksList-class.html">MembersBooksList</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="MembersBooksList-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="MembersBooksList-expanded"><a name="MembersBooksList.get"></a><div id="MembersBooksList.get-def"><a name="L1192"></a><tt class="py-lineno">1192</tt> <a class="py-toggle" href="#" id="MembersBooksList.get-toggle" onclick="return toggle('MembersBooksList.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.MembersBooksList-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="MembersBooksList.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="MembersBooksList.get-expanded"><a name="L1193"></a><tt class="py-lineno">1193</tt>  <tt class="py-line">                <tt id="link-784" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-784', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1194"></a><tt class="py-lineno">1194</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-785" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-785', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1195"></a><tt class="py-lineno">1195</tt>  <tt class="py-line">                        <tt class="py-name">visitedMember</tt> <tt class="py-op">=</tt> <tt id="link-786" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-786', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-787" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-787', 'Member', 'link-44');">Member</a></tt><tt class="py-op">.</tt><tt id="link-788" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-788', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1196"></a><tt class="py-lineno">1196</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">visitedMember</tt><tt class="py-op">:</tt> </tt>
<a name="L1197"></a><tt class="py-lineno">1197</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-789" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-789', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">visitedMember</tt><tt class="py-op">)</tt> </tt>
<a name="L1198"></a><tt class="py-lineno">1198</tt>  <tt class="py-line">                                <tt class="py-name">books</tt> <tt class="py-op">=</tt> <tt class="py-name">visitedMember</tt><tt class="py-op">.</tt><tt id="link-790" class="py-name"><a title="feathers.membership.Member.Books
licensing.LicenseType.Books
wrook.Books
wrook.Cover.Books" class="py-name" href="#" onclick="return doclink('link-790', 'Books', 'link-242');">Books</a></tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">999</tt><tt class="py-op">)</tt> </tt>
<a name="L1199"></a><tt class="py-lineno">1199</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-791" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-791', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-792" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-792', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1200"></a><tt class="py-lineno">1200</tt>  <tt class="py-line">                                        <tt class="py-string">'books'</tt><tt class="py-op">:</tt> <tt class="py-name">books</tt> </tt>
<a name="L1201"></a><tt class="py-lineno">1201</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1202"></a><tt class="py-lineno">1202</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-793" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-793', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/members-books-list.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1203"></a><tt class="py-lineno">1203</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1204"></a><tt class="py-lineno">1204</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-794" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-794', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1205"></a><tt class="py-lineno">1205</tt>  <tt class="py-line"> </tt>
<a name="MembersReadingsList"></a><div id="MembersReadingsList-def"><a name="L1206"></a><tt class="py-lineno">1206</tt> <a class="py-toggle" href="#" id="MembersReadingsList-toggle" onclick="return toggle('MembersReadingsList');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.MembersReadingsList-class.html">MembersReadingsList</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="MembersReadingsList-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="MembersReadingsList-expanded"><a name="MembersReadingsList.get"></a><div id="MembersReadingsList.get-def"><a name="L1207"></a><tt class="py-lineno">1207</tt> <a class="py-toggle" href="#" id="MembersReadingsList.get-toggle" onclick="return toggle('MembersReadingsList.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.MembersReadingsList-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="MembersReadingsList.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="MembersReadingsList.get-expanded"><a name="L1208"></a><tt class="py-lineno">1208</tt>  <tt class="py-line">                <tt id="link-795" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-795', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1209"></a><tt class="py-lineno">1209</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-796" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-796', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1210"></a><tt class="py-lineno">1210</tt>  <tt class="py-line">                        <tt class="py-name">visitedMember</tt> <tt class="py-op">=</tt> <tt id="link-797" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-797', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-798" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-798', 'Member', 'link-44');">Member</a></tt><tt class="py-op">.</tt><tt id="link-799" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-799', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1211"></a><tt class="py-lineno">1211</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">visitedMember</tt><tt class="py-op">:</tt> </tt>
<a name="L1212"></a><tt class="py-lineno">1212</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-800" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-800', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">visitedMember</tt><tt class="py-op">)</tt> </tt>
<a name="L1213"></a><tt class="py-lineno">1213</tt>  <tt class="py-line">                                <tt class="py-name">bookmarks</tt> <tt class="py-op">=</tt> <tt class="py-name">visitedMember</tt><tt class="py-op">.</tt><tt id="link-801" class="py-name"><a title="feathers.membership.Member.Bookmarks
wrook.Book.Bookmarks
wrook.Chapter.Bookmarks" class="py-name" href="#" onclick="return doclink('link-801', 'Bookmarks', 'link-550');">Bookmarks</a></tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">999</tt><tt class="py-op">)</tt> </tt>
<a name="L1214"></a><tt class="py-lineno">1214</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-802" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-802', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-803" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-803', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1215"></a><tt class="py-lineno">1215</tt>  <tt class="py-line">                                        <tt class="py-string">'bookmarks'</tt><tt class="py-op">:</tt> <tt class="py-name">bookmarks</tt> </tt>
<a name="L1216"></a><tt class="py-lineno">1216</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1217"></a><tt class="py-lineno">1217</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-804" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-804', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/members-bookmarks-list.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1218"></a><tt class="py-lineno">1218</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1219"></a><tt class="py-lineno">1219</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-805" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-805', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1220"></a><tt class="py-lineno">1220</tt>  <tt class="py-line"> </tt>
<a name="L1221"></a><tt class="py-lineno">1221</tt>  <tt class="py-line"> </tt>
<a name="BookReaders"></a><div id="BookReaders-def"><a name="L1222"></a><tt class="py-lineno">1222</tt> <a class="py-toggle" href="#" id="BookReaders-toggle" onclick="return toggle('BookReaders');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.BookReaders-class.html">BookReaders</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="BookReaders-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="BookReaders-expanded"><a name="BookReaders.get"></a><div id="BookReaders.get-def"><a name="L1223"></a><tt class="py-lineno">1223</tt> <a class="py-toggle" href="#" id="BookReaders.get-toggle" onclick="return toggle('BookReaders.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.BookReaders-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="BookReaders.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="BookReaders.get-expanded"><a name="L1224"></a><tt class="py-lineno">1224</tt>  <tt class="py-line">                <tt id="link-806" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-806', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1225"></a><tt class="py-lineno">1225</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-807" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-807', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1226"></a><tt class="py-lineno">1226</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-808" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-808', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-809" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-809', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">'book'</tt><tt class="py-op">:</tt> <tt id="link-810" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-810', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-811" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-811', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1227"></a><tt class="py-lineno">1227</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-812" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-812', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/readers.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1228"></a><tt class="py-lineno">1228</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-813" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-813', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1229"></a><tt class="py-lineno">1229</tt>  <tt class="py-line"> </tt>
<a name="NewChapter"></a><div id="NewChapter-def"><a name="L1230"></a><tt class="py-lineno">1230</tt> <a class="py-toggle" href="#" id="NewChapter-toggle" onclick="return toggle('NewChapter');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.NewChapter-class.html">NewChapter</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="NewChapter-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="NewChapter-expanded"><a name="NewChapter.get"></a><div id="NewChapter.get-def"><a name="L1231"></a><tt class="py-lineno">1231</tt> <a class="py-toggle" href="#" id="NewChapter.get-toggle" onclick="return toggle('NewChapter.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.NewChapter-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="NewChapter.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="NewChapter.get-expanded"><a name="L1232"></a><tt class="py-lineno">1232</tt>  <tt class="py-line">                <tt id="link-814" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-814', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1233"></a><tt class="py-lineno">1233</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-815" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-815', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1234"></a><tt class="py-lineno">1234</tt>  <tt class="py-line">                        <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-816" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-816', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-817" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-817', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1235"></a><tt class="py-lineno">1235</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">:</tt> </tt>
<a name="L1236"></a><tt class="py-lineno">1236</tt>  <tt class="py-line">                                <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt id="link-818" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-818', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">(</tt><tt id="link-819" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-819', 'Book', 'link-87');">Book</a></tt><tt class="py-op">=</tt><tt class="py-name">book</tt><tt class="py-op">)</tt> </tt>
<a name="L1237"></a><tt class="py-lineno">1237</tt>  <tt class="py-line">                                <tt class="py-name">form</tt> <tt class="py-op">=</tt> <tt id="link-820" class="py-name" targets="Class wrook.ChapterFormForCreate=wrook.ChapterFormForCreate-class.html"><a title="wrook.ChapterFormForCreate" class="py-name" href="#" onclick="return doclink('link-820', 'ChapterFormForCreate', 'link-820');">ChapterFormForCreate</a></tt><tt class="py-op">(</tt><tt class="py-name">instance</tt><tt class="py-op">=</tt><tt class="py-name">chapter</tt><tt class="py-op">)</tt> </tt>
<a name="L1238"></a><tt class="py-lineno">1238</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-821" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-821', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-822" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-822', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1239"></a><tt class="py-lineno">1239</tt>  <tt class="py-line">                                        <tt class="py-string">'book'</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">,</tt> </tt>
<a name="L1240"></a><tt class="py-lineno">1240</tt>  <tt class="py-line">                                        <tt class="py-string">'form'</tt><tt class="py-op">:</tt> <tt class="py-name">form</tt> </tt>
<a name="L1241"></a><tt class="py-lineno">1241</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1242"></a><tt class="py-lineno">1242</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-823" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-823', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/books-chapter-new.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1243"></a><tt class="py-lineno">1243</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1244"></a><tt class="py-lineno">1244</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-824" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-824', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1245"></a><tt class="py-lineno">1245</tt>  <tt class="py-line"> </tt>
<a name="NewChapter.post"></a><div id="NewChapter.post-def"><a name="L1246"></a><tt class="py-lineno">1246</tt> <a class="py-toggle" href="#" id="NewChapter.post-toggle" onclick="return toggle('NewChapter.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.NewChapter-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="NewChapter.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="NewChapter.post-expanded"><a name="L1247"></a><tt class="py-lineno">1247</tt>  <tt class="py-line">                <tt id="link-825" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-825', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1248"></a><tt class="py-lineno">1248</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-826" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-826', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1249"></a><tt class="py-lineno">1249</tt>  <tt class="py-line">                        <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-827" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-827', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-828" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-828', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1250"></a><tt class="py-lineno">1250</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">:</tt> </tt>
<a name="L1251"></a><tt class="py-lineno">1251</tt>  <tt class="py-line">                                <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt id="link-829" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-829', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">(</tt><tt id="link-830" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-830', 'Book', 'link-87');">Book</a></tt><tt class="py-op">=</tt><tt class="py-name">book</tt><tt class="py-op">)</tt> </tt>
<a name="L1252"></a><tt class="py-lineno">1252</tt>  <tt class="py-line">                                <tt class="py-name">form</tt> <tt class="py-op">=</tt> <tt id="link-831" class="py-name"><a title="wrook.ChapterFormForCreate" class="py-name" href="#" onclick="return doclink('link-831', 'ChapterFormForCreate', 'link-820');">ChapterFormForCreate</a></tt><tt class="py-op">(</tt><tt class="py-name">data</tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt class="py-name">POST</tt><tt class="py-op">,</tt> <tt class="py-name">instance</tt><tt class="py-op">=</tt><tt class="py-name">chapter</tt><tt class="py-op">)</tt> </tt>
<a name="L1253"></a><tt class="py-lineno">1253</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">form</tt><tt class="py-op">.</tt><tt class="py-name">is_valid</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1254"></a><tt class="py-lineno">1254</tt>  <tt class="py-line">                                        <tt class="py-comment"># Save the form, and redirect to the view page</tt> </tt>
<a name="L1255"></a><tt class="py-lineno">1255</tt>  <tt class="py-line"><tt class="py-comment"></tt>                                        <tt class="py-name">entity</tt> <tt class="py-op">=</tt> <tt class="py-name">form</tt><tt class="py-op">.</tt><tt class="py-name">save</tt><tt class="py-op">(</tt><tt class="py-name">commit</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">)</tt> </tt>
<a name="L1256"></a><tt class="py-lineno">1256</tt>  <tt class="py-line">                                        <tt class="py-name">entity</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1257"></a><tt class="py-lineno">1257</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/Typewriter/%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1258"></a><tt class="py-lineno">1258</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L1259"></a><tt class="py-lineno">1259</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-832" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-832', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-833" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-833', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1260"></a><tt class="py-lineno">1260</tt>  <tt class="py-line">                                                <tt class="py-string">'form'</tt><tt class="py-op">:</tt> <tt class="py-name">form</tt><tt class="py-op">,</tt> </tt>
<a name="L1261"></a><tt class="py-lineno">1261</tt>  <tt class="py-line">                                                <tt class="py-string">'book'</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt> </tt>
<a name="L1262"></a><tt class="py-lineno">1262</tt>  <tt class="py-line">                                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1263"></a><tt class="py-lineno">1263</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-834" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-834', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/books-chapter-new.html"</tt><tt class="py-op">)</tt> </tt>
<a name="L1264"></a><tt class="py-lineno">1264</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1265"></a><tt class="py-lineno">1265</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-835" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-835', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1266"></a><tt class="py-lineno">1266</tt>  <tt class="py-line">                         </tt>
<a name="FeedbackBook"></a><div id="FeedbackBook-def"><a name="L1267"></a><tt class="py-lineno">1267</tt> <a class="py-toggle" href="#" id="FeedbackBook-toggle" onclick="return toggle('FeedbackBook');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.FeedbackBook-class.html">FeedbackBook</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="FeedbackBook-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="FeedbackBook-expanded"><a name="FeedbackBook.get"></a><div id="FeedbackBook.get-def"><a name="L1268"></a><tt class="py-lineno">1268</tt> <a class="py-toggle" href="#" id="FeedbackBook.get-toggle" onclick="return toggle('FeedbackBook.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.FeedbackBook-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="FeedbackBook.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="FeedbackBook.get-expanded"><a name="L1269"></a><tt class="py-lineno">1269</tt>  <tt class="py-line">                <tt id="link-836" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-836', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1270"></a><tt class="py-lineno">1270</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-837" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-837', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1271"></a><tt class="py-lineno">1271</tt>  <tt class="py-line">                        <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt id="link-838" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-838', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt id="link-839" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-839', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1272"></a><tt class="py-lineno">1272</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">:</tt> </tt>
<a name="L1273"></a><tt class="py-lineno">1273</tt>  <tt class="py-line">                                <tt class="py-name">messages</tt> <tt class="py-op">=</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-840" class="py-name"><a title="wrook.Book.Feedback
wrook.Chapter.Feedback" class="py-name" href="#" onclick="return doclink('link-840', 'Feedback', 'link-548');">Feedback</a></tt><tt class="py-op">.</tt><tt class="py-name">order</tt><tt class="py-op">(</tt><tt class="py-string">"-Sent"</tt><tt class="py-op">)</tt> </tt>
<a name="L1274"></a><tt class="py-lineno">1274</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-841" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-841', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-842" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-842', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1275"></a><tt class="py-lineno">1275</tt>  <tt class="py-line">                                        <tt class="py-string">'book'</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">,</tt> </tt>
<a name="L1276"></a><tt class="py-lineno">1276</tt>  <tt class="py-line">                                        <tt class="py-string">'messages'</tt><tt class="py-op">:</tt> <tt class="py-name">messages</tt><tt class="py-op">,</tt> </tt>
<a name="L1277"></a><tt class="py-lineno">1277</tt>  <tt class="py-line">                                        <tt class="py-string">'targetType'</tt><tt class="py-op">:</tt> <tt class="py-string">'book'</tt> </tt>
<a name="L1278"></a><tt class="py-lineno">1278</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1279"></a><tt class="py-lineno">1279</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-843" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-843', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/messages.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1280"></a><tt class="py-lineno">1280</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1281"></a><tt class="py-lineno">1281</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-844" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-844', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1282"></a><tt class="py-lineno">1282</tt>  <tt class="py-line"> </tt>
<a name="L1283"></a><tt class="py-lineno">1283</tt>  <tt class="py-line"> </tt>
<a name="Revisions_List"></a><div id="Revisions_List-def"><a name="L1284"></a><tt class="py-lineno">1284</tt> <a class="py-toggle" href="#" id="Revisions_List-toggle" onclick="return toggle('Revisions_List');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Revisions_List-class.html">Revisions_List</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Revisions_List-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Revisions_List-expanded"><a name="Revisions_List.get"></a><div id="Revisions_List.get-def"><a name="L1285"></a><tt class="py-lineno">1285</tt> <a class="py-toggle" href="#" id="Revisions_List.get-toggle" onclick="return toggle('Revisions_List.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Revisions_List-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Revisions_List.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Revisions_List.get-expanded"><a name="L1286"></a><tt class="py-lineno">1286</tt>  <tt class="py-line">                <tt id="link-845" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-845', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1287"></a><tt class="py-lineno">1287</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-846" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-846', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1288"></a><tt class="py-lineno">1288</tt>  <tt class="py-line">                        <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt id="link-847" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-847', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt id="link-848" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-848', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1289"></a><tt class="py-lineno">1289</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">:</tt> </tt>
<a name="L1290"></a><tt class="py-lineno">1290</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-849" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-849', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-850" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-850', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1291"></a><tt class="py-lineno">1291</tt>  <tt class="py-line">                                        <tt class="py-string">'chapter'</tt><tt class="py-op">:</tt> <tt class="py-name">chapter</tt><tt class="py-op">,</tt> </tt>
<a name="L1292"></a><tt class="py-lineno">1292</tt>  <tt class="py-line">                                        <tt class="py-string">'revisions'</tt><tt class="py-op">:</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-851" class="py-name"><a title="wrook.Chapter.Revisions" class="py-name" href="#" onclick="return doclink('link-851', 'Revisions', 'link-108');">Revisions</a></tt><tt class="py-op">.</tt><tt class="py-name">order</tt><tt class="py-op">(</tt><tt class="py-string">"-Version"</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">999</tt><tt class="py-op">)</tt> </tt>
<a name="L1293"></a><tt class="py-lineno">1293</tt>  <tt class="py-line">                                        <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1294"></a><tt class="py-lineno">1294</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-852" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-852', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/revisions-list.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1295"></a><tt class="py-lineno">1295</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1296"></a><tt class="py-lineno">1296</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-853" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-853', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1297"></a><tt class="py-lineno">1297</tt>  <tt class="py-line"> </tt>
<a name="Revisions_View"></a><div id="Revisions_View-def"><a name="L1298"></a><tt class="py-lineno">1298</tt> <a class="py-toggle" href="#" id="Revisions_View-toggle" onclick="return toggle('Revisions_View');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Revisions_View-class.html">Revisions_View</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Revisions_View-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Revisions_View-expanded"><a name="Revisions_View.get"></a><div id="Revisions_View.get-def"><a name="L1299"></a><tt class="py-lineno">1299</tt> <a class="py-toggle" href="#" id="Revisions_View.get-toggle" onclick="return toggle('Revisions_View.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Revisions_View-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">,</tt> <tt class="py-param">version</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Revisions_View.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Revisions_View.get-expanded"><a name="L1300"></a><tt class="py-lineno">1300</tt>  <tt class="py-line">                <tt id="link-854" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-854', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1301"></a><tt class="py-lineno">1301</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-855" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-855', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1302"></a><tt class="py-lineno">1302</tt>  <tt class="py-line">                        <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt id="link-856" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-856', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt id="link-857" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-857', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1303"></a><tt class="py-lineno">1303</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">:</tt> </tt>
<a name="L1304"></a><tt class="py-lineno">1304</tt>  <tt class="py-line">                                <tt class="py-name">revision</tt> <tt class="py-op">=</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-858" class="py-name"><a title="wrook.Chapter.Revisions" class="py-name" href="#" onclick="return doclink('link-858', 'Revisions', 'link-108');">Revisions</a></tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"Version ="</tt><tt class="py-op">,</tt> <tt class="py-name">int</tt><tt class="py-op">(</tt><tt class="py-name">version</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
<a name="L1305"></a><tt class="py-lineno">1305</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">revision</tt><tt class="py-op">)</tt> <tt class="py-op">&gt;</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L1306"></a><tt class="py-lineno">1306</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-859" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-859', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-860" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-860', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1307"></a><tt class="py-lineno">1307</tt>  <tt class="py-line">                                                <tt class="py-string">'chapter'</tt><tt class="py-op">:</tt> <tt class="py-name">chapter</tt><tt class="py-op">,</tt> </tt>
<a name="L1308"></a><tt class="py-lineno">1308</tt>  <tt class="py-line">                                                <tt class="py-string">'revision'</tt><tt class="py-op">:</tt> <tt class="py-name">revision</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt> </tt>
<a name="L1309"></a><tt class="py-lineno">1309</tt>  <tt class="py-line">                                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1310"></a><tt class="py-lineno">1310</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-861" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-861', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/revisions-view.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1311"></a><tt class="py-lineno">1311</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1312"></a><tt class="py-lineno">1312</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1313"></a><tt class="py-lineno">1313</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-862" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-862', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1314"></a><tt class="py-lineno">1314</tt>  <tt class="py-line"> </tt>
<a name="PostMessage"></a><div id="PostMessage-def"><a name="L1315"></a><tt class="py-lineno">1315</tt> <a class="py-toggle" href="#" id="PostMessage-toggle" onclick="return toggle('PostMessage');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.PostMessage-class.html">PostMessage</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="PostMessage-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="PostMessage-expanded"><a name="PostMessage.post"></a><div id="PostMessage.post-def"><a name="L1316"></a><tt class="py-lineno">1316</tt> <a class="py-toggle" href="#" id="PostMessage.post-toggle" onclick="return toggle('PostMessage.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.PostMessage-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="PostMessage.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="PostMessage.post-expanded"><a name="L1317"></a><tt class="py-lineno">1317</tt>  <tt class="py-line">                <tt id="link-863" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-863', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1318"></a><tt class="py-lineno">1318</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-864" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-864', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1319"></a><tt class="py-lineno">1319</tt>  <tt class="py-line">                        <tt class="py-name">topic</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-865" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-865', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"Topic"</tt><tt class="py-op">)</tt> </tt>
<a name="L1320"></a><tt class="py-lineno">1320</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">topic</tt> <tt class="py-op">==</tt> <tt class="py-string">""</tt><tt class="py-op">:</tt> </tt>
<a name="L1321"></a><tt class="py-lineno">1321</tt>  <tt class="py-line">                                <tt class="py-name">topic</tt> <tt class="py-op">=</tt> <tt class="py-name">None</tt> </tt>
<a name="L1322"></a><tt class="py-lineno">1322</tt>  <tt class="py-line">                        <tt class="py-name">text</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-866" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-866', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"Text"</tt><tt class="py-op">)</tt> </tt>
<a name="L1323"></a><tt class="py-lineno">1323</tt>  <tt class="py-line">                        <tt id="link-867" class="py-name"><a title="wrook.Message.targetType" class="py-name" href="#" onclick="return doclink('link-867', 'targetType', 'link-190');">targetType</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-868" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-868', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"TargetType"</tt><tt class="py-op">)</tt> </tt>
<a name="L1324"></a><tt class="py-lineno">1324</tt>  <tt class="py-line">                        <tt id="link-869" class="py-name"><a title="feathers.talk.Post.isPrivate
wrook.Message.isPrivate" class="py-name" href="#" onclick="return doclink('link-869', 'isPrivate', 'link-188');">isPrivate</a></tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-870" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-870', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"isPrivate"</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-string">"true"</tt><tt class="py-op">)</tt> </tt>
<a name="L1325"></a><tt class="py-lineno">1325</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt id="link-871" class="py-name"><a title="wrook.Message.targetType" class="py-name" href="#" onclick="return doclink('link-871', 'targetType', 'link-190');">targetType</a></tt> <tt class="py-op">==</tt> <tt class="py-string">"book"</tt><tt class="py-op">:</tt> </tt>
<a name="L1326"></a><tt class="py-lineno">1326</tt>  <tt class="py-line">                                <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt id="link-872" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-872', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-873" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-873', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"Book"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1327"></a><tt class="py-lineno">1327</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">:</tt> </tt>
<a name="L1328"></a><tt class="py-lineno">1328</tt>  <tt class="py-line">                                        <tt class="py-name">author</tt> <tt class="py-op">=</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-874" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-874', 'Author', 'link-48');">Author</a></tt> </tt>
<a name="L1329"></a><tt class="py-lineno">1329</tt>  <tt class="py-line">                                        <tt class="py-name">message</tt> <tt class="py-op">=</tt> <tt id="link-875" class="py-name" targets="Variable wrook.CommandResult.Message=wrook.CommandResult-class.html#Message,Class wrook.Message=wrook.Message-class.html"><a title="wrook.CommandResult.Message
wrook.Message" class="py-name" href="#" onclick="return doclink('link-875', 'Message', 'link-875');">Message</a></tt><tt class="py-op">(</tt> </tt>
<a name="L1330"></a><tt class="py-lineno">1330</tt>  <tt class="py-line">                                                <tt id="link-876" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-876', 'Book', 'link-87');">Book</a></tt> <tt class="py-op">=</tt> <tt class="py-name">book</tt><tt class="py-op">,</tt> </tt>
<a name="L1331"></a><tt class="py-lineno">1331</tt>  <tt class="py-line">                                                <tt id="link-877" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-877', 'Author', 'link-48');">Author</a></tt> <tt class="py-op">=</tt> <tt class="py-name">author</tt><tt class="py-op">,</tt> </tt>
<a name="L1332"></a><tt class="py-lineno">1332</tt>  <tt class="py-line">                                                <tt id="link-878" class="py-name"><a title="feathers.talk.Post.From
wrook.Message.From" class="py-name" href="#" onclick="return doclink('link-878', 'From', 'link-181');">From</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-879" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-879', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">,</tt> </tt>
<a name="L1333"></a><tt class="py-lineno">1333</tt>  <tt class="py-line">                                                <tt id="link-880" class="py-name"><a title="feathers.stories.StoryPost.Topic
feathers.talk.Reply.Topic
feathers.talk.Topic
wrook.Message.Topic" class="py-name" href="#" onclick="return doclink('link-880', 'Topic', 'link-184');">Topic</a></tt> <tt class="py-op">=</tt> <tt class="py-name">topic</tt><tt class="py-op">,</tt> </tt>
<a name="L1334"></a><tt class="py-lineno">1334</tt>  <tt class="py-line">                                                <tt id="link-881" class="py-name"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-881', 'Text', 'link-107');">Text</a></tt> <tt class="py-op">=</tt> <tt class="py-name">text</tt><tt class="py-op">,</tt> </tt>
<a name="L1335"></a><tt class="py-lineno">1335</tt>  <tt class="py-line">                                                <tt id="link-882" class="py-name"><a title="feathers.talk.Post.isPrivate
wrook.Message.isPrivate" class="py-name" href="#" onclick="return doclink('link-882', 'isPrivate', 'link-188');">isPrivate</a></tt> <tt class="py-op">=</tt> <tt id="link-883" class="py-name"><a title="feathers.talk.Post.isPrivate
wrook.Message.isPrivate" class="py-name" href="#" onclick="return doclink('link-883', 'isPrivate', 'link-188');">isPrivate</a></tt><tt class="py-op">,</tt> </tt>
<a name="L1336"></a><tt class="py-lineno">1336</tt>  <tt class="py-line">                                                <tt id="link-884" class="py-name"><a title="wrook.Message.targetType" class="py-name" href="#" onclick="return doclink('link-884', 'targetType', 'link-190');">targetType</a></tt> <tt class="py-op">=</tt> <tt id="link-885" class="py-name"><a title="wrook.Message.targetType" class="py-name" href="#" onclick="return doclink('link-885', 'targetType', 'link-190');">targetType</a></tt> </tt>
<a name="L1337"></a><tt class="py-lineno">1337</tt>  <tt class="py-line">                                                <tt class="py-op">)</tt> </tt>
<a name="L1338"></a><tt class="py-lineno">1338</tt>  <tt class="py-line">                                        <tt class="py-name">message</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1339"></a><tt class="py-lineno">1339</tt>  <tt class="py-line">                                        <tt class="py-name">story</tt> <tt class="py-op">=</tt> <tt id="link-886" class="py-name" targets="Class wrook.StoryMemberPostMessageToABook=wrook.StoryMemberPostMessageToABook-class.html"><a title="wrook.StoryMemberPostMessageToABook" class="py-name" href="#" onclick="return doclink('link-886', 'StoryMemberPostMessageToABook', 'link-886');">StoryMemberPostMessageToABook</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1340"></a><tt class="py-lineno">1340</tt>  <tt class="py-line">                                        <tt class="py-name">occurence</tt> <tt class="py-op">=</tt> <tt class="py-name">story</tt><tt class="py-op">.</tt><tt id="link-887" class="py-name"><a title="feathers.stories.Story.createOccurence" class="py-name" href="#" onclick="return doclink('link-887', 'createOccurence', 'link-113');">createOccurence</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt> </tt>
<a name="L1341"></a><tt class="py-lineno">1341</tt>  <tt class="py-line">                                                <tt class="py-string">"member"</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-888" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-888', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">,</tt> </tt>
<a name="L1342"></a><tt class="py-lineno">1342</tt>  <tt class="py-line">                                                <tt class="py-string">"message"</tt><tt class="py-op">:</tt> <tt class="py-name">message</tt><tt class="py-op">,</tt> </tt>
<a name="L1343"></a><tt class="py-lineno">1343</tt>  <tt class="py-line">                                                <tt class="py-string">"book"</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt> </tt>
<a name="L1344"></a><tt class="py-lineno">1344</tt>  <tt class="py-line">                                                <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1345"></a><tt class="py-lineno">1345</tt>  <tt class="py-line">                                        <tt class="py-name">occurence</tt><tt class="py-op">.</tt><tt id="link-889" class="py-name"><a title="feathers.feed.Story.publish
feathers.feed.StoryOccurence.publish
feathers.stories.StoryOccurence.publish" class="py-name" href="#" onclick="return doclink('link-889', 'publish', 'link-115');">publish</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1346"></a><tt class="py-lineno">1346</tt>  <tt class="py-line">                                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-890" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-890', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"ComebackUrl"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1347"></a><tt class="py-lineno">1347</tt>  <tt class="py-line">                                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1348"></a><tt class="py-lineno">1348</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1349"></a><tt class="py-lineno">1349</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-891" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-891', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1350"></a><tt class="py-lineno">1350</tt>  <tt class="py-line"> </tt>
<a name="DeleteMessage"></a><div id="DeleteMessage-def"><a name="L1351"></a><tt class="py-lineno">1351</tt> <a class="py-toggle" href="#" id="DeleteMessage-toggle" onclick="return toggle('DeleteMessage');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.DeleteMessage-class.html">DeleteMessage</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="DeleteMessage-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="DeleteMessage-expanded"><a name="DeleteMessage.get"></a><div id="DeleteMessage.get-def"><a name="L1352"></a><tt class="py-lineno">1352</tt> <a class="py-toggle" href="#" id="DeleteMessage.get-toggle" onclick="return toggle('DeleteMessage.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.DeleteMessage-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="DeleteMessage.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="DeleteMessage.get-expanded"><a name="L1353"></a><tt class="py-lineno">1353</tt>  <tt class="py-line">                <tt id="link-892" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-892', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1354"></a><tt class="py-lineno">1354</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-893" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-893', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1355"></a><tt class="py-lineno">1355</tt>  <tt class="py-line">                        <tt class="py-name">message</tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt id="link-894" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-894', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1356"></a><tt class="py-lineno">1356</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">message</tt><tt class="py-op">:</tt> </tt>
<a name="L1357"></a><tt class="py-lineno">1357</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">message</tt><tt class="py-op">.</tt><tt id="link-895" class="py-name"><a title="feathers.talk.Post.From
wrook.Message.From" class="py-name" href="#" onclick="return doclink('link-895', 'From', 'link-181');">From</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-896" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-896', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1358"></a><tt class="py-lineno">1358</tt>  <tt class="py-line">                                        <tt class="py-name">message</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1359"></a><tt class="py-lineno">1359</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-897" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-897', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"ComebackUrl"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1360"></a><tt class="py-lineno">1360</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1361"></a><tt class="py-lineno">1361</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-898" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-898', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1362"></a><tt class="py-lineno">1362</tt>  <tt class="py-line"> </tt>
<a name="Typewriter"></a><div id="Typewriter-def"><a name="L1363"></a><tt class="py-lineno">1363</tt> <a class="py-toggle" href="#" id="Typewriter-toggle" onclick="return toggle('Typewriter');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Typewriter-class.html">Typewriter</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Typewriter-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Typewriter-expanded"><a name="Typewriter.get"></a><div id="Typewriter.get-def"><a name="L1364"></a><tt class="py-lineno">1364</tt> <a class="py-toggle" href="#" id="Typewriter.get-toggle" onclick="return toggle('Typewriter.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Typewriter-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Typewriter.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Typewriter.get-expanded"><a name="L1365"></a><tt class="py-lineno">1365</tt>  <tt class="py-line">                <tt id="link-899" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-899', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1366"></a><tt class="py-lineno">1366</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-900" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-900', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1367"></a><tt class="py-lineno">1367</tt>  <tt class="py-line">                        <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt id="link-901" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-901', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt id="link-902" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-902', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1368"></a><tt class="py-lineno">1368</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">:</tt> </tt>
<a name="L1369"></a><tt class="py-lineno">1369</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-903" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-903', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-904" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-904', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">"chapter"</tt><tt class="py-op">:</tt> <tt class="py-name">chapter</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1370"></a><tt class="py-lineno">1370</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-905" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-905', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/typewriter.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1371"></a><tt class="py-lineno">1371</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1372"></a><tt class="py-lineno">1372</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-906" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-906', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1373"></a><tt class="py-lineno">1373</tt>  <tt class="py-line"> </tt>
<a name="Typewriter.post"></a><div id="Typewriter.post-def"><a name="L1374"></a><tt class="py-lineno">1374</tt> <a class="py-toggle" href="#" id="Typewriter.post-toggle" onclick="return toggle('Typewriter.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Typewriter-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Typewriter.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Typewriter.post-expanded"><a name="L1375"></a><tt class="py-lineno">1375</tt>  <tt class="py-line">                <tt id="link-907" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-907', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1376"></a><tt class="py-lineno">1376</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-908" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-908', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1377"></a><tt class="py-lineno">1377</tt>  <tt class="py-line">                        <tt class="py-name">text</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-909" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-909', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"text"</tt><tt class="py-op">)</tt> </tt>
<a name="L1378"></a><tt class="py-lineno">1378</tt>  <tt class="py-line">                        <tt class="py-name">chapter</tt> <tt class="py-op">=</tt> <tt id="link-910" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-910', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt id="link-911" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-911', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">key</tt><tt class="py-op">)</tt> </tt>
<a name="L1379"></a><tt class="py-lineno">1379</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">:</tt> </tt>
<a name="L1380"></a><tt class="py-lineno">1380</tt>  <tt class="py-line">                                <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-912" class="py-name" targets="Method wrook.Chapter.addRevision()=wrook.Chapter-class.html#addRevision"><a title="wrook.Chapter.addRevision" class="py-name" href="#" onclick="return doclink('link-912', 'addRevision', 'link-912');">addRevision</a></tt><tt class="py-op">(</tt><tt class="py-name">text</tt><tt class="py-op">)</tt> </tt>
<a name="L1381"></a><tt class="py-lineno">1381</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/ViewChapter/%s"</tt> <tt class="py-op">%</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1382"></a><tt class="py-lineno">1382</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">404</tt><tt class="py-op">)</tt> </tt>
<a name="L1383"></a><tt class="py-lineno">1383</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-913" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-913', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1384"></a><tt class="py-lineno">1384</tt>  <tt class="py-line"> </tt>
<a name="AdminCommands"></a><div id="AdminCommands-def"><a name="L1385"></a><tt class="py-lineno">1385</tt> <a class="py-toggle" href="#" id="AdminCommands-toggle" onclick="return toggle('AdminCommands');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.AdminCommands-class.html">AdminCommands</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AdminCommands-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="AdminCommands-expanded"><a name="AdminCommands.get"></a><div id="AdminCommands.get-def"><a name="L1386"></a><tt class="py-lineno">1386</tt> <a class="py-toggle" href="#" id="AdminCommands.get-toggle" onclick="return toggle('AdminCommands.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.AdminCommands-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AdminCommands.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="AdminCommands.get-expanded"><a name="L1387"></a><tt class="py-lineno">1387</tt>  <tt class="py-line">                <tt id="link-914" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-914', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1388"></a><tt class="py-lineno">1388</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-915" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-915', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1389"></a><tt class="py-lineno">1389</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-916" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-916', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/admin-commands.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1390"></a><tt class="py-lineno">1390</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-917" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-917', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1391"></a><tt class="py-lineno">1391</tt>  <tt class="py-line"> </tt>
<a name="AdminCommands.post"></a><div id="AdminCommands.post-def"><a name="L1392"></a><tt class="py-lineno">1392</tt> <a class="py-toggle" href="#" id="AdminCommands.post-toggle" onclick="return toggle('AdminCommands.post');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.AdminCommands-class.html#post">post</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">key</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AdminCommands.post-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="AdminCommands.post-expanded"><a name="L1393"></a><tt class="py-lineno">1393</tt>  <tt class="py-line">                <tt id="link-918" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-918', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1394"></a><tt class="py-lineno">1394</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-919" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-919', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1395"></a><tt class="py-lineno">1395</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-op">(</tt><tt class="py-name">key</tt> <tt class="py-op">==</tt> <tt class="py-string">"doDefaultAllBookStatus"</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1396"></a><tt class="py-lineno">1396</tt>  <tt class="py-line">                                <tt class="py-name">operationResults</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-920" class="py-name" targets="Method wrook.AdminCommands.doDefaultAllBookStatus()=wrook.AdminCommands-class.html#doDefaultAllBookStatus"><a title="wrook.AdminCommands.doDefaultAllBookStatus" class="py-name" href="#" onclick="return doclink('link-920', 'doDefaultAllBookStatus', 'link-920');">doDefaultAllBookStatus</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1397"></a><tt class="py-lineno">1397</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-op">(</tt><tt class="py-name">key</tt> <tt class="py-op">==</tt> <tt class="py-string">"doDefaultAllChapterNumberTo0"</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1398"></a><tt class="py-lineno">1398</tt>  <tt class="py-line">                                <tt class="py-name">operationResults</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-921" class="py-name" targets="Method wrook.AdminCommands.doDefaultAllChapterNumberTo0()=wrook.AdminCommands-class.html#doDefaultAllChapterNumberTo0"><a title="wrook.AdminCommands.doDefaultAllChapterNumberTo0" class="py-name" href="#" onclick="return doclink('link-921', 'doDefaultAllChapterNumberTo0', 'link-921');">doDefaultAllChapterNumberTo0</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1399"></a><tt class="py-lineno">1399</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-op">(</tt><tt class="py-name">key</tt> <tt class="py-op">==</tt> <tt class="py-string">"doLoadLicenseTypes"</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1400"></a><tt class="py-lineno">1400</tt>  <tt class="py-line">                                <tt class="py-name">operationResults</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-922" class="py-name" targets="Method wrook.AdminCommands.doLoadLicenseTypes()=wrook.AdminCommands-class.html#doLoadLicenseTypes"><a title="wrook.AdminCommands.doLoadLicenseTypes" class="py-name" href="#" onclick="return doclink('link-922', 'doLoadLicenseTypes', 'link-922');">doLoadLicenseTypes</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1401"></a><tt class="py-lineno">1401</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L1402"></a><tt class="py-lineno">1402</tt>  <tt class="py-line">                                <tt class="py-name">operationResults</tt> <tt class="py-op">=</tt> <tt id="link-923" class="py-name" targets="Class wrook.CommandResult=wrook.CommandResult-class.html"><a title="wrook.CommandResult" class="py-name" href="#" onclick="return doclink('link-923', 'CommandResult', 'link-923');">CommandResult</a></tt><tt class="py-op">(</tt><tt id="link-924" class="py-name"><a title="wrook.CommandResult.ErrorCode" class="py-name" href="#" onclick="return doclink('link-924', 'ErrorCode', 'link-333');">ErrorCode</a></tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">,</tt> <tt id="link-925" class="py-name"><a title="wrook.CommandResult.Message
wrook.Message" class="py-name" href="#" onclick="return doclink('link-925', 'Message', 'link-875');">Message</a></tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"No commands have been processed. Missing parameters!"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1403"></a><tt class="py-lineno">1403</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-926" class="py-name"><a title="feathers.proforma.ProformaPage.Model
feathers.webapp.RequestHandler.Model" class="py-name" href="#" onclick="return doclink('link-926', 'Model', 'link-12');">Model</a></tt><tt class="py-op">.</tt><tt id="link-927" class="py-name"><a title="feathers.feed.StoryOccurence.update" class="py-name" href="#" onclick="return doclink('link-927', 'update', 'link-25');">update</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">"operationResults"</tt><tt class="py-op">:</tt> <tt class="py-name">operationResults</tt><tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1404"></a><tt class="py-lineno">1404</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-928" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-928', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">'views/admin-commands.html'</tt><tt class="py-op">)</tt> </tt>
<a name="L1405"></a><tt class="py-lineno">1405</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-929" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-929', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1406"></a><tt class="py-lineno">1406</tt>  <tt class="py-line">         </tt>
<a name="AdminCommands.doDefaultAllBookStatus"></a><div id="AdminCommands.doDefaultAllBookStatus-def"><a name="L1407"></a><tt class="py-lineno">1407</tt> <a class="py-toggle" href="#" id="AdminCommands.doDefaultAllBookStatus-toggle" onclick="return toggle('AdminCommands.doDefaultAllBookStatus');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.AdminCommands-class.html#doDefaultAllBookStatus">doDefaultAllBookStatus</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AdminCommands.doDefaultAllBookStatus-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="AdminCommands.doDefaultAllBookStatus-expanded"><a name="L1408"></a><tt class="py-lineno">1408</tt>  <tt class="py-line">                <tt class="py-keyword">for</tt> <tt class="py-name">book</tt> <tt class="py-keyword">in</tt> <tt id="link-930" class="py-name"><a title="wrook.Book
wrook.Bookmark.Book
wrook.Chapter.Book
wrook.Message.Book
wrook.Revision.Book" class="py-name" href="#" onclick="return doclink('link-930', 'Book', 'link-87');">Book</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1409"></a><tt class="py-lineno">1409</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-931" class="py-name"><a title="wrook.Book.Stage
wrook.Chapter.Stage" class="py-name" href="#" onclick="return doclink('link-931', 'Stage', 'link-52');">Stage</a></tt> <tt class="py-op">==</tt> <tt class="py-string">"planning"</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-932" class="py-name"><a title="wrook.Book.Stage
wrook.Chapter.Stage" class="py-name" href="#" onclick="return doclink('link-932', 'Stage', 'link-52');">Stage</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"writing"</tt> </tt>
<a name="L1410"></a><tt class="py-lineno">1410</tt>  <tt class="py-line">                        <tt class="py-keyword">for</tt> <tt class="py-name">chapter</tt> <tt class="py-keyword">in</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-933" class="py-name"><a title="wrook.Book.Chapters" class="py-name" href="#" onclick="return doclink('link-933', 'Chapters', 'link-67');">Chapters</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1411"></a><tt class="py-lineno">1411</tt>  <tt class="py-line">                                <tt class="py-keyword">if</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-934" class="py-name"><a title="wrook.Book.Stage
wrook.Chapter.Stage" class="py-name" href="#" onclick="return doclink('link-934', 'Stage', 'link-52');">Stage</a></tt> <tt class="py-op">==</tt> <tt class="py-string">"planning"</tt><tt class="py-op">:</tt> <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-935" class="py-name"><a title="wrook.Book.Stage
wrook.Chapter.Stage" class="py-name" href="#" onclick="return doclink('link-935', 'Stage', 'link-52');">Stage</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"writing"</tt> </tt>
<a name="L1412"></a><tt class="py-lineno">1412</tt>  <tt class="py-line">                                <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1413"></a><tt class="py-lineno">1413</tt>  <tt class="py-line">                        <tt class="py-name">book</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1414"></a><tt class="py-lineno">1414</tt>  <tt class="py-line">                <tt class="py-name">result</tt> <tt class="py-op">=</tt> <tt id="link-936" class="py-name"><a title="wrook.CommandResult" class="py-name" href="#" onclick="return doclink('link-936', 'CommandResult', 'link-923');">CommandResult</a></tt><tt class="py-op">(</tt><tt id="link-937" class="py-name"><a title="wrook.CommandResult.ErrorCode" class="py-name" href="#" onclick="return doclink('link-937', 'ErrorCode', 'link-333');">ErrorCode</a></tt><tt class="py-op">=</tt><tt class="py-number">0</tt><tt class="py-op">,</tt> <tt id="link-938" class="py-name"><a title="wrook.CommandResult.Message
wrook.Message" class="py-name" href="#" onclick="return doclink('link-938', 'Message', 'link-875');">Message</a></tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Empty status properties of all books and chapters have been defaulted!"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1415"></a><tt class="py-lineno">1415</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">result</tt> </tt>
</div><a name="L1416"></a><tt class="py-lineno">1416</tt>  <tt class="py-line"> </tt>
<a name="AdminCommands.doLoadLicenseTypes"></a><div id="AdminCommands.doLoadLicenseTypes-def"><a name="L1417"></a><tt class="py-lineno">1417</tt> <a class="py-toggle" href="#" id="AdminCommands.doLoadLicenseTypes-toggle" onclick="return toggle('AdminCommands.doLoadLicenseTypes');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.AdminCommands-class.html#doLoadLicenseTypes">doLoadLicenseTypes</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AdminCommands.doLoadLicenseTypes-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="AdminCommands.doLoadLicenseTypes-expanded"><a name="L1418"></a><tt class="py-lineno">1418</tt>  <tt class="py-line">                <tt id="link-939" class="py-name"><a title="licensing" class="py-name" href="#" onclick="return doclink('link-939', 'licensing', 'link-11');">licensing</a></tt><tt class="py-op">.</tt><tt id="link-940" class="py-name" targets="Function licensing.LoadLicenseTypes()=licensing-module.html#LoadLicenseTypes"><a title="licensing.LoadLicenseTypes" class="py-name" href="#" onclick="return doclink('link-940', 'LoadLicenseTypes', 'link-940');">LoadLicenseTypes</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1419"></a><tt class="py-lineno">1419</tt>  <tt class="py-line">                <tt class="py-name">result</tt> <tt class="py-op">=</tt> <tt id="link-941" class="py-name"><a title="wrook.CommandResult" class="py-name" href="#" onclick="return doclink('link-941', 'CommandResult', 'link-923');">CommandResult</a></tt><tt class="py-op">(</tt><tt id="link-942" class="py-name"><a title="wrook.CommandResult.ErrorCode" class="py-name" href="#" onclick="return doclink('link-942', 'ErrorCode', 'link-333');">ErrorCode</a></tt><tt class="py-op">=</tt><tt class="py-number">0</tt><tt class="py-op">,</tt> <tt id="link-943" class="py-name"><a title="wrook.CommandResult.Message
wrook.Message" class="py-name" href="#" onclick="return doclink('link-943', 'Message', 'link-875');">Message</a></tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"All license types have been loaded into the database!"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1420"></a><tt class="py-lineno">1420</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">result</tt> </tt>
</div><a name="L1421"></a><tt class="py-lineno">1421</tt>  <tt class="py-line"> </tt>
<a name="AdminCommands.doDefaultAllChapterNumberTo0"></a><div id="AdminCommands.doDefaultAllChapterNumberTo0-def"><a name="L1422"></a><tt class="py-lineno">1422</tt> <a class="py-toggle" href="#" id="AdminCommands.doDefaultAllChapterNumberTo0-toggle" onclick="return toggle('AdminCommands.doDefaultAllChapterNumberTo0');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.AdminCommands-class.html#doDefaultAllChapterNumberTo0">doDefaultAllChapterNumberTo0</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="AdminCommands.doDefaultAllChapterNumberTo0-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="AdminCommands.doDefaultAllChapterNumberTo0-expanded"><a name="L1423"></a><tt class="py-lineno">1423</tt>  <tt class="py-line">                <tt class="py-keyword">for</tt> <tt class="py-name">chapter</tt> <tt class="py-keyword">in</tt> <tt id="link-944" class="py-name"><a title="wrook.Bookmark.Chapter
wrook.Chapter
wrook.Message.Chapter
wrook.Revision.Chapter" class="py-name" href="#" onclick="return doclink('link-944', 'Chapter', 'link-82');">Chapter</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1424"></a><tt class="py-lineno">1424</tt>  <tt class="py-line">                        <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt id="link-945" class="py-name"><a title="wrook.Chapter.Number" class="py-name" href="#" onclick="return doclink('link-945', 'Number', 'link-93');">Number</a></tt><tt class="py-op">=</tt><tt class="py-number">0</tt> </tt>
<a name="L1425"></a><tt class="py-lineno">1425</tt>  <tt class="py-line">                        <tt class="py-name">chapter</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1426"></a><tt class="py-lineno">1426</tt>  <tt class="py-line">                <tt class="py-name">result</tt> <tt class="py-op">=</tt> <tt id="link-946" class="py-name"><a title="wrook.CommandResult" class="py-name" href="#" onclick="return doclink('link-946', 'CommandResult', 'link-923');">CommandResult</a></tt><tt class="py-op">(</tt><tt id="link-947" class="py-name"><a title="wrook.CommandResult.ErrorCode" class="py-name" href="#" onclick="return doclink('link-947', 'ErrorCode', 'link-333');">ErrorCode</a></tt><tt class="py-op">=</tt><tt class="py-number">0</tt><tt class="py-op">,</tt> <tt id="link-948" class="py-name"><a title="wrook.CommandResult.Message
wrook.Message" class="py-name" href="#" onclick="return doclink('link-948', 'Message', 'link-875');">Message</a></tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"All chapter numbers have been reseted to 0!"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1427"></a><tt class="py-lineno">1427</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">result</tt> </tt>
</div></div><a name="L1428"></a><tt class="py-lineno">1428</tt>  <tt class="py-line"> </tt>
<a name="CommandResult"></a><div id="CommandResult-def"><a name="L1429"></a><tt class="py-lineno">1429</tt> <a class="py-toggle" href="#" id="CommandResult-toggle" onclick="return toggle('CommandResult');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.CommandResult-class.html">CommandResult</a><tt class="py-op">(</tt><tt class="py-base-class">db</tt><tt class="py-op">.</tt><tt class="py-base-class">Model</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="CommandResult-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="CommandResult-expanded"><a name="L1430"></a><tt class="py-lineno">1430</tt>  <tt class="py-line">        <tt id="link-949" class="py-name"><a title="wrook.CommandResult.ErrorCode" class="py-name" href="#" onclick="return doclink('link-949', 'ErrorCode', 'link-333');">ErrorCode</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">IntegerProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-string">"0"</tt><tt class="py-op">)</tt> <tt class="py-comment"># 0 = no errors</tt> </tt>
<a name="L1431"></a><tt class="py-lineno">1431</tt>  <tt class="py-line">        <tt id="link-950" class="py-name"><a title="wrook.CommandResult.Message
wrook.Message" class="py-name" href="#" onclick="return doclink('link-950', 'Message', 'link-875');">Message</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">TextProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-string">""</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1432"></a><tt class="py-lineno">1432</tt>  <tt class="py-line"> </tt>
<a name="Command"></a><div id="Command-def"><a name="L1433"></a><tt class="py-lineno">1433</tt> <a class="py-toggle" href="#" id="Command-toggle" onclick="return toggle('Command');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Command-class.html">Command</a><tt class="py-op">(</tt><tt class="py-base-class">db</tt><tt class="py-op">.</tt><tt class="py-base-class">Model</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Command-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Command-expanded"><a name="L1434"></a><tt class="py-lineno">1434</tt>  <tt class="py-line">        <tt id="link-951" class="py-name"><a title="feathers.customize.Theme.Title
feathers.feed.StoryOccurence.Title
feathers.feed.StoryPost.Title
feathers.labs.Feature.Title
feathers.stories.StoryOccurence.Title
feathers.stories.StoryPost.Title
feathers.talk.Topic.Title
licensing.LicenseType.Title
wrook.Book.Title
wrook.Chapter.Title
wrook.Command.Title
wrook.Moment.Title" class="py-name" href="#" onclick="return doclink('link-951', 'Title', 'link-29');">Title</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-string">""</tt><tt class="py-op">)</tt> </tt>
<a name="L1435"></a><tt class="py-lineno">1435</tt>  <tt class="py-line">        <tt id="link-952" class="py-name" targets="Variable feathers.customize.Theme.Description=feathers.customize.Theme-class.html#Description,Variable feathers.labs.Feature.Description=feathers.labs.Feature-class.html#Description,Variable feathers.labs.Release.Description=feathers.labs.Release-class.html#Description,Variable wrook.Command.Description=wrook.Command-class.html#Description"><a title="feathers.customize.Theme.Description
feathers.labs.Feature.Description
feathers.labs.Release.Description
wrook.Command.Description" class="py-name" href="#" onclick="return doclink('link-952', 'Description', 'link-952');">Description</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">TextProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-string">""</tt><tt class="py-op">)</tt> </tt>
<a name="L1436"></a><tt class="py-lineno">1436</tt>  <tt class="py-line">        <tt id="link-953" class="py-name" targets="Variable wrook.Command.Code=wrook.Command-class.html#Code"><a title="wrook.Command.Code" class="py-name" href="#" onclick="return doclink('link-953', 'Code', 'link-953');">Code</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">TextProperty</tt><tt class="py-op">(</tt><tt class="py-name">default</tt><tt class="py-op">=</tt><tt class="py-string">""</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1437"></a><tt class="py-lineno">1437</tt>  <tt class="py-line"> </tt>
<a name="FlushCache"></a><div id="FlushCache-def"><a name="L1438"></a><tt class="py-lineno">1438</tt> <a class="py-toggle" href="#" id="FlushCache-toggle" onclick="return toggle('FlushCache');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.FlushCache-class.html">FlushCache</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="FlushCache-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="FlushCache-expanded"><a name="FlushCache.get"></a><div id="FlushCache.get-def"><a name="L1439"></a><tt class="py-lineno">1439</tt> <a class="py-toggle" href="#" id="FlushCache.get-toggle" onclick="return toggle('FlushCache.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.FlushCache-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="FlushCache.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="FlushCache.get-expanded"><a name="L1440"></a><tt class="py-lineno">1440</tt>  <tt class="py-line">                <tt id="link-954" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-954', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1441"></a><tt class="py-lineno">1441</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-955" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-955', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1442"></a><tt class="py-lineno">1442</tt>  <tt class="py-line">                        <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">flush_all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1443"></a><tt class="py-lineno">1443</tt>  <tt class="py-line">                        <tt class="py-comment">#Refactor:Use the proforma module for a confirmation</tt> </tt>
<a name="L1444"></a><tt class="py-lineno">1444</tt>  <tt class="py-line"><tt class="py-comment"></tt>                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">out</tt><tt class="py-op">.</tt><tt class="py-name">write</tt><tt class="py-op">(</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Congratulations... you flushed the cache!"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1445"></a><tt class="py-lineno">1445</tt>  <tt class="py-line">                        <tt class="py-comment">#Post this as a story for admins</tt> </tt>
<a name="L1446"></a><tt class="py-lineno">1446</tt>  <tt class="py-line"><tt class="py-comment"></tt>                        <tt class="py-name">story</tt> <tt class="py-op">=</tt> <tt id="link-956" class="py-name" targets="Class wrook.StorySiteCacheIsFlushed=wrook.StorySiteCacheIsFlushed-class.html"><a title="wrook.StorySiteCacheIsFlushed" class="py-name" href="#" onclick="return doclink('link-956', 'StorySiteCacheIsFlushed', 'link-956');">StorySiteCacheIsFlushed</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1447"></a><tt class="py-lineno">1447</tt>  <tt class="py-line">                        <tt class="py-name">occurence</tt> <tt class="py-op">=</tt> <tt class="py-name">story</tt><tt class="py-op">.</tt><tt id="link-957" class="py-name"><a title="feathers.stories.Story.createOccurence" class="py-name" href="#" onclick="return doclink('link-957', 'createOccurence', 'link-113');">createOccurence</a></tt><tt class="py-op">(</tt><tt class="py-op">{</tt><tt class="py-string">"member"</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-958" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-958', 'CurrentMember', 'link-14');">CurrentMember</a></tt> <tt class="py-op">}</tt><tt class="py-op">)</tt> </tt>
<a name="L1448"></a><tt class="py-lineno">1448</tt>  <tt class="py-line">                        <tt class="py-name">occurence</tt><tt class="py-op">.</tt><tt id="link-959" class="py-name"><a title="feathers.feed.Story.publish
feathers.feed.StoryOccurence.publish
feathers.stories.StoryOccurence.publish" class="py-name" href="#" onclick="return doclink('link-959', 'publish', 'link-115');">publish</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1449"></a><tt class="py-lineno">1449</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-960" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-960', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1450"></a><tt class="py-lineno">1450</tt>  <tt class="py-line"> </tt>
<a name="Test"></a><div id="Test-def"><a name="L1451"></a><tt class="py-lineno">1451</tt> <a class="py-toggle" href="#" id="Test-toggle" onclick="return toggle('Test');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Test-class.html">Test</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Test-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Test-expanded"><a name="Test.get"></a><div id="Test.get-def"><a name="L1452"></a><tt class="py-lineno">1452</tt> <a class="py-toggle" href="#" id="Test.get-toggle" onclick="return toggle('Test.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Test-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Test.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Test.get-expanded"><a name="L1453"></a><tt class="py-lineno">1453</tt>  <tt class="py-line">                <tt class="py-keyword">import</tt> <tt id="link-961" class="py-name" targets="Module _runtest=_runtest-module.html"><a title="_runtest" class="py-name" href="#" onclick="return doclink('link-961', '_runtest', 'link-961');">_runtest</a></tt> </tt>
<a name="L1454"></a><tt class="py-lineno">1454</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">response</tt><tt class="py-op">.</tt><tt class="py-name">out</tt><tt class="py-op">.</tt><tt class="py-name">write</tt><tt class="py-op">(</tt><tt id="link-962" class="py-name"><a title="_runtest" class="py-name" href="#" onclick="return doclink('link-962', '_runtest', 'link-961');">_runtest</a></tt><tt class="py-op">.</tt><tt id="link-963" class="py-name" targets="Function _runtest.getTestResults()=_runtest-module.html#getTestResults"><a title="_runtest.getTestResults" class="py-name" href="#" onclick="return doclink('link-963', 'getTestResults', 'link-963');">getTestResults</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1455"></a><tt class="py-lineno">1455</tt>  <tt class="py-line"> </tt>
<a name="getDefaultTheme"></a><div id="getDefaultTheme-def"><a name="L1456"></a><tt class="py-lineno">1456</tt> <a class="py-toggle" href="#" id="getDefaultTheme-toggle" onclick="return toggle('getDefaultTheme');">-</a><tt class="py-line"><tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook-module.html#getDefaultTheme">getDefaultTheme</a><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> <tt class="py-comment">#Refactor: Move back to the Customize module??</tt> </tt>
</div><a name="L1457"></a><tt class="py-lineno">1457</tt>  <tt class="py-line">        <tt class="py-name">defaultTheme</tt> <tt class="py-op">=</tt> <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt id="link-964" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-964', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"wrookDefaultTheme"</tt><tt class="py-op">)</tt> </tt>
<a name="L1458"></a><tt class="py-lineno">1458</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">defaultTheme</tt><tt class="py-op">:</tt> </tt>
<a name="L1459"></a><tt class="py-lineno">1459</tt>  <tt class="py-line">                <tt class="py-name">defaultMoments</tt> <tt class="py-op">=</tt> <tt id="link-965" class="py-name" targets="Class wrook.Moment=wrook.Moment-class.html"><a title="wrook.Moment" class="py-name" href="#" onclick="return doclink('link-965', 'Moment', 'link-965');">Moment</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"isDefault ="</tt><tt class="py-op">,</tt> <tt class="py-name">True</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">order</tt><tt class="py-op">(</tt><tt class="py-string">"-Priority"</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
<a name="L1460"></a><tt class="py-lineno">1460</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">defaultMoments</tt><tt class="py-op">)</tt><tt class="py-op">==</tt><tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L1461"></a><tt class="py-lineno">1461</tt>  <tt class="py-line">                        <tt class="py-keyword">return</tt> <tt class="py-name">None</tt> </tt>
<a name="L1462"></a><tt class="py-lineno">1462</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L1463"></a><tt class="py-lineno">1463</tt>  <tt class="py-line">                        <tt class="py-name">defaultTheme</tt> <tt class="py-op">=</tt> <tt class="py-name">defaultMoments</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt><tt class="py-op">.</tt><tt id="link-966" class="py-name"><a title="feathers.customize.Theme
feathers.customize.ThemeMemberSelection.Theme
wrook.Moment.Theme" class="py-name" href="#" onclick="return doclink('link-966', 'Theme', 'link-33');">Theme</a></tt> </tt>
<a name="L1464"></a><tt class="py-lineno">1464</tt>  <tt class="py-line">                        <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">add</tt><tt class="py-op">(</tt><tt class="py-string">"wrookDefaultTheme"</tt><tt class="py-op">,</tt> <tt class="py-name">defaultTheme</tt><tt class="py-op">)</tt> </tt>
<a name="L1465"></a><tt class="py-lineno">1465</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">defaultTheme</tt> </tt>
</div><a name="L1466"></a><tt class="py-lineno">1466</tt>  <tt class="py-line"> </tt>
<a name="SetDefaultTheme"></a><div id="SetDefaultTheme-def"><a name="L1467"></a><tt class="py-lineno">1467</tt> <a class="py-toggle" href="#" id="SetDefaultTheme-toggle" onclick="return toggle('SetDefaultTheme');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.SetDefaultTheme-class.html">SetDefaultTheme</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> <tt class="py-comment">#Refactor: Move back to the Customize module</tt> </tt>
</div><a name="SetDefaultTheme.get"></a><div id="SetDefaultTheme.get-def"><a name="L1468"></a><tt class="py-lineno">1468</tt> <a class="py-toggle" href="#" id="SetDefaultTheme.get-toggle" onclick="return toggle('SetDefaultTheme.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.SetDefaultTheme-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="SetDefaultTheme.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="SetDefaultTheme.get-expanded"><a name="L1469"></a><tt class="py-lineno">1469</tt>  <tt class="py-line">                <tt id="link-967" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-967', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1470"></a><tt class="py-lineno">1470</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-968" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-968', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1471"></a><tt class="py-lineno">1471</tt>  <tt class="py-line">                        <tt class="py-name">theme</tt> <tt class="py-op">=</tt> <tt id="link-969" class="py-name"><a title="feathers.customize" class="py-name" href="#" onclick="return doclink('link-969', 'customize', 'link-6');">customize</a></tt><tt class="py-op">.</tt><tt id="link-970" class="py-name"><a title="feathers.customize.Theme
feathers.customize.ThemeMemberSelection.Theme
wrook.Moment.Theme" class="py-name" href="#" onclick="return doclink('link-970', 'Theme', 'link-33');">Theme</a></tt><tt class="py-op">.</tt><tt id="link-971" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-971', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">request</tt><tt class="py-op">.</tt><tt id="link-972" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-972', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"selectedTheme"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1472"></a><tt class="py-lineno">1472</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">theme</tt> <tt class="py-keyword">and</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-973" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-973', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">.</tt><tt id="link-974" class="py-name"><a title="feathers.membership.Member.isAdmin" class="py-name" href="#" onclick="return doclink('link-974', 'isAdmin', 'link-532');">isAdmin</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1473"></a><tt class="py-lineno">1473</tt>  <tt class="py-line">                                <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt id="link-975" class="py-name"><a title="wrook.Moment" class="py-name" href="#" onclick="return doclink('link-975', 'Moment', 'link-965');">Moment</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"isDefault ="</tt><tt class="py-op">,</tt> <tt class="py-name">True</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> <tt class="py-comment"># Removes the current default moments</tt> </tt>
<a name="L1474"></a><tt class="py-lineno">1474</tt>  <tt class="py-line">                                <tt class="py-name">moment</tt> <tt class="py-op">=</tt> <tt id="link-976" class="py-name"><a title="wrook.Moment" class="py-name" href="#" onclick="return doclink('link-976', 'Moment', 'link-965');">Moment</a></tt><tt class="py-op">(</tt> </tt>
<a name="L1475"></a><tt class="py-lineno">1475</tt>  <tt class="py-line">                                        <tt id="link-977" class="py-name"><a title="feathers.customize.Theme.Title
feathers.feed.StoryOccurence.Title
feathers.feed.StoryPost.Title
feathers.labs.Feature.Title
feathers.stories.StoryOccurence.Title
feathers.stories.StoryPost.Title
feathers.talk.Topic.Title
licensing.LicenseType.Title
wrook.Book.Title
wrook.Chapter.Title
wrook.Command.Title
wrook.Moment.Title" class="py-name" href="#" onclick="return doclink('link-977', 'Title', 'link-29');">Title</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"Default moment"</tt><tt class="py-op">,</tt> </tt>
<a name="L1476"></a><tt class="py-lineno">1476</tt>  <tt class="py-line">                                        <tt id="link-978" class="py-name"><a title="feathers.customize.Theme
feathers.customize.ThemeMemberSelection.Theme
wrook.Moment.Theme" class="py-name" href="#" onclick="return doclink('link-978', 'Theme', 'link-33');">Theme</a></tt> <tt class="py-op">=</tt> <tt class="py-name">theme</tt><tt class="py-op">,</tt> </tt>
<a name="L1477"></a><tt class="py-lineno">1477</tt>  <tt class="py-line">                                        <tt id="link-979" class="py-name"><a title="feathers.customize.Theme.isDefault
wrook.Moment.isDefault" class="py-name" href="#" onclick="return doclink('link-979', 'isDefault', 'link-36');">isDefault</a></tt> <tt class="py-op">=</tt> <tt class="py-name">True</tt> </tt>
<a name="L1478"></a><tt class="py-lineno">1478</tt>  <tt class="py-line">                                        <tt class="py-op">)</tt> </tt>
<a name="L1479"></a><tt class="py-lineno">1479</tt>  <tt class="py-line">                                <tt class="py-name">moment</tt><tt class="py-op">.</tt><tt class="py-name">put</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1480"></a><tt class="py-lineno">1480</tt>  <tt class="py-line">                                <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">delete</tt><tt class="py-op">(</tt><tt class="py-string">"wrookDefaultTheme"</tt><tt class="py-op">)</tt> <tt class="py-comment"># Invalidates the cached default theme</tt> </tt>
<a name="L1481"></a><tt class="py-lineno">1481</tt>  <tt class="py-line">                                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">redirect</tt><tt class="py-op">(</tt><tt class="py-string">"/Themes"</tt><tt class="py-op">)</tt> </tt>
<a name="L1482"></a><tt class="py-lineno">1482</tt>  <tt class="py-line">                        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">error</tt><tt class="py-op">(</tt><tt class="py-number">500</tt><tt class="py-op">)</tt> </tt>
<a name="L1483"></a><tt class="py-lineno">1483</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-980" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-980', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1484"></a><tt class="py-lineno">1484</tt>  <tt class="py-line"> </tt>
<a name="WrookApplication"></a><div id="WrookApplication-def"><a name="L1485"></a><tt class="py-lineno">1485</tt> <a class="py-toggle" href="#" id="WrookApplication-toggle" onclick="return toggle('WrookApplication');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.WrookApplication-class.html">WrookApplication</a><tt class="py-op">(</tt><tt class="py-base-class">webapp</tt><tt class="py-op">.</tt><tt class="py-base-class">Application</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> <tt class="py-comment"># decouppling for future use</tt> </tt>
</div><a name="L1486"></a><tt class="py-lineno">1486</tt>  <tt class="py-line">        <tt class="py-keyword">pass</tt> </tt>
</div><a name="L1487"></a><tt class="py-lineno">1487</tt>  <tt class="py-line"> </tt>
<a name="L1488"></a><tt class="py-lineno">1488</tt>  <tt class="py-line"><tt class="py-comment">#============================================================================</tt> </tt>
<a name="L1489"></a><tt class="py-lineno">1489</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt class="py-comment"># ABOUT</tt> </tt>
<a name="L1490"></a><tt class="py-lineno">1490</tt>  <tt class="py-line"><tt class="py-comment"></tt> </tt>
<a name="About_OpenSoureLicense"></a><div id="About_OpenSoureLicense-def"><a name="L1491"></a><tt class="py-lineno">1491</tt> <a class="py-toggle" href="#" id="About_OpenSoureLicense-toggle" onclick="return toggle('About_OpenSoureLicense');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.About_OpenSoureLicense-class.html">About_OpenSoureLicense</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="About_OpenSoureLicense-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="About_OpenSoureLicense-expanded"><a name="About_OpenSoureLicense.get"></a><div id="About_OpenSoureLicense.get-def"><a name="L1492"></a><tt class="py-lineno">1492</tt> <a class="py-toggle" href="#" id="About_OpenSoureLicense.get-toggle" onclick="return toggle('About_OpenSoureLicense.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.About_OpenSoureLicense-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="About_OpenSoureLicense.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="About_OpenSoureLicense.get-expanded"><a name="L1493"></a><tt class="py-lineno">1493</tt>  <tt class="py-line">                <tt id="link-981" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-981', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1494"></a><tt class="py-lineno">1494</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-982" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-982', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/about-openSourceLicense.html"</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1495"></a><tt class="py-lineno">1495</tt>  <tt class="py-line"> </tt>
<a name="About_OpenSoureAttribution"></a><div id="About_OpenSoureAttribution-def"><a name="L1496"></a><tt class="py-lineno">1496</tt> <a class="py-toggle" href="#" id="About_OpenSoureAttribution-toggle" onclick="return toggle('About_OpenSoureAttribution');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.About_OpenSoureAttribution-class.html">About_OpenSoureAttribution</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="About_OpenSoureAttribution-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="About_OpenSoureAttribution-expanded"><a name="About_OpenSoureAttribution.get"></a><div id="About_OpenSoureAttribution.get-def"><a name="L1497"></a><tt class="py-lineno">1497</tt> <a class="py-toggle" href="#" id="About_OpenSoureAttribution.get-toggle" onclick="return toggle('About_OpenSoureAttribution.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.About_OpenSoureAttribution-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="About_OpenSoureAttribution.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="About_OpenSoureAttribution.get-expanded"><a name="L1498"></a><tt class="py-lineno">1498</tt>  <tt class="py-line">                <tt id="link-983" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-983', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1499"></a><tt class="py-lineno">1499</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-984" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-984', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/about-openSourceAttribution.html"</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1500"></a><tt class="py-lineno">1500</tt>  <tt class="py-line"> </tt>
<a name="About_CPAL"></a><div id="About_CPAL-def"><a name="L1501"></a><tt class="py-lineno">1501</tt> <a class="py-toggle" href="#" id="About_CPAL-toggle" onclick="return toggle('About_CPAL');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.About_CPAL-class.html">About_CPAL</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="About_CPAL-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="About_CPAL-expanded"><a name="About_CPAL.get"></a><div id="About_CPAL.get-def"><a name="L1502"></a><tt class="py-lineno">1502</tt> <a class="py-toggle" href="#" id="About_CPAL.get-toggle" onclick="return toggle('About_CPAL.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.About_CPAL-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="About_CPAL.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="About_CPAL.get-expanded"><a name="L1503"></a><tt class="py-lineno">1503</tt>  <tt class="py-line">                <tt id="link-985" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-985', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1504"></a><tt class="py-lineno">1504</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-986" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-986', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/about-CPAL.html"</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1505"></a><tt class="py-lineno">1505</tt>  <tt class="py-line"> </tt>
<a name="About_who"></a><div id="About_who-def"><a name="L1506"></a><tt class="py-lineno">1506</tt> <a class="py-toggle" href="#" id="About_who-toggle" onclick="return toggle('About_who');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.About_who-class.html">About_who</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="About_who-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="About_who-expanded"><a name="About_who.get"></a><div id="About_who.get-def"><a name="L1507"></a><tt class="py-lineno">1507</tt> <a class="py-toggle" href="#" id="About_who.get-toggle" onclick="return toggle('About_who.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.About_who-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="About_who.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="About_who.get-expanded"><a name="L1508"></a><tt class="py-lineno">1508</tt>  <tt class="py-line">                <tt id="link-987" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-987', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1509"></a><tt class="py-lineno">1509</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-988" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-988', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/about-who.html"</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1510"></a><tt class="py-lineno">1510</tt>  <tt class="py-line"> </tt>
<a name="L1511"></a><tt class="py-lineno">1511</tt>  <tt class="py-line"> </tt>
<a name="Suggestions"></a><div id="Suggestions-def"><a name="L1512"></a><tt class="py-lineno">1512</tt> <a class="py-toggle" href="#" id="Suggestions-toggle" onclick="return toggle('Suggestions');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.Suggestions-class.html">Suggestions</a><tt class="py-op">(</tt><tt class="py-base-class">WrookRequestHandler</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Suggestions-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Suggestions-expanded"><a name="Suggestions.get"></a><div id="Suggestions.get-def"><a name="L1513"></a><tt class="py-lineno">1513</tt> <a class="py-toggle" href="#" id="Suggestions.get-toggle" onclick="return toggle('Suggestions.get');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.Suggestions-class.html#get">get</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Suggestions.get-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="Suggestions.get-expanded"><a name="L1514"></a><tt class="py-lineno">1514</tt>  <tt class="py-line">                <tt id="link-989" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-989', 'onRequest', 'link-195');">onRequest</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L1515"></a><tt class="py-lineno">1515</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-990" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-990', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">:</tt> </tt>
<a name="L1516"></a><tt class="py-lineno">1516</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-991" class="py-name"><a title="feathers.webapp.RequestHandler.setVisitedMember" class="py-name" href="#" onclick="return doclink('link-991', 'setVisitedMember', 'link-392');">setVisitedMember</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-992" class="py-name"><a title="feathers.webapp.RequestHandler.CurrentMember" class="py-name" href="#" onclick="return doclink('link-992', 'CurrentMember', 'link-14');">CurrentMember</a></tt><tt class="py-op">)</tt> </tt>
<a name="L1517"></a><tt class="py-lineno">1517</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-993" class="py-name"><a title="feathers.webapp.RequestHandler.render" class="py-name" href="#" onclick="return doclink('link-993', 'render', 'link-232');">render</a></tt><tt class="py-op">(</tt><tt class="py-string">"views/member-suggestions.html"</tt><tt class="py-op">)</tt> </tt>
<a name="L1518"></a><tt class="py-lineno">1518</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-994" class="py-name"><a title="feathers.webapp.RequestHandler.requestLogin" class="py-name" href="#" onclick="return doclink('link-994', 'requestLogin', 'link-210');">requestLogin</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1519"></a><tt class="py-lineno">1519</tt>  <tt class="py-line">                 </tt>
<a name="L1520"></a><tt class="py-lineno">1520</tt>  <tt class="py-line"> </tt>
<a name="L1521"></a><tt class="py-lineno">1521</tt>  <tt class="py-line"> </tt>
<a name="L1522"></a><tt class="py-lineno">1522</tt>  <tt class="py-line"><tt class="py-comment">#============================================================================</tt> </tt>
<a name="L1523"></a><tt class="py-lineno">1523</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt class="py-comment"># STORIES</tt> </tt>
<a name="L1524"></a><tt class="py-lineno">1524</tt>  <tt class="py-line"><tt class="py-comment"></tt> </tt>
<a name="StoryMemberStartReadingBook"></a><div id="StoryMemberStartReadingBook-def"><a name="L1525"></a><tt class="py-lineno">1525</tt> <a class="py-toggle" href="#" id="StoryMemberStartReadingBook-toggle" onclick="return toggle('StoryMemberStartReadingBook');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.StoryMemberStartReadingBook-class.html">StoryMemberStartReadingBook</a><tt class="py-op">(</tt><tt class="py-base-class">stories</tt><tt class="py-op">.</tt><tt class="py-base-class">Story</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="StoryMemberStartReadingBook-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="StoryMemberStartReadingBook-expanded"><a name="L1526"></a><tt class="py-lineno">1526</tt>  <tt class="py-line">        <tt id="link-995" class="py-name" targets="Variable feathers.feed.Story.ID=feathers.feed.Story-class.html#ID,Variable feathers.stories.Story.ID=feathers.stories.Story-class.html#ID,Variable wrook.StoryMemberPostMessageToABook.ID=wrook.StoryMemberPostMessageToABook-class.html#ID,Variable wrook.StoryMemberStartReadingBook.ID=wrook.StoryMemberStartReadingBook-class.html#ID,Variable wrook.StorySiteCacheIsFlushed.ID=wrook.StorySiteCacheIsFlushed-class.html#ID"><a title="feathers.feed.Story.ID
feathers.stories.Story.ID
wrook.StoryMemberPostMessageToABook.ID
wrook.StoryMemberStartReadingBook.ID
wrook.StorySiteCacheIsFlushed.ID" class="py-name" href="#" onclick="return doclink('link-995', 'ID', 'link-995');">ID</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"MemberStartReadingBook"</tt> </tt>
<a name="L1527"></a><tt class="py-lineno">1527</tt>  <tt class="py-line">        <tt id="link-996" class="py-name" targets="Variable feathers.feed.Story.TitleTemplate=feathers.feed.Story-class.html#TitleTemplate,Variable feathers.stories.Story.TitleTemplate=feathers.stories.Story-class.html#TitleTemplate,Variable wrook.StoryMemberPostMessageToABook.TitleTemplate=wrook.StoryMemberPostMessageToABook-class.html#TitleTemplate,Variable wrook.StoryMemberStartReadingBook.TitleTemplate=wrook.StoryMemberStartReadingBook-class.html#TitleTemplate,Variable wrook.StorySiteCacheIsFlushed.TitleTemplate=wrook.StorySiteCacheIsFlushed-class.html#TitleTemplate"><a title="feathers.feed.Story.TitleTemplate
feathers.stories.Story.TitleTemplate
wrook.StoryMemberPostMessageToABook.TitleTemplate
wrook.StoryMemberStartReadingBook.TitleTemplate
wrook.StorySiteCacheIsFlushed.TitleTemplate" class="py-name" href="#" onclick="return doclink('link-996', 'TitleTemplate', 'link-996');">TitleTemplate</a></tt> <tt class="py-op">=</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">'&lt;a href="/Members/$MemberKey"&gt;$MemberFullname&lt;/a&gt; started reading &lt;a href="/Books/$BookKey"&gt;$BookTitle&lt;/a&gt;'</tt><tt class="py-op">)</tt> </tt>
<a name="L1528"></a><tt class="py-lineno">1528</tt>  <tt class="py-line">        <tt id="link-997" class="py-name" targets="Variable feathers.feed.Story.BodyTemplate=feathers.feed.Story-class.html#BodyTemplate,Variable feathers.stories.Story.BodyTemplate=feathers.stories.Story-class.html#BodyTemplate,Variable wrook.StoryMemberPostMessageToABook.BodyTemplate=wrook.StoryMemberPostMessageToABook-class.html#BodyTemplate,Variable wrook.StoryMemberStartReadingBook.BodyTemplate=wrook.StoryMemberStartReadingBook-class.html#BodyTemplate,Variable wrook.StorySiteCacheIsFlushed.BodyTemplate=wrook.StorySiteCacheIsFlushed-class.html#BodyTemplate"><a title="feathers.feed.Story.BodyTemplate
feathers.stories.Story.BodyTemplate
wrook.StoryMemberPostMessageToABook.BodyTemplate
wrook.StoryMemberStartReadingBook.BodyTemplate
wrook.StorySiteCacheIsFlushed.BodyTemplate" class="py-name" href="#" onclick="return doclink('link-997', 'BodyTemplate', 'link-997');">BodyTemplate</a></tt> <tt class="py-op">=</tt> <tt class="py-string">""</tt> </tt>
<a name="L1529"></a><tt class="py-lineno">1529</tt>  <tt class="py-line">        <tt id="link-998" class="py-name" targets="Variable feathers.feed.Story.Icon=feathers.feed.Story-class.html#Icon,Variable feathers.feed.StoryOccurence.Icon=feathers.feed.StoryOccurence-class.html#Icon,Variable feathers.feed.StoryPost.Icon=feathers.feed.StoryPost-class.html#Icon,Variable feathers.stories.Story.Icon=feathers.stories.Story-class.html#Icon,Variable feathers.stories.StoryOccurence.Icon=feathers.stories.StoryOccurence-class.html#Icon,Variable feathers.stories.StoryPost.Icon=feathers.stories.StoryPost-class.html#Icon,Variable wrook.StoryMemberPostMessageToABook.Icon=wrook.StoryMemberPostMessageToABook-class.html#Icon,Variable wrook.StoryMemberStartReadingBook.Icon=wrook.StoryMemberStartReadingBook-class.html#Icon,Variable wrook.StorySiteCacheIsFlushed.Icon=wrook.StorySiteCacheIsFlushed-class.html#Icon"><a title="feathers.feed.Story.Icon
feathers.feed.StoryOccurence.Icon
feathers.feed.StoryPost.Icon
feathers.stories.Story.Icon
feathers.stories.StoryOccurence.Icon
feathers.stories.StoryPost.Icon
wrook.StoryMemberPostMessageToABook.Icon
wrook.StoryMemberStartReadingBook.Icon
wrook.StorySiteCacheIsFlushed.Icon" class="py-name" href="#" onclick="return doclink('link-998', 'Icon', 'link-998');">Icon</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"book-open.png"</tt> </tt>
<a name="L1530"></a><tt class="py-lineno">1530</tt>  <tt class="py-line"> </tt>
<a name="StoryMemberStartReadingBook.getTitle"></a><div id="StoryMemberStartReadingBook.getTitle-def"><a name="L1531"></a><tt class="py-lineno">1531</tt> <a class="py-toggle" href="#" id="StoryMemberStartReadingBook.getTitle-toggle" onclick="return toggle('StoryMemberStartReadingBook.getTitle');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.StoryMemberStartReadingBook-class.html#getTitle">getTitle</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">params</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="StoryMemberStartReadingBook.getTitle-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="StoryMemberStartReadingBook.getTitle-expanded"><a name="L1532"></a><tt class="py-lineno">1532</tt>  <tt class="py-line">                <tt class="py-name">member</tt> <tt class="py-op">=</tt> <tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-string">"member"</tt><tt class="py-op">]</tt> </tt>
<a name="L1533"></a><tt class="py-lineno">1533</tt>  <tt class="py-line">                <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-string">"book"</tt><tt class="py-op">]</tt> </tt>
<a name="L1534"></a><tt class="py-lineno">1534</tt>  <tt class="py-line">                <tt class="py-name">data</tt> <tt class="py-op">=</tt> <tt class="py-op">{</tt> </tt>
<a name="L1535"></a><tt class="py-lineno">1535</tt>  <tt class="py-line">                        <tt class="py-string">"MemberFullname"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-999" class="py-name"><a title="feathers.membership.Member.fullname" class="py-name" href="#" onclick="return doclink('link-999', 'fullname', 'link-75');">fullname</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1536"></a><tt class="py-lineno">1536</tt>  <tt class="py-line">                        <tt class="py-string">"MemberKey"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1537"></a><tt class="py-lineno">1537</tt>  <tt class="py-line">                        <tt class="py-string">"BookTitle"</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-1000" class="py-name"><a title="feathers.customize.Theme.Title
feathers.feed.StoryOccurence.Title
feathers.feed.StoryPost.Title
feathers.labs.Feature.Title
feathers.stories.StoryOccurence.Title
feathers.stories.StoryPost.Title
feathers.talk.Topic.Title
licensing.LicenseType.Title
wrook.Book.Title
wrook.Chapter.Title
wrook.Command.Title
wrook.Moment.Title" class="py-name" href="#" onclick="return doclink('link-1000', 'Title', 'link-29');">Title</a></tt><tt class="py-op">,</tt> </tt>
<a name="L1538"></a><tt class="py-lineno">1538</tt>  <tt class="py-line">                        <tt class="py-string">"BookKey"</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1539"></a><tt class="py-lineno">1539</tt>  <tt class="py-line">                        <tt class="py-op">}</tt> </tt>
<a name="L1540"></a><tt class="py-lineno">1540</tt>  <tt class="py-line">                <tt class="py-name">template</tt> <tt class="py-op">=</tt> <tt id="link-1001" class="py-name"><a title="feathers.webapp.RequestHandler.Template" class="py-name" href="#" onclick="return doclink('link-1001', 'Template', 'link-0');">Template</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-1002" class="py-name"><a title="feathers.feed.Story.TitleTemplate
feathers.stories.Story.TitleTemplate
wrook.StoryMemberPostMessageToABook.TitleTemplate
wrook.StoryMemberStartReadingBook.TitleTemplate
wrook.StorySiteCacheIsFlushed.TitleTemplate" class="py-name" href="#" onclick="return doclink('link-1002', 'TitleTemplate', 'link-996');">TitleTemplate</a></tt><tt class="py-op">)</tt> </tt>
<a name="L1541"></a><tt class="py-lineno">1541</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">template</tt><tt class="py-op">.</tt><tt class="py-name">safe_substitute</tt><tt class="py-op">(</tt><tt class="py-name">data</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1542"></a><tt class="py-lineno">1542</tt>  <tt class="py-line"> </tt>
<a name="StoryMemberStartReadingBook.getTargets"></a><div id="StoryMemberStartReadingBook.getTargets-def"><a name="L1543"></a><tt class="py-lineno">1543</tt> <a class="py-toggle" href="#" id="StoryMemberStartReadingBook.getTargets-toggle" onclick="return toggle('StoryMemberStartReadingBook.getTargets');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.StoryMemberStartReadingBook-class.html#getTargets">getTargets</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">params</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> <tt class="py-comment">#Get the list of member who will receive the story posts</tt> </tt>
</div><a name="L1544"></a><tt class="py-lineno">1544</tt>  <tt class="py-line">                <tt class="py-name">targets</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L1545"></a><tt class="py-lineno">1545</tt>  <tt class="py-line">                <tt class="py-name">targets</tt><tt class="py-op">.</tt><tt class="py-name">append</tt><tt class="py-op">(</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-string">"book"</tt><tt class="py-op">]</tt><tt class="py-op">.</tt><tt id="link-1003" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-1003', 'Author', 'link-48');">Author</a></tt><tt class="py-op">)</tt> </tt>
<a name="L1546"></a><tt class="py-lineno">1546</tt>  <tt class="py-line">                <tt class="py-name">targets</tt><tt class="py-op">.</tt><tt class="py-name">append</tt><tt class="py-op">(</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-string">"member"</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L1547"></a><tt class="py-lineno">1547</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">targets</tt> </tt>
</div></div><a name="L1548"></a><tt class="py-lineno">1548</tt>  <tt class="py-line"> </tt>
<a name="StoryMemberPostMessageToABook"></a><div id="StoryMemberPostMessageToABook-def"><a name="L1549"></a><tt class="py-lineno">1549</tt> <a class="py-toggle" href="#" id="StoryMemberPostMessageToABook-toggle" onclick="return toggle('StoryMemberPostMessageToABook');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.StoryMemberPostMessageToABook-class.html">StoryMemberPostMessageToABook</a><tt class="py-op">(</tt><tt class="py-base-class">stories</tt><tt class="py-op">.</tt><tt class="py-base-class">Story</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="StoryMemberPostMessageToABook-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="StoryMemberPostMessageToABook-expanded"><a name="L1550"></a><tt class="py-lineno">1550</tt>  <tt class="py-line">        <tt id="link-1004" class="py-name"><a title="feathers.feed.Story.ID
feathers.stories.Story.ID
wrook.StoryMemberPostMessageToABook.ID
wrook.StoryMemberStartReadingBook.ID
wrook.StorySiteCacheIsFlushed.ID" class="py-name" href="#" onclick="return doclink('link-1004', 'ID', 'link-995');">ID</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"MemberPostMessageToABook"</tt> </tt>
<a name="L1551"></a><tt class="py-lineno">1551</tt>  <tt class="py-line">        <tt id="link-1005" class="py-name"><a title="feathers.feed.Story.TitleTemplate
feathers.stories.Story.TitleTemplate
wrook.StoryMemberPostMessageToABook.TitleTemplate
wrook.StoryMemberStartReadingBook.TitleTemplate
wrook.StorySiteCacheIsFlushed.TitleTemplate" class="py-name" href="#" onclick="return doclink('link-1005', 'TitleTemplate', 'link-996');">TitleTemplate</a></tt> <tt class="py-op">=</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">'&lt;a href="/Members/$MemberKey"&gt;$MemberFullname&lt;/a&gt; left a comment on &lt;a href="/Books/$BookKey"&gt;$BookTitle&lt;/a&gt;'</tt><tt class="py-op">)</tt> </tt>
<a name="L1552"></a><tt class="py-lineno">1552</tt>  <tt class="py-line">        <tt id="link-1006" class="py-name"><a title="feathers.feed.Story.BodyTemplate
feathers.stories.Story.BodyTemplate
wrook.StoryMemberPostMessageToABook.BodyTemplate
wrook.StoryMemberStartReadingBook.BodyTemplate
wrook.StorySiteCacheIsFlushed.BodyTemplate" class="py-name" href="#" onclick="return doclink('link-1006', 'BodyTemplate', 'link-997');">BodyTemplate</a></tt> <tt class="py-op">=</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">'''</tt> </tt>
<a name="L1553"></a><tt class="py-lineno">1553</tt>  <tt class="py-line"><tt class="py-string">&lt;a href="/Feedback/Book/$BookKey" style="float: right; margin-left: 15px;"&gt;</tt> </tt>
<a name="L1554"></a><tt class="py-lineno">1554</tt>  <tt class="py-line"><tt class="py-string">        &lt;img width="45" src="$CoverImage"/&gt;</tt> </tt>
<a name="L1555"></a><tt class="py-lineno">1555</tt>  <tt class="py-line"><tt class="py-string">&lt;/a&gt;</tt> </tt>
<a name="L1556"></a><tt class="py-lineno">1556</tt>  <tt class="py-line"><tt class="py-string">&lt;a href="/Members/$MemberKey" style="float: left; margin-right: 15px;"&gt;</tt> </tt>
<a name="L1557"></a><tt class="py-lineno">1557</tt>  <tt class="py-line"><tt class="py-string">        &lt;img width="30" src="$MemberAvatar"/&gt;</tt> </tt>
<a name="L1558"></a><tt class="py-lineno">1558</tt>  <tt class="py-line"><tt class="py-string">&lt;/a&gt;</tt> </tt>
<a name="L1559"></a><tt class="py-lineno">1559</tt>  <tt class="py-line"><tt class="py-string">&lt;strong&gt;&lt;a href="/Feedback/Book/$BookKey"&gt;The message&lt;/a&gt; said: $MessageTitle &lt;/strong&gt;&lt;br /&gt;"&amp;#160;$MessageBody&amp;#160;"</tt> </tt>
<a name="L1560"></a><tt class="py-lineno">1560</tt>  <tt class="py-line"><tt class="py-string">'''</tt><tt class="py-op">)</tt> </tt>
<a name="L1561"></a><tt class="py-lineno">1561</tt>  <tt class="py-line">        <tt id="link-1007" class="py-name"><a title="feathers.feed.Story.Icon
feathers.feed.StoryOccurence.Icon
feathers.feed.StoryPost.Icon
feathers.stories.Story.Icon
feathers.stories.StoryOccurence.Icon
feathers.stories.StoryPost.Icon
wrook.StoryMemberPostMessageToABook.Icon
wrook.StoryMemberStartReadingBook.Icon
wrook.StorySiteCacheIsFlushed.Icon" class="py-name" href="#" onclick="return doclink('link-1007', 'Icon', 'link-998');">Icon</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"comment.png"</tt> </tt>
<a name="L1562"></a><tt class="py-lineno">1562</tt>  <tt class="py-line"> </tt>
<a name="StoryMemberPostMessageToABook.getTitle"></a><div id="StoryMemberPostMessageToABook.getTitle-def"><a name="L1563"></a><tt class="py-lineno">1563</tt> <a class="py-toggle" href="#" id="StoryMemberPostMessageToABook.getTitle-toggle" onclick="return toggle('StoryMemberPostMessageToABook.getTitle');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.StoryMemberPostMessageToABook-class.html#getTitle">getTitle</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">params</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="StoryMemberPostMessageToABook.getTitle-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="StoryMemberPostMessageToABook.getTitle-expanded"><a name="L1564"></a><tt class="py-lineno">1564</tt>  <tt class="py-line">                <tt class="py-name">member</tt> <tt class="py-op">=</tt> <tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-string">"member"</tt><tt class="py-op">]</tt> </tt>
<a name="L1565"></a><tt class="py-lineno">1565</tt>  <tt class="py-line">                <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-string">"book"</tt><tt class="py-op">]</tt> </tt>
<a name="L1566"></a><tt class="py-lineno">1566</tt>  <tt class="py-line">                <tt class="py-name">data</tt> <tt class="py-op">=</tt> <tt class="py-op">{</tt> </tt>
<a name="L1567"></a><tt class="py-lineno">1567</tt>  <tt class="py-line">                        <tt class="py-string">"MemberFullname"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-1008" class="py-name"><a title="feathers.membership.Member.fullname" class="py-name" href="#" onclick="return doclink('link-1008', 'fullname', 'link-75');">fullname</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1568"></a><tt class="py-lineno">1568</tt>  <tt class="py-line">                        <tt class="py-string">"MemberKey"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1569"></a><tt class="py-lineno">1569</tt>  <tt class="py-line">                        <tt class="py-string">"BookTitle"</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-1009" class="py-name"><a title="feathers.customize.Theme.Title
feathers.feed.StoryOccurence.Title
feathers.feed.StoryPost.Title
feathers.labs.Feature.Title
feathers.stories.StoryOccurence.Title
feathers.stories.StoryPost.Title
feathers.talk.Topic.Title
licensing.LicenseType.Title
wrook.Book.Title
wrook.Chapter.Title
wrook.Command.Title
wrook.Moment.Title" class="py-name" href="#" onclick="return doclink('link-1009', 'Title', 'link-29');">Title</a></tt><tt class="py-op">,</tt> </tt>
<a name="L1570"></a><tt class="py-lineno">1570</tt>  <tt class="py-line">                        <tt class="py-string">"BookKey"</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1571"></a><tt class="py-lineno">1571</tt>  <tt class="py-line">                        <tt class="py-op">}</tt> </tt>
<a name="L1572"></a><tt class="py-lineno">1572</tt>  <tt class="py-line">                <tt class="py-name">template</tt> <tt class="py-op">=</tt> <tt id="link-1010" class="py-name"><a title="feathers.webapp.RequestHandler.Template" class="py-name" href="#" onclick="return doclink('link-1010', 'Template', 'link-0');">Template</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-1011" class="py-name"><a title="feathers.feed.Story.TitleTemplate
feathers.stories.Story.TitleTemplate
wrook.StoryMemberPostMessageToABook.TitleTemplate
wrook.StoryMemberStartReadingBook.TitleTemplate
wrook.StorySiteCacheIsFlushed.TitleTemplate" class="py-name" href="#" onclick="return doclink('link-1011', 'TitleTemplate', 'link-996');">TitleTemplate</a></tt><tt class="py-op">)</tt> </tt>
<a name="L1573"></a><tt class="py-lineno">1573</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">template</tt><tt class="py-op">.</tt><tt class="py-name">safe_substitute</tt><tt class="py-op">(</tt><tt class="py-name">data</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1574"></a><tt class="py-lineno">1574</tt>  <tt class="py-line"> </tt>
<a name="StoryMemberPostMessageToABook.getBody"></a><div id="StoryMemberPostMessageToABook.getBody-def"><a name="L1575"></a><tt class="py-lineno">1575</tt> <a class="py-toggle" href="#" id="StoryMemberPostMessageToABook.getBody-toggle" onclick="return toggle('StoryMemberPostMessageToABook.getBody');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.StoryMemberPostMessageToABook-class.html#getBody">getBody</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">params</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="StoryMemberPostMessageToABook.getBody-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="StoryMemberPostMessageToABook.getBody-expanded"><a name="L1576"></a><tt class="py-lineno">1576</tt>  <tt class="py-line">                <tt class="py-name">member</tt> <tt class="py-op">=</tt> <tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-string">"member"</tt><tt class="py-op">]</tt> </tt>
<a name="L1577"></a><tt class="py-lineno">1577</tt>  <tt class="py-line">                <tt class="py-name">message</tt> <tt class="py-op">=</tt> <tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-string">"message"</tt><tt class="py-op">]</tt> </tt>
<a name="L1578"></a><tt class="py-lineno">1578</tt>  <tt class="py-line">                <tt class="py-name">book</tt> <tt class="py-op">=</tt> <tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-string">"book"</tt><tt class="py-op">]</tt> </tt>
<a name="L1579"></a><tt class="py-lineno">1579</tt>  <tt class="py-line">                <tt class="py-name">data</tt> <tt class="py-op">=</tt> <tt class="py-op">{</tt> </tt>
<a name="L1580"></a><tt class="py-lineno">1580</tt>  <tt class="py-line">                        <tt class="py-string">"MemberFullname"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-1012" class="py-name"><a title="feathers.membership.Member.fullname" class="py-name" href="#" onclick="return doclink('link-1012', 'fullname', 'link-75');">fullname</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1581"></a><tt class="py-lineno">1581</tt>  <tt class="py-line">                        <tt class="py-string">"MemberAvatar"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-1013" class="py-name" targets="Method feathers.membership.Member.gravatar30()=feathers.membership.Member-class.html#gravatar30"><a title="feathers.membership.Member.gravatar30" class="py-name" href="#" onclick="return doclink('link-1013', 'gravatar30', 'link-1013');">gravatar30</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1582"></a><tt class="py-lineno">1582</tt>  <tt class="py-line">                        <tt class="py-string">"MemberKey"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1583"></a><tt class="py-lineno">1583</tt>  <tt class="py-line">                        <tt class="py-string">"BookTitle"</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-1014" class="py-name"><a title="feathers.customize.Theme.Title
feathers.feed.StoryOccurence.Title
feathers.feed.StoryPost.Title
feathers.labs.Feature.Title
feathers.stories.StoryOccurence.Title
feathers.stories.StoryPost.Title
feathers.talk.Topic.Title
licensing.LicenseType.Title
wrook.Book.Title
wrook.Chapter.Title
wrook.Command.Title
wrook.Moment.Title" class="py-name" href="#" onclick="return doclink('link-1014', 'Title', 'link-29');">Title</a></tt><tt class="py-op">,</tt> </tt>
<a name="L1584"></a><tt class="py-lineno">1584</tt>  <tt class="py-line">                        <tt class="py-string">"BookKey"</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1585"></a><tt class="py-lineno">1585</tt>  <tt class="py-line">                        <tt class="py-string">"CoverImage"</tt><tt class="py-op">:</tt> <tt class="py-name">book</tt><tt class="py-op">.</tt><tt id="link-1015" class="py-name" targets="Method wrook.Book.getCover()=wrook.Book-class.html#getCover"><a title="wrook.Book.getCover" class="py-name" href="#" onclick="return doclink('link-1015', 'getCover', 'link-1015');">getCover</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt id="link-1016" class="py-name" targets="Method wrook.Cover.thumbURL45()=wrook.Cover-class.html#thumbURL45"><a title="wrook.Cover.thumbURL45" class="py-name" href="#" onclick="return doclink('link-1016', 'thumbURL45', 'link-1016');">thumbURL45</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1586"></a><tt class="py-lineno">1586</tt>  <tt class="py-line">                        <tt class="py-string">"MessageTitle"</tt><tt class="py-op">:</tt> <tt class="py-name">message</tt><tt class="py-op">.</tt><tt id="link-1017" class="py-name"><a title="feathers.stories.StoryPost.Topic
feathers.talk.Reply.Topic
feathers.talk.Topic
wrook.Message.Topic" class="py-name" href="#" onclick="return doclink('link-1017', 'Topic', 'link-184');">Topic</a></tt><tt class="py-op">,</tt> </tt>
<a name="L1587"></a><tt class="py-lineno">1587</tt>  <tt class="py-line">                        <tt class="py-string">"MessageBody"</tt><tt class="py-op">:</tt> <tt class="py-name">message</tt><tt class="py-op">.</tt><tt id="link-1018" class="py-name"><a title="wrook.Message.Text
wrook.Revision.Text" class="py-name" href="#" onclick="return doclink('link-1018', 'Text', 'link-107');">Text</a></tt> </tt>
<a name="L1588"></a><tt class="py-lineno">1588</tt>  <tt class="py-line">                        <tt class="py-op">}</tt> </tt>
<a name="L1589"></a><tt class="py-lineno">1589</tt>  <tt class="py-line">                <tt class="py-name">template</tt> <tt class="py-op">=</tt> <tt id="link-1019" class="py-name"><a title="feathers.webapp.RequestHandler.Template" class="py-name" href="#" onclick="return doclink('link-1019', 'Template', 'link-0');">Template</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-1020" class="py-name"><a title="feathers.feed.Story.BodyTemplate
feathers.stories.Story.BodyTemplate
wrook.StoryMemberPostMessageToABook.BodyTemplate
wrook.StoryMemberStartReadingBook.BodyTemplate
wrook.StorySiteCacheIsFlushed.BodyTemplate" class="py-name" href="#" onclick="return doclink('link-1020', 'BodyTemplate', 'link-997');">BodyTemplate</a></tt><tt class="py-op">)</tt> </tt>
<a name="L1590"></a><tt class="py-lineno">1590</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">template</tt><tt class="py-op">.</tt><tt class="py-name">safe_substitute</tt><tt class="py-op">(</tt><tt class="py-name">data</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1591"></a><tt class="py-lineno">1591</tt>  <tt class="py-line"> </tt>
<a name="StoryMemberPostMessageToABook.getTargets"></a><div id="StoryMemberPostMessageToABook.getTargets-def"><a name="L1592"></a><tt class="py-lineno">1592</tt> <a class="py-toggle" href="#" id="StoryMemberPostMessageToABook.getTargets-toggle" onclick="return toggle('StoryMemberPostMessageToABook.getTargets');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.StoryMemberPostMessageToABook-class.html#getTargets">getTargets</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">params</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> <tt class="py-comment">#Get the list of member who will receive the story posts</tt> </tt>
</div><a name="L1593"></a><tt class="py-lineno">1593</tt>  <tt class="py-line">                <tt class="py-name">targets</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L1594"></a><tt class="py-lineno">1594</tt>  <tt class="py-line">                <tt class="py-name">targets</tt><tt class="py-op">.</tt><tt class="py-name">append</tt><tt class="py-op">(</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-string">"book"</tt><tt class="py-op">]</tt><tt class="py-op">.</tt><tt id="link-1021" class="py-name"><a title="wrook.Book.Author
wrook.Bookmark.Author
wrook.Message.Author" class="py-name" href="#" onclick="return doclink('link-1021', 'Author', 'link-48');">Author</a></tt><tt class="py-op">)</tt> </tt>
<a name="L1595"></a><tt class="py-lineno">1595</tt>  <tt class="py-line">                <tt class="py-name">targets</tt><tt class="py-op">.</tt><tt class="py-name">append</tt><tt class="py-op">(</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-string">"member"</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L1596"></a><tt class="py-lineno">1596</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">targets</tt> </tt>
</div></div><a name="L1597"></a><tt class="py-lineno">1597</tt>  <tt class="py-line"> </tt>
<a name="L1598"></a><tt class="py-lineno">1598</tt>  <tt class="py-line"><tt class="py-comment"># This story warns all admins that the site cache has been flushed</tt> </tt>
<a name="StorySiteCacheIsFlushed"></a><div id="StorySiteCacheIsFlushed-def"><a name="L1599"></a><tt class="py-lineno">1599</tt> <a class="py-toggle" href="#" id="StorySiteCacheIsFlushed-toggle" onclick="return toggle('StorySiteCacheIsFlushed');">-</a><tt class="py-line"><tt class="py-comment"></tt><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.StorySiteCacheIsFlushed-class.html">StorySiteCacheIsFlushed</a><tt class="py-op">(</tt><tt class="py-base-class">stories</tt><tt class="py-op">.</tt><tt class="py-base-class">Story</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="StorySiteCacheIsFlushed-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="StorySiteCacheIsFlushed-expanded"><a name="L1600"></a><tt class="py-lineno">1600</tt>  <tt class="py-line">        <tt id="link-1022" class="py-name"><a title="feathers.feed.Story.ID
feathers.stories.Story.ID
wrook.StoryMemberPostMessageToABook.ID
wrook.StoryMemberStartReadingBook.ID
wrook.StorySiteCacheIsFlushed.ID" class="py-name" href="#" onclick="return doclink('link-1022', 'ID', 'link-995');">ID</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"SiteCacheIsFlushed"</tt> </tt>
<a name="L1601"></a><tt class="py-lineno">1601</tt>  <tt class="py-line">        <tt id="link-1023" class="py-name"><a title="feathers.feed.Story.TitleTemplate
feathers.stories.Story.TitleTemplate
wrook.StoryMemberPostMessageToABook.TitleTemplate
wrook.StoryMemberStartReadingBook.TitleTemplate
wrook.StorySiteCacheIsFlushed.TitleTemplate" class="py-name" href="#" onclick="return doclink('link-1023', 'TitleTemplate', 'link-996');">TitleTemplate</a></tt> <tt class="py-op">=</tt> <tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">'&lt;a href="/Members/$MemberKey"&gt;$MemberFullname&lt;/a&gt; has flushed the site cache'</tt><tt class="py-op">)</tt> </tt>
<a name="L1602"></a><tt class="py-lineno">1602</tt>  <tt class="py-line">        <tt id="link-1024" class="py-name"><a title="feathers.feed.Story.BodyTemplate
feathers.stories.Story.BodyTemplate
wrook.StoryMemberPostMessageToABook.BodyTemplate
wrook.StoryMemberStartReadingBook.BodyTemplate
wrook.StorySiteCacheIsFlushed.BodyTemplate" class="py-name" href="#" onclick="return doclink('link-1024', 'BodyTemplate', 'link-997');">BodyTemplate</a></tt> <tt class="py-op">=</tt> <tt class="py-string">""</tt> </tt>
<a name="L1603"></a><tt class="py-lineno">1603</tt>  <tt class="py-line">        <tt id="link-1025" class="py-name"><a title="feathers.feed.Story.Icon
feathers.feed.StoryOccurence.Icon
feathers.feed.StoryPost.Icon
feathers.stories.Story.Icon
feathers.stories.StoryOccurence.Icon
feathers.stories.StoryPost.Icon
wrook.StoryMemberPostMessageToABook.Icon
wrook.StoryMemberStartReadingBook.Icon
wrook.StorySiteCacheIsFlushed.Icon" class="py-name" href="#" onclick="return doclink('link-1025', 'Icon', 'link-998');">Icon</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"flush.png"</tt> </tt>
<a name="L1604"></a><tt class="py-lineno">1604</tt>  <tt class="py-line"> </tt>
<a name="StorySiteCacheIsFlushed.getTitle"></a><div id="StorySiteCacheIsFlushed.getTitle-def"><a name="L1605"></a><tt class="py-lineno">1605</tt> <a class="py-toggle" href="#" id="StorySiteCacheIsFlushed.getTitle-toggle" onclick="return toggle('StorySiteCacheIsFlushed.getTitle');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.StorySiteCacheIsFlushed-class.html#getTitle">getTitle</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">params</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="StorySiteCacheIsFlushed.getTitle-collapsed" style="display:none;" pad="++++" indent="++++++++++++"></div><div id="StorySiteCacheIsFlushed.getTitle-expanded"><a name="L1606"></a><tt class="py-lineno">1606</tt>  <tt class="py-line">                <tt class="py-name">member</tt> <tt class="py-op">=</tt> <tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-string">"member"</tt><tt class="py-op">]</tt> </tt>
<a name="L1607"></a><tt class="py-lineno">1607</tt>  <tt class="py-line">                <tt class="py-name">data</tt> <tt class="py-op">=</tt> <tt class="py-op">{</tt> </tt>
<a name="L1608"></a><tt class="py-lineno">1608</tt>  <tt class="py-line">                        <tt class="py-string">"MemberFullname"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt id="link-1026" class="py-name"><a title="feathers.membership.Member.fullname" class="py-name" href="#" onclick="return doclink('link-1026', 'fullname', 'link-75');">fullname</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1609"></a><tt class="py-lineno">1609</tt>  <tt class="py-line">                        <tt class="py-string">"MemberKey"</tt><tt class="py-op">:</tt> <tt class="py-name">member</tt><tt class="py-op">.</tt><tt class="py-name">key</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1610"></a><tt class="py-lineno">1610</tt>  <tt class="py-line">                        <tt class="py-op">}</tt> </tt>
<a name="L1611"></a><tt class="py-lineno">1611</tt>  <tt class="py-line">                <tt class="py-name">template</tt> <tt class="py-op">=</tt> <tt id="link-1027" class="py-name"><a title="feathers.webapp.RequestHandler.Template" class="py-name" href="#" onclick="return doclink('link-1027', 'Template', 'link-0');">Template</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-1028" class="py-name"><a title="feathers.feed.Story.TitleTemplate
feathers.stories.Story.TitleTemplate
wrook.StoryMemberPostMessageToABook.TitleTemplate
wrook.StoryMemberStartReadingBook.TitleTemplate
wrook.StorySiteCacheIsFlushed.TitleTemplate" class="py-name" href="#" onclick="return doclink('link-1028', 'TitleTemplate', 'link-996');">TitleTemplate</a></tt><tt class="py-op">)</tt> </tt>
<a name="L1612"></a><tt class="py-lineno">1612</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt class="py-name">template</tt><tt class="py-op">.</tt><tt class="py-name">safe_substitute</tt><tt class="py-op">(</tt><tt class="py-name">data</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1613"></a><tt class="py-lineno">1613</tt>  <tt class="py-line"> </tt>
<a name="StorySiteCacheIsFlushed.getTargets"></a><div id="StorySiteCacheIsFlushed.getTargets-def"><a name="L1614"></a><tt class="py-lineno">1614</tt> <a class="py-toggle" href="#" id="StorySiteCacheIsFlushed.getTargets-toggle" onclick="return toggle('StorySiteCacheIsFlushed.getTargets');">-</a><tt class="py-line">        <tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook.StorySiteCacheIsFlushed-class.html#getTargets">getTargets</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">params</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> <tt class="py-comment">#Get the list of member who will receive the story posts</tt> </tt>
</div><a name="L1615"></a><tt class="py-lineno">1615</tt>  <tt class="py-line">                <tt class="py-keyword">return</tt> <tt id="link-1029" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-1029', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-1030" class="py-name"><a title="feathers.customize.ThemeMemberSelection.Member
feathers.feed.StoryPost.Member
feathers.labs.Vote.Member
feathers.membership.Member
feathers.stories.StoryPost.Member" class="py-name" href="#" onclick="return doclink('link-1030', 'Member', 'link-44');">Member</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">filter</tt><tt class="py-op">(</tt><tt class="py-string">"isAdmin ="</tt><tt class="py-op">,</tt> <tt class="py-name">True</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">999</tt><tt class="py-op">)</tt> </tt>
</div></div><a name="L1616"></a><tt class="py-lineno">1616</tt>  <tt class="py-line">                 </tt>
<a name="L1617"></a><tt class="py-lineno">1617</tt>  <tt class="py-line"> </tt>
<a name="L1618"></a><tt class="py-lineno">1618</tt>  <tt class="py-line"> </tt>
<a name="L1619"></a><tt class="py-lineno">1619</tt>  <tt class="py-line"> </tt>
<a name="L1620"></a><tt class="py-lineno">1620</tt>  <tt class="py-line"><tt class="py-comment">#============================================================================</tt> </tt>
<a name="L1621"></a><tt class="py-lineno">1621</tt>  <tt class="py-line"><tt class="py-comment"></tt> </tt>
<a name="L1622"></a><tt class="py-lineno">1622</tt>  <tt class="py-line"><tt id="link-1031" class="py-name" targets="Function feathers.customize.URLMappings()=feathers.customize-module.html#URLMappings,Function feathers.labs.URLMappings()=feathers.labs-module.html#URLMappings,Function feathers.membership.URLMappings()=feathers.membership-module.html#URLMappings,Function feathers.proforma.URLMappings()=feathers.proforma-module.html#URLMappings,Function feathers.stories.URLMappings()=feathers.stories-module.html#URLMappings,Function feathers.talk.URLMappings()=feathers.talk-module.html#URLMappings,Variable wrook.URLMappings=wrook-module.html#URLMappings"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1031', 'URLMappings', 'link-1031');">URLMappings</a></tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt> </tt>
<a name="L1623"></a><tt class="py-lineno">1623</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/'</tt><tt class="py-op">,</tt> <tt id="link-1032" class="py-name" targets="Class wrook.Home=wrook.Home-class.html"><a title="wrook.Home" class="py-name" href="#" onclick="return doclink('link-1032', 'Home', 'link-1032');">Home</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1624"></a><tt class="py-lineno">1624</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/NewChapter/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1033" class="py-name" targets="Class wrook.NewChapter=wrook.NewChapter-class.html"><a title="wrook.NewChapter" class="py-name" href="#" onclick="return doclink('link-1033', 'NewChapter', 'link-1033');">NewChapter</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1625"></a><tt class="py-lineno">1625</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/ViewChapter/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1034" class="py-name" targets="Class wrook.ViewChapter=wrook.ViewChapter-class.html"><a title="wrook.ViewChapter" class="py-name" href="#" onclick="return doclink('link-1034', 'ViewChapter', 'link-1034');">ViewChapter</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1626"></a><tt class="py-lineno">1626</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Chapter/Delete/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1035" class="py-name" targets="Class wrook.DeleteChapter=wrook.DeleteChapter-class.html"><a title="wrook.DeleteChapter" class="py-name" href="#" onclick="return doclink('link-1035', 'DeleteChapter', 'link-1035');">DeleteChapter</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1627"></a><tt class="py-lineno">1627</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/EditChapter/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1036" class="py-name" targets="Class wrook.EditChapterOptions=wrook.EditChapterOptions-class.html"><a title="wrook.EditChapterOptions" class="py-name" href="#" onclick="return doclink('link-1036', 'EditChapterOptions', 'link-1036');">EditChapterOptions</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1628"></a><tt class="py-lineno">1628</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Typewriter/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1037" class="py-name" targets="Class wrook.Typewriter=wrook.Typewriter-class.html"><a title="wrook.Typewriter" class="py-name" href="#" onclick="return doclink('link-1037', 'Typewriter', 'link-1037');">Typewriter</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1629"></a><tt class="py-lineno">1629</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Feedback/Book/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1038" class="py-name" targets="Class wrook.FeedbackBook=wrook.FeedbackBook-class.html"><a title="wrook.FeedbackBook" class="py-name" href="#" onclick="return doclink('link-1038', 'FeedbackBook', 'link-1038');">FeedbackBook</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1630"></a><tt class="py-lineno">1630</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Feedback/Delete/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1039" class="py-name" targets="Class wrook.DeleteMessage=wrook.DeleteMessage-class.html"><a title="wrook.DeleteMessage" class="py-name" href="#" onclick="return doclink('link-1039', 'DeleteMessage', 'link-1039');">DeleteMessage</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1631"></a><tt class="py-lineno">1631</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/PostMessage'</tt><tt class="py-op">,</tt> <tt id="link-1040" class="py-name" targets="Class wrook.PostMessage=wrook.PostMessage-class.html"><a title="wrook.PostMessage" class="py-name" href="#" onclick="return doclink('link-1040', 'PostMessage', 'link-1040');">PostMessage</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1632"></a><tt class="py-lineno">1632</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Join/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1041" class="py-name" targets="Class wrook.Join=wrook.Join-class.html"><a title="wrook.Join" class="py-name" href="#" onclick="return doclink('link-1041', 'Join', 'link-1041');">Join</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-comment">#Refactor: Should this be moved in the membership module?</tt> </tt>
<a name="L1633"></a><tt class="py-lineno">1633</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/EditAccount'</tt><tt class="py-op">,</tt> <tt id="link-1042" class="py-name" targets="Class wrook.EditAccount=wrook.EditAccount-class.html"><a title="wrook.EditAccount" class="py-name" href="#" onclick="return doclink('link-1042', 'EditAccount', 'link-1042');">EditAccount</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-comment">#Refactor: Should this be moved in part in the membership module?</tt> </tt>
<a name="L1634"></a><tt class="py-lineno">1634</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Account/View'</tt><tt class="py-op">,</tt> <tt id="link-1043" class="py-name" targets="Class wrook.AccountView=wrook.AccountView-class.html"><a title="wrook.AccountView" class="py-name" href="#" onclick="return doclink('link-1043', 'AccountView', 'link-1043');">AccountView</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1635"></a><tt class="py-lineno">1635</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Account/ChangeProfilePhoto'</tt><tt class="py-op">,</tt> <tt id="link-1044" class="py-name" targets="Class wrook.AccountChangeProfilePhoto=wrook.AccountChangeProfilePhoto-class.html"><a title="wrook.AccountChangeProfilePhoto" class="py-name" href="#" onclick="return doclink('link-1044', 'AccountChangeProfilePhoto', 'link-1044');">AccountChangeProfilePhoto</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1636"></a><tt class="py-lineno">1636</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Account/ChangePassword'</tt><tt class="py-op">,</tt> <tt id="link-1045" class="py-name" targets="Class wrook.AccountChangePassword=wrook.AccountChangePassword-class.html"><a title="wrook.AccountChangePassword" class="py-name" href="#" onclick="return doclink('link-1045', 'AccountChangePassword', 'link-1045');">AccountChangePassword</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1637"></a><tt class="py-lineno">1637</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Books'</tt><tt class="py-op">,</tt> <tt id="link-1046" class="py-name"><a title="feathers.membership.Member.Books
licensing.LicenseType.Books
wrook.Books
wrook.Cover.Books" class="py-name" href="#" onclick="return doclink('link-1046', 'Books', 'link-242');">Books</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1638"></a><tt class="py-lineno">1638</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Books/'</tt><tt class="py-op">,</tt> <tt id="link-1047" class="py-name"><a title="feathers.membership.Member.Books
licensing.LicenseType.Books
wrook.Books
wrook.Cover.Books" class="py-name" href="#" onclick="return doclink('link-1047', 'Books', 'link-242');">Books</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1639"></a><tt class="py-lineno">1639</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Books/Edit/License/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1048" class="py-name" targets="Class wrook.Books_Edit_License=wrook.Books_Edit_License-class.html"><a title="wrook.Books_Edit_License" class="py-name" href="#" onclick="return doclink('link-1048', 'Books_Edit_License', 'link-1048');">Books_Edit_License</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1640"></a><tt class="py-lineno">1640</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Books/Edit/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1049" class="py-name" targets="Class wrook.Books_Edit=wrook.Books_Edit-class.html"><a title="wrook.Books_Edit" class="py-name" href="#" onclick="return doclink('link-1049', 'Books_Edit', 'link-1049');">Books_Edit</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1641"></a><tt class="py-lineno">1641</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Books/SetCover/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1050" class="py-name" targets="Class wrook.BookSetCover=wrook.BookSetCover-class.html"><a title="wrook.BookSetCover" class="py-name" href="#" onclick="return doclink('link-1050', 'BookSetCover', 'link-1050');">BookSetCover</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1642"></a><tt class="py-lineno">1642</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Books/ReorderChapters/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1051" class="py-name" targets="Class wrook.Book_ReorderChapters=wrook.Book_ReorderChapters-class.html"><a title="wrook.Book_ReorderChapters" class="py-name" href="#" onclick="return doclink('link-1051', 'Book_ReorderChapters', 'link-1051');">Book_ReorderChapters</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1643"></a><tt class="py-lineno">1643</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Books/Delete/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1052" class="py-name" targets="Class wrook.DeleteBook=wrook.DeleteBook-class.html"><a title="wrook.DeleteBook" class="py-name" href="#" onclick="return doclink('link-1052', 'DeleteBook', 'link-1052');">DeleteBook</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1644"></a><tt class="py-lineno">1644</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Books/Chapters/(.*)/Rev/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1053" class="py-name" targets="Class wrook.Revisions_View=wrook.Revisions_View-class.html"><a title="wrook.Revisions_View" class="py-name" href="#" onclick="return doclink('link-1053', 'Revisions_View', 'link-1053');">Revisions_View</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1645"></a><tt class="py-lineno">1645</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Books/Chapters/(.*)/Rev'</tt><tt class="py-op">,</tt> <tt id="link-1054" class="py-name" targets="Class wrook.Revisions_List=wrook.Revisions_List-class.html"><a title="wrook.Revisions_List" class="py-name" href="#" onclick="return doclink('link-1054', 'Revisions_List', 'link-1054');">Revisions_List</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1646"></a><tt class="py-lineno">1646</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Books/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1055" class="py-name" targets="Class wrook.ViewBook=wrook.ViewBook-class.html"><a title="wrook.ViewBook" class="py-name" href="#" onclick="return doclink('link-1055', 'ViewBook', 'link-1055');">ViewBook</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1647"></a><tt class="py-lineno">1647</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Members'</tt><tt class="py-op">,</tt> <tt id="link-1056" class="py-name" targets="Class wrook.Members=wrook.Members-class.html"><a title="wrook.Members" class="py-name" href="#" onclick="return doclink('link-1056', 'Members', 'link-1056');">Members</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1648"></a><tt class="py-lineno">1648</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Members/(.*)/Covers'</tt><tt class="py-op">,</tt> <tt id="link-1057" class="py-name" targets="Class wrook.MembersCoversList=wrook.MembersCoversList-class.html"><a title="wrook.MembersCoversList" class="py-name" href="#" onclick="return doclink('link-1057', 'MembersCoversList', 'link-1057');">MembersCoversList</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1649"></a><tt class="py-lineno">1649</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Members/(.*)/Books'</tt><tt class="py-op">,</tt> <tt id="link-1058" class="py-name" targets="Class wrook.MembersBooksList=wrook.MembersBooksList-class.html"><a title="wrook.MembersBooksList" class="py-name" href="#" onclick="return doclink('link-1058', 'MembersBooksList', 'link-1058');">MembersBooksList</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1650"></a><tt class="py-lineno">1650</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Members/(.*)/Readings'</tt><tt class="py-op">,</tt> <tt id="link-1059" class="py-name" targets="Class wrook.MembersReadingsList=wrook.MembersReadingsList-class.html"><a title="wrook.MembersReadingsList" class="py-name" href="#" onclick="return doclink('link-1059', 'MembersReadingsList', 'link-1059');">MembersReadingsList</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1651"></a><tt class="py-lineno">1651</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Members/(.*)/Profile'</tt><tt class="py-op">,</tt> <tt id="link-1060" class="py-name" targets="Class wrook.MembersProfile=wrook.MembersProfile-class.html"><a title="wrook.MembersProfile" class="py-name" href="#" onclick="return doclink('link-1060', 'MembersProfile', 'link-1060');">MembersProfile</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1652"></a><tt class="py-lineno">1652</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Members/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1061" class="py-name" targets="Class wrook.MembersFeed=wrook.MembersFeed-class.html"><a title="wrook.MembersFeed" class="py-name" href="#" onclick="return doclink('link-1061', 'MembersFeed', 'link-1061');">MembersFeed</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1653"></a><tt class="py-lineno">1653</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Readers/Book/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1062" class="py-name" targets="Class wrook.BookReaders=wrook.BookReaders-class.html"><a title="wrook.BookReaders" class="py-name" href="#" onclick="return doclink('link-1062', 'BookReaders', 'link-1062');">BookReaders</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1654"></a><tt class="py-lineno">1654</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Covers/'</tt><tt class="py-op">,</tt> <tt id="link-1063" class="py-name" targets="Class wrook.CoverList=wrook.CoverList-class.html"><a title="wrook.CoverList" class="py-name" href="#" onclick="return doclink('link-1063', 'CoverList', 'link-1063');">CoverList</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1655"></a><tt class="py-lineno">1655</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Covers/Thumbnail/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1064" class="py-name" targets="Class wrook.CoverThumbnail=wrook.CoverThumbnail-class.html"><a title="wrook.CoverThumbnail" class="py-name" href="#" onclick="return doclink('link-1064', 'CoverThumbnail', 'link-1064');">CoverThumbnail</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1656"></a><tt class="py-lineno">1656</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Covers/Image/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1065" class="py-name" targets="Class wrook.CoverImage=wrook.CoverImage-class.html"><a title="wrook.CoverImage" class="py-name" href="#" onclick="return doclink('link-1065', 'CoverImage', 'link-1065');">CoverImage</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1657"></a><tt class="py-lineno">1657</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Covers/Edit/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1066" class="py-name" targets="Class wrook.CoverEdit=wrook.CoverEdit-class.html"><a title="wrook.CoverEdit" class="py-name" href="#" onclick="return doclink('link-1066', 'CoverEdit', 'link-1066');">CoverEdit</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1658"></a><tt class="py-lineno">1658</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Covers/Share/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1067" class="py-name" targets="Class wrook.CoverShare=wrook.CoverShare-class.html"><a title="wrook.CoverShare" class="py-name" href="#" onclick="return doclink('link-1067', 'CoverShare', 'link-1067');">CoverShare</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1659"></a><tt class="py-lineno">1659</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Covers/Unshare/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1068" class="py-name" targets="Class wrook.CoverUnshare=wrook.CoverUnshare-class.html"><a title="wrook.CoverUnshare" class="py-name" href="#" onclick="return doclink('link-1068', 'CoverUnshare', 'link-1068');">CoverUnshare</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1660"></a><tt class="py-lineno">1660</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Covers/SetDefault'</tt><tt class="py-op">,</tt> <tt id="link-1069" class="py-name" targets="Class wrook.CoverSetDefault=wrook.CoverSetDefault-class.html"><a title="wrook.CoverSetDefault" class="py-name" href="#" onclick="return doclink('link-1069', 'CoverSetDefault', 'link-1069');">CoverSetDefault</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1661"></a><tt class="py-lineno">1661</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Covers/Select'</tt><tt class="py-op">,</tt> <tt id="link-1070" class="py-name" targets="Class wrook.CoverSelect=wrook.CoverSelect-class.html"><a title="wrook.CoverSelect" class="py-name" href="#" onclick="return doclink('link-1070', 'CoverSelect', 'link-1070');">CoverSelect</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1662"></a><tt class="py-lineno">1662</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Covers/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1071" class="py-name" targets="Class wrook.CoverView=wrook.CoverView-class.html"><a title="wrook.CoverView" class="py-name" href="#" onclick="return doclink('link-1071', 'CoverView', 'link-1071');">CoverView</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1663"></a><tt class="py-lineno">1663</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/SetDefaultTheme'</tt><tt class="py-op">,</tt> <tt id="link-1072" class="py-name" targets="Class wrook.SetDefaultTheme=wrook.SetDefaultTheme-class.html"><a title="wrook.SetDefaultTheme" class="py-name" href="#" onclick="return doclink('link-1072', 'SetDefaultTheme', 'link-1072');">SetDefaultTheme</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1664"></a><tt class="py-lineno">1664</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Admin/Commands'</tt><tt class="py-op">,</tt> <tt id="link-1073" class="py-name" targets="Class wrook.AdminCommands=wrook.AdminCommands-class.html"><a title="wrook.AdminCommands" class="py-name" href="#" onclick="return doclink('link-1073', 'AdminCommands', 'link-1073');">AdminCommands</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-comment"># Refactor: move to an admin module?</tt> </tt>
<a name="L1665"></a><tt class="py-lineno">1665</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Login'</tt><tt class="py-op">,</tt> <tt id="link-1074" class="py-name" targets="Class wrook.Login=wrook.Login-class.html"><a title="wrook.Login" class="py-name" href="#" onclick="return doclink('link-1074', 'Login', 'link-1074');">Login</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-comment"># Refactor: move to the membership module?</tt> </tt>
<a name="L1666"></a><tt class="py-lineno">1666</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Logout'</tt><tt class="py-op">,</tt> <tt id="link-1075" class="py-name" targets="Class wrook.Logout=wrook.Logout-class.html"><a title="wrook.Logout" class="py-name" href="#" onclick="return doclink('link-1075', 'Logout', 'link-1075');">Logout</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-comment"># Refactor: move to the membership module?</tt> </tt>
<a name="L1667"></a><tt class="py-lineno">1667</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Customize'</tt><tt class="py-op">,</tt> <tt id="link-1076" class="py-name" targets="Class wrook.Customize=wrook.Customize-class.html"><a title="wrook.Customize" class="py-name" href="#" onclick="return doclink('link-1076', 'Customize', 'link-1076');">Customize</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1668"></a><tt class="py-lineno">1668</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/PasswordSent/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1077" class="py-name" targets="Class wrook.PasswordSent=wrook.PasswordSent-class.html"><a title="wrook.PasswordSent" class="py-name" href="#" onclick="return doclink('link-1077', 'PasswordSent', 'link-1077');">PasswordSent</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1669"></a><tt class="py-lineno">1669</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/ResetPassword/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1078" class="py-name" targets="Class wrook.ResetPassword=wrook.ResetPassword-class.html"><a title="wrook.ResetPassword" class="py-name" href="#" onclick="return doclink('link-1078', 'ResetPassword', 'link-1078');">ResetPassword</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1670"></a><tt class="py-lineno">1670</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/SendPassword/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1079" class="py-name" targets="Class wrook.SendPassword=wrook.SendPassword-class.html"><a title="wrook.SendPassword" class="py-name" href="#" onclick="return doclink('link-1079', 'SendPassword', 'link-1079');">SendPassword</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1671"></a><tt class="py-lineno">1671</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/About/OpenSourceAttribution'</tt><tt class="py-op">,</tt> <tt id="link-1080" class="py-name" targets="Class wrook.About_OpenSoureAttribution=wrook.About_OpenSoureAttribution-class.html"><a title="wrook.About_OpenSoureAttribution" class="py-name" href="#" onclick="return doclink('link-1080', 'About_OpenSoureAttribution', 'link-1080');">About_OpenSoureAttribution</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1672"></a><tt class="py-lineno">1672</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/About/OpenSourceLicense'</tt><tt class="py-op">,</tt> <tt id="link-1081" class="py-name" targets="Class wrook.About_OpenSoureLicense=wrook.About_OpenSoureLicense-class.html"><a title="wrook.About_OpenSoureLicense" class="py-name" href="#" onclick="return doclink('link-1081', 'About_OpenSoureLicense', 'link-1081');">About_OpenSoureLicense</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1673"></a><tt class="py-lineno">1673</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/About/CPAL'</tt><tt class="py-op">,</tt> <tt id="link-1082" class="py-name" targets="Class wrook.About_CPAL=wrook.About_CPAL-class.html"><a title="wrook.About_CPAL" class="py-name" href="#" onclick="return doclink('link-1082', 'About_CPAL', 'link-1082');">About_CPAL</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1674"></a><tt class="py-lineno">1674</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/About/Who'</tt><tt class="py-op">,</tt> <tt id="link-1083" class="py-name" targets="Class wrook.About_who=wrook.About_who-class.html"><a title="wrook.About_who" class="py-name" href="#" onclick="return doclink('link-1083', 'About_who', 'link-1083');">About_who</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1675"></a><tt class="py-lineno">1675</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Suggestions'</tt><tt class="py-op">,</tt> <tt id="link-1084" class="py-name" targets="Class wrook.Suggestions=wrook.Suggestions-class.html"><a title="wrook.Suggestions" class="py-name" href="#" onclick="return doclink('link-1084', 'Suggestions', 'link-1084');">Suggestions</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> </tt>
<a name="L1676"></a><tt class="py-lineno">1676</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-string">r'/Admin/Commands/(.*)'</tt><tt class="py-op">,</tt> <tt id="link-1085" class="py-name"><a title="wrook.AdminCommands" class="py-name" href="#" onclick="return doclink('link-1085', 'AdminCommands', 'link-1073');">AdminCommands</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-comment"># Refactor: move to an admin module?</tt> </tt>
<a name="L1677"></a><tt class="py-lineno">1677</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/FlushCache'</tt><tt class="py-op">,</tt> <tt id="link-1086" class="py-name" targets="Class wrook.FlushCache=wrook.FlushCache-class.html"><a title="wrook.FlushCache" class="py-name" href="#" onclick="return doclink('link-1086', 'FlushCache', 'link-1086');">FlushCache</a></tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-comment"># Refactor: move to an admin module?</tt> </tt>
<a name="L1678"></a><tt class="py-lineno">1678</tt>  <tt class="py-line">        <tt class="py-op">(</tt> <tt class="py-string">'/Test'</tt><tt class="py-op">,</tt> <tt id="link-1087" class="py-name" targets="Class wrook.Test=wrook.Test-class.html"><a title="wrook.Test" class="py-name" href="#" onclick="return doclink('link-1087', 'Test', 'link-1087');">Test</a></tt><tt class="py-op">)</tt> <tt class="py-comment"># Refactor: move to an admin module?</tt> </tt>
<a name="L1679"></a><tt class="py-lineno">1679</tt>  <tt class="py-line"><tt class="py-op">]</tt> </tt>
<a name="L1680"></a><tt class="py-lineno">1680</tt>  <tt class="py-line"> </tt>
<a name="L1681"></a><tt class="py-lineno">1681</tt>  <tt class="py-line"><tt class="py-comment"># Integrate the Labs module</tt> </tt>
<a name="L1682"></a><tt class="py-lineno">1682</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt id="link-1088" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1088', 'URLMappings', 'link-1031');">URLMappings</a></tt> <tt class="py-op">+=</tt> <tt id="link-1089" class="py-name"><a title="feathers.stories" class="py-name" href="#" onclick="return doclink('link-1089', 'stories', 'link-4');">stories</a></tt><tt class="py-op">.</tt><tt id="link-1090" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1090', 'URLMappings', 'link-1031');">URLMappings</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1683"></a><tt class="py-lineno">1683</tt>  <tt class="py-line"><tt id="link-1091" class="py-name"><a title="feathers.stories" class="py-name" href="#" onclick="return doclink('link-1091', 'stories', 'link-4');">stories</a></tt><tt class="py-op">.</tt><tt id="link-1092" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-1092', 'onRequest', 'link-195');">onRequest</a></tt> <tt class="py-op">=</tt> <tt id="link-1093" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-1093', 'onRequest', 'link-195');">onRequest</a></tt> </tt>
<a name="L1684"></a><tt class="py-lineno">1684</tt>  <tt class="py-line"> </tt>
<a name="L1685"></a><tt class="py-lineno">1685</tt>  <tt class="py-line"><tt class="py-comment"># Integrate the Labs module</tt> </tt>
<a name="L1686"></a><tt class="py-lineno">1686</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt id="link-1094" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1094', 'URLMappings', 'link-1031');">URLMappings</a></tt> <tt class="py-op">+=</tt> <tt id="link-1095" class="py-name"><a title="feathers.labs" class="py-name" href="#" onclick="return doclink('link-1095', 'labs', 'link-8');">labs</a></tt><tt class="py-op">.</tt><tt id="link-1096" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1096', 'URLMappings', 'link-1031');">URLMappings</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1687"></a><tt class="py-lineno">1687</tt>  <tt class="py-line"><tt id="link-1097" class="py-name"><a title="feathers.labs" class="py-name" href="#" onclick="return doclink('link-1097', 'labs', 'link-8');">labs</a></tt><tt class="py-op">.</tt><tt id="link-1098" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-1098', 'onRequest', 'link-195');">onRequest</a></tt> <tt class="py-op">=</tt> <tt id="link-1099" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-1099', 'onRequest', 'link-195');">onRequest</a></tt> </tt>
<a name="L1688"></a><tt class="py-lineno">1688</tt>  <tt class="py-line"> </tt>
<a name="L1689"></a><tt class="py-lineno">1689</tt>  <tt class="py-line"><tt class="py-comment"># Integrates the Customize module</tt> </tt>
<a name="L1690"></a><tt class="py-lineno">1690</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt id="link-1100" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1100', 'URLMappings', 'link-1031');">URLMappings</a></tt> <tt class="py-op">+=</tt> <tt id="link-1101" class="py-name"><a title="feathers.customize" class="py-name" href="#" onclick="return doclink('link-1101', 'customize', 'link-6');">customize</a></tt><tt class="py-op">.</tt><tt id="link-1102" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1102', 'URLMappings', 'link-1031');">URLMappings</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1691"></a><tt class="py-lineno">1691</tt>  <tt class="py-line"><tt id="link-1103" class="py-name"><a title="feathers.customize" class="py-name" href="#" onclick="return doclink('link-1103', 'customize', 'link-6');">customize</a></tt><tt class="py-op">.</tt><tt id="link-1104" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-1104', 'onRequest', 'link-195');">onRequest</a></tt> <tt class="py-op">=</tt> <tt id="link-1105" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-1105', 'onRequest', 'link-195');">onRequest</a></tt> </tt>
<a name="L1692"></a><tt class="py-lineno">1692</tt>  <tt class="py-line"> </tt>
<a name="L1693"></a><tt class="py-lineno">1693</tt>  <tt class="py-line"><tt class="py-comment"># Integrates the Membership module</tt> </tt>
<a name="L1694"></a><tt class="py-lineno">1694</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt id="link-1106" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1106', 'URLMappings', 'link-1031');">URLMappings</a></tt> <tt class="py-op">+=</tt> <tt id="link-1107" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-1107', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-1108" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1108', 'URLMappings', 'link-1031');">URLMappings</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1695"></a><tt class="py-lineno">1695</tt>  <tt class="py-line"><tt id="link-1109" class="py-name"><a title="feathers.membership" class="py-name" href="#" onclick="return doclink('link-1109', 'membership', 'link-7');">membership</a></tt><tt class="py-op">.</tt><tt id="link-1110" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-1110', 'onRequest', 'link-195');">onRequest</a></tt> <tt class="py-op">=</tt> <tt id="link-1111" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-1111', 'onRequest', 'link-195');">onRequest</a></tt> </tt>
<a name="L1696"></a><tt class="py-lineno">1696</tt>  <tt class="py-line"> </tt>
<a name="L1697"></a><tt class="py-lineno">1697</tt>  <tt class="py-line"><tt class="py-comment"># Integrates the Membership module</tt> </tt>
<a name="L1698"></a><tt class="py-lineno">1698</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt id="link-1112" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1112', 'URLMappings', 'link-1031');">URLMappings</a></tt> <tt class="py-op">+=</tt> <tt id="link-1113" class="py-name"><a title="feathers.proforma" class="py-name" href="#" onclick="return doclink('link-1113', 'proforma', 'link-9');">proforma</a></tt><tt class="py-op">.</tt><tt id="link-1114" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1114', 'URLMappings', 'link-1031');">URLMappings</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1699"></a><tt class="py-lineno">1699</tt>  <tt class="py-line"><tt id="link-1115" class="py-name"><a title="feathers.proforma" class="py-name" href="#" onclick="return doclink('link-1115', 'proforma', 'link-9');">proforma</a></tt><tt class="py-op">.</tt><tt id="link-1116" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-1116', 'onRequest', 'link-195');">onRequest</a></tt> <tt class="py-op">=</tt> <tt id="link-1117" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-1117', 'onRequest', 'link-195');">onRequest</a></tt> </tt>
<a name="L1700"></a><tt class="py-lineno">1700</tt>  <tt class="py-line"> </tt>
<a name="L1701"></a><tt class="py-lineno">1701</tt>  <tt class="py-line"><tt class="py-comment"># Integrate the Talk module</tt> </tt>
<a name="L1702"></a><tt class="py-lineno">1702</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt id="link-1118" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1118', 'URLMappings', 'link-1031');">URLMappings</a></tt> <tt class="py-op">+=</tt> <tt id="link-1119" class="py-name"><a title="feathers.talk" class="py-name" href="#" onclick="return doclink('link-1119', 'talk', 'link-10');">talk</a></tt><tt class="py-op">.</tt><tt id="link-1120" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1120', 'URLMappings', 'link-1031');">URLMappings</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1703"></a><tt class="py-lineno">1703</tt>  <tt class="py-line"><tt id="link-1121" class="py-name"><a title="feathers.talk" class="py-name" href="#" onclick="return doclink('link-1121', 'talk', 'link-10');">talk</a></tt><tt class="py-op">.</tt><tt id="link-1122" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-1122', 'onRequest', 'link-195');">onRequest</a></tt> <tt class="py-op">=</tt> <tt id="link-1123" class="py-name"><a title="wrook.onRequest" class="py-name" href="#" onclick="return doclink('link-1123', 'onRequest', 'link-195');">onRequest</a></tt> </tt>
<a name="L1704"></a><tt class="py-lineno">1704</tt>  <tt class="py-line"> </tt>
<a name="L1705"></a><tt class="py-lineno">1705</tt>  <tt class="py-line"><tt id="link-1124" class="py-name" targets="Variable wrook.application=wrook-module.html#application"><a title="wrook.application" class="py-name" href="#" onclick="return doclink('link-1124', 'application', 'link-1124');">application</a></tt> <tt class="py-op">=</tt> <tt id="link-1125" class="py-name" targets="Class wrook.WrookApplication=wrook.WrookApplication-class.html"><a title="wrook.WrookApplication" class="py-name" href="#" onclick="return doclink('link-1125', 'WrookApplication', 'link-1125');">WrookApplication</a></tt><tt class="py-op">(</tt><tt id="link-1126" class="py-name"><a title="feathers.customize.URLMappings
feathers.labs.URLMappings
feathers.membership.URLMappings
feathers.proforma.URLMappings
feathers.stories.URLMappings
feathers.talk.URLMappings
wrook.URLMappings" class="py-name" href="#" onclick="return doclink('link-1126', 'URLMappings', 'link-1031');">URLMappings</a></tt><tt class="py-op">,</tt> <tt class="py-name">debug</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt> <tt class="py-comment"># Instantiate the main application</tt> </tt>
<a name="L1706"></a><tt class="py-lineno">1706</tt>  <tt class="py-line"> </tt>
<a name="L1707"></a><tt class="py-lineno">1707</tt>  <tt class="py-line"><tt class="py-comment"># Application constants</tt> </tt>
<a name="L1708"></a><tt class="py-lineno">1708</tt>  <tt class="py-line"><tt class="py-comment"></tt><tt id="link-1127" class="py-name"><a title="wrook.picnikKey" class="py-name" href="#" onclick="return doclink('link-1127', 'picnikKey', 'link-297');">picnikKey</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"eb44efec693047ac4f4b2a429bc0be5a"</tt> <tt class="py-comment"># Developper Key for the Picnik API</tt> </tt>
<a name="L1709"></a><tt class="py-lineno">1709</tt>  <tt class="py-line"> </tt>
<a name="WrookAppConfig"></a><div id="WrookAppConfig-def"><a name="L1710"></a><tt class="py-lineno">1710</tt> <a class="py-toggle" href="#" id="WrookAppConfig-toggle" onclick="return toggle('WrookAppConfig');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="wrook.WrookAppConfig-class.html">WrookAppConfig</a><tt class="py-op">(</tt><tt class="py-base-class">db</tt><tt class="py-op">.</tt><tt class="py-base-class">Expando</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="WrookAppConfig-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="WrookAppConfig-expanded"><a name="L1711"></a><tt class="py-lineno">1711</tt>  <tt class="py-line">        <tt id="link-1128" class="py-name"><a title="wrook.WrookAppConfig.DefaultCover" class="py-name" href="#" onclick="return doclink('link-1128', 'DefaultCover', 'link-81');">DefaultCover</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">ReferenceProperty</tt><tt class="py-op">(</tt><tt id="link-1129" class="py-name"><a title="wrook.Book.Cover
wrook.Cover" class="py-name" href="#" onclick="return doclink('link-1129', 'Cover', 'link-53');">Cover</a></tt><tt class="py-op">,</tt> <tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Default cover"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1712"></a><tt class="py-lineno">1712</tt>  <tt class="py-line">        <tt id="link-1130" class="py-name"><a title="wrook.WrookAppConfig.EncryptionKey" class="py-name" href="#" onclick="return doclink('link-1130', 'EncryptionKey', 'link-385');">EncryptionKey</a></tt> <tt class="py-op">=</tt> <tt class="py-name">db</tt><tt class="py-op">.</tt><tt class="py-name">StringProperty</tt><tt class="py-op">(</tt><tt class="py-name">verbose_name</tt><tt class="py-op">=</tt><tt class="py-name">_</tt><tt class="py-op">(</tt><tt class="py-string">"Encryption key"</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> <tt class="py-comment"># Used when a scecret key is needed for encrypting passwords and other data</tt> </tt>
</div><a name="L1713"></a><tt class="py-lineno">1713</tt>  <tt class="py-line"> </tt>
<a name="getWrookAppConfig"></a><div id="getWrookAppConfig-def"><a name="L1714"></a><tt class="py-lineno">1714</tt> <a class="py-toggle" href="#" id="getWrookAppConfig-toggle" onclick="return toggle('getWrookAppConfig');">-</a><tt class="py-line"><tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook-module.html#getWrookAppConfig">getWrookAppConfig</a><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="getWrookAppConfig-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="getWrookAppConfig-expanded"><a name="L1715"></a><tt class="py-lineno">1715</tt>  <tt class="py-line">        <tt class="py-name">wrookAppConfig</tt> <tt class="py-op">=</tt> <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt id="link-1131" class="py-name"><a title="feathers.customize.ThemeBackgroundImage.get
feathers.customize.ThemeEdit.get
feathers.customize.ThemeEditWithImageUpload.get
feathers.customize.ThemeMemberSelect.get
feathers.customize.ThemeSelect.get
feathers.customize.ThemeStylesheet.get
feathers.customize.ThemeView.get
feathers.customize.ViewThemes.get
feathers.labs.CastVote.get
feathers.labs.DeleteFeature.get
feathers.labs.Labs.get
feathers.labs.MarkFeatureAsDone.get
feathers.labs.RetractVote.get
feathers.labs.ViewFeature.get
feathers.membership.InviteEdit.get
feathers.membership.Invites.get
feathers.membership.ProfilePhotoImage.get
feathers.proforma.Confirm.get
feathers.proforma.Failed.get
feathers.proforma.Success.get
feathers.proforma.Warning.get
feathers.stories.StoryPostDeleteJSON.get
feathers.talk.ReplyMiniFormJSON.get
wrook.About_CPAL.get
wrook.About_OpenSoureAttribution.get
wrook.About_OpenSoureLicense.get
wrook.About_who.get
wrook.AccountChangePassword.get
wrook.AccountChangeProfilePhoto.get
wrook.AccountView.get
wrook.AdminCommands.get
wrook.BookReaders.get
wrook.BookSetCover.get
wrook.Book_ReorderChapters.get
wrook.Books.get
wrook.Books_Edit.get
wrook.Books_Edit_License.get
wrook.CoverEdit.get
wrook.CoverImage.get
wrook.CoverList.get
wrook.CoverSelect.get
wrook.CoverSetDefault.get
wrook.CoverShare.get
wrook.CoverThumbnail.get
wrook.CoverUnshare.get
wrook.CoverView.get
wrook.Customize.get
wrook.DeleteBook.get
wrook.DeleteChapter.get
wrook.DeleteMessage.get
wrook.EditAccount.get
wrook.EditChapterOptions.get
wrook.FeedbackBook.get
wrook.FlushCache.get
wrook.Home.get
wrook.Join.get
wrook.Login.get
wrook.Logout.get
wrook.Members.get
wrook.MembersBooksList.get
wrook.MembersCoversList.get
wrook.MembersFeed.get
wrook.MembersProfile.get
wrook.MembersReadingsList.get
wrook.NewChapter.get
wrook.PasswordSent.get
wrook.ResetPassword.get
wrook.Revisions_List.get
wrook.Revisions_View.get
wrook.SendPassword.get
wrook.SetDefaultTheme.get
wrook.Suggestions.get
wrook.Test.get
wrook.Typewriter.get
wrook.ViewBook.get
wrook.ViewChapter.get" class="py-name" href="#" onclick="return doclink('link-1131', 'get', 'link-64');">get</a></tt><tt class="py-op">(</tt><tt class="py-string">"wrookAppConfig"</tt><tt class="py-op">)</tt> </tt>
<a name="L1716"></a><tt class="py-lineno">1716</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">wrookAppConfig</tt><tt class="py-op">:</tt> </tt>
<a name="L1717"></a><tt class="py-lineno">1717</tt>  <tt class="py-line">                <tt class="py-name">cfg</tt> <tt class="py-op">=</tt> <tt id="link-1132" class="py-name"><a title="wrook.WrookAppConfig" class="py-name" href="#" onclick="return doclink('link-1132', 'WrookAppConfig', 'link-202');">WrookAppConfig</a></tt><tt class="py-op">.</tt><tt class="py-name">all</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">fetch</tt><tt class="py-op">(</tt><tt class="py-name">limit</tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
<a name="L1718"></a><tt class="py-lineno">1718</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">cfg</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-number">1</tt><tt class="py-op">:</tt> <tt class="py-name">wrookAppConfig</tt> <tt class="py-op">=</tt> <tt class="py-name">cfg</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt> </tt>
<a name="L1719"></a><tt class="py-lineno">1719</tt>  <tt class="py-line">                <tt class="py-name">memcache</tt><tt class="py-op">.</tt><tt class="py-name">add</tt><tt class="py-op">(</tt><tt class="py-string">"wrookAppConfig"</tt><tt class="py-op">,</tt> <tt class="py-name">wrookAppConfig</tt><tt class="py-op">)</tt> </tt>
<a name="L1720"></a><tt class="py-lineno">1720</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">wrookAppConfig</tt> </tt>
</div><a name="L1721"></a><tt class="py-lineno">1721</tt>  <tt class="py-line"> </tt>
<a name="real_main"></a><div id="real_main-def"><a name="L1722"></a><tt class="py-lineno">1722</tt> <a class="py-toggle" href="#" id="real_main-toggle" onclick="return toggle('real_main');">-</a><tt class="py-line"><tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook-module.html#real_main">real_main</a><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="real_main-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="real_main-expanded"><a name="L1723"></a><tt class="py-lineno">1723</tt>  <tt class="py-line">        <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">path</tt><tt class="py-op">.</tt><tt class="py-name">append</tt><tt class="py-op">(</tt><tt class="py-name">os</tt><tt class="py-op">.</tt><tt class="py-name">path</tt><tt class="py-op">.</tt><tt class="py-name">dirname</tt><tt class="py-op">(</tt><tt class="py-name">__file__</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1724"></a><tt class="py-lineno">1724</tt>  <tt class="py-line">        <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">path</tt><tt class="py-op">.</tt><tt class="py-name">append</tt><tt class="py-op">(</tt><tt class="py-name">os</tt><tt class="py-op">.</tt><tt class="py-name">path</tt><tt class="py-op">.</tt><tt class="py-name">join</tt><tt class="py-op">(</tt><tt class="py-name">os</tt><tt class="py-op">.</tt><tt class="py-name">path</tt><tt class="py-op">.</tt><tt class="py-name">dirname</tt><tt class="py-op">(</tt><tt class="py-name">__file__</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-string">'feathers'</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1725"></a><tt class="py-lineno">1725</tt>  <tt class="py-line">        <tt class="py-name">logging</tt><tt class="py-op">.</tt><tt class="py-name">getLogger</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">.</tt><tt class="py-name">setLevel</tt><tt class="py-op">(</tt><tt class="py-name">logging</tt><tt class="py-op">.</tt><tt class="py-name">DEBUG</tt><tt class="py-op">)</tt> </tt>
<a name="L1726"></a><tt class="py-lineno">1726</tt>  <tt class="py-line">        <tt id="link-1133" class="py-name"><a title="feathers.webapp" class="py-name" href="#" onclick="return doclink('link-1133', 'webapp', 'link-3');">webapp</a></tt><tt class="py-op">.</tt><tt id="link-1134" class="py-name" targets="Function feathers.webapp.run()=feathers.webapp-module.html#run"><a title="feathers.webapp.run" class="py-name" href="#" onclick="return doclink('link-1134', 'run', 'link-1134');">run</a></tt><tt class="py-op">(</tt><tt id="link-1135" class="py-name"><a title="wrook.application" class="py-name" href="#" onclick="return doclink('link-1135', 'application', 'link-1124');">application</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L1727"></a><tt class="py-lineno">1727</tt>  <tt class="py-line"> </tt>
<a name="profile_log_main"></a><div id="profile_log_main-def"><a name="L1728"></a><tt class="py-lineno">1728</tt> <a class="py-toggle" href="#" id="profile_log_main-toggle" onclick="return toggle('profile_log_main');">-</a><tt class="py-line"><tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook-module.html#profile_log_main">profile_log_main</a><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="profile_log_main-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="profile_log_main-expanded"><a name="L1729"></a><tt class="py-lineno">1729</tt>  <tt class="py-line">        <tt class="py-comment"># This is the main function for profiling </tt> </tt>
<a name="L1730"></a><tt class="py-lineno">1730</tt>  <tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-comment"># We've renamed our original main() above to real_main()</tt> </tt>
<a name="L1731"></a><tt class="py-lineno">1731</tt>  <tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-keyword">import</tt> <tt class="py-name">cProfile</tt><tt class="py-op">,</tt> <tt class="py-name">pstats</tt><tt class="py-op">,</tt> <tt class="py-name">StringIO</tt> </tt>
<a name="L1732"></a><tt class="py-lineno">1732</tt>  <tt class="py-line">        <tt class="py-name">prof</tt> <tt class="py-op">=</tt> <tt class="py-name">cProfile</tt><tt class="py-op">.</tt><tt class="py-name">Profile</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1733"></a><tt class="py-lineno">1733</tt>  <tt class="py-line">        <tt class="py-name">prof</tt> <tt class="py-op">=</tt> <tt class="py-name">prof</tt><tt class="py-op">.</tt><tt class="py-name">runctx</tt><tt class="py-op">(</tt><tt class="py-string">"real_main()"</tt><tt class="py-op">,</tt> <tt class="py-name">globals</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">locals</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1734"></a><tt class="py-lineno">1734</tt>  <tt class="py-line">        <tt class="py-name">stream</tt> <tt class="py-op">=</tt> <tt class="py-name">StringIO</tt><tt class="py-op">.</tt><tt class="py-name">StringIO</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1735"></a><tt class="py-lineno">1735</tt>  <tt class="py-line">        <tt class="py-name">stats</tt> <tt class="py-op">=</tt> <tt class="py-name">pstats</tt><tt class="py-op">.</tt><tt class="py-name">Stats</tt><tt class="py-op">(</tt><tt class="py-name">prof</tt><tt class="py-op">,</tt> <tt class="py-name">stream</tt><tt class="py-op">=</tt><tt class="py-name">stream</tt><tt class="py-op">)</tt> </tt>
<a name="L1736"></a><tt class="py-lineno">1736</tt>  <tt class="py-line">        <tt class="py-name">stats</tt><tt class="py-op">.</tt><tt class="py-name">sort_stats</tt><tt class="py-op">(</tt><tt class="py-string">"time"</tt><tt class="py-op">)</tt>  <tt class="py-comment"># Or cumulative</tt> </tt>
<a name="L1737"></a><tt class="py-lineno">1737</tt>  <tt class="py-line">        <tt class="py-name">stats</tt><tt class="py-op">.</tt><tt class="py-name">print_stats</tt><tt class="py-op">(</tt><tt class="py-number">80</tt><tt class="py-op">)</tt>  <tt class="py-comment"># 80 = how many to print</tt> </tt>
<a name="L1738"></a><tt class="py-lineno">1738</tt>  <tt class="py-line">        <tt class="py-comment"># The rest is optional.</tt> </tt>
<a name="L1739"></a><tt class="py-lineno">1739</tt>  <tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-comment"># stats.print_callees()</tt> </tt>
<a name="L1740"></a><tt class="py-lineno">1740</tt>  <tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-comment"># stats.print_callers()</tt> </tt>
<a name="L1741"></a><tt class="py-lineno">1741</tt>  <tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-name">logging</tt><tt class="py-op">.</tt><tt class="py-name">info</tt><tt class="py-op">(</tt><tt class="py-string">"Profile data:\n%s"</tt><tt class="py-op">,</tt> <tt class="py-name">stream</tt><tt class="py-op">.</tt><tt class="py-name">getvalue</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
</div><a name="L1742"></a><tt class="py-lineno">1742</tt>  <tt class="py-line"> </tt>
<a name="profile_html_main"></a><div id="profile_html_main-def"><a name="L1743"></a><tt class="py-lineno">1743</tt> <a class="py-toggle" href="#" id="profile_html_main-toggle" onclick="return toggle('profile_html_main');">-</a><tt class="py-line"><tt class="py-keyword">def</tt> <a class="py-def-name" href="wrook-module.html#profile_html_main">profile_html_main</a><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="profile_html_main-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="profile_html_main-expanded"><a name="L1744"></a><tt class="py-lineno">1744</tt>  <tt class="py-line">        <tt class="py-comment"># This is the main function for profiling </tt> </tt>
<a name="L1745"></a><tt class="py-lineno">1745</tt>  <tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-comment"># We've renamed our original main() above to real_main()</tt> </tt>
<a name="L1746"></a><tt class="py-lineno">1746</tt>  <tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-keyword">import</tt> <tt class="py-name">cProfile</tt><tt class="py-op">,</tt> <tt class="py-name">pstats</tt> </tt>
<a name="L1747"></a><tt class="py-lineno">1747</tt>  <tt class="py-line">        <tt class="py-name">prof</tt> <tt class="py-op">=</tt> <tt class="py-name">cProfile</tt><tt class="py-op">.</tt><tt class="py-name">Profile</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1748"></a><tt class="py-lineno">1748</tt>  <tt class="py-line">        <tt class="py-name">prof</tt> <tt class="py-op">=</tt> <tt class="py-name">prof</tt><tt class="py-op">.</tt><tt class="py-name">runctx</tt><tt class="py-op">(</tt><tt class="py-string">"real_main()"</tt><tt class="py-op">,</tt> <tt class="py-name">globals</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">locals</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L1749"></a><tt class="py-lineno">1749</tt>  <tt class="py-line">        <tt class="py-keyword">print</tt> <tt class="py-string">"&lt;div style='text-align:left;font-size:1.1em; color: #000; background: #fff; padding: 20px;'&gt;&lt;pre&gt;"</tt> </tt>
<a name="L1750"></a><tt class="py-lineno">1750</tt>  <tt class="py-line">        <tt class="py-name">stats</tt> <tt class="py-op">=</tt> <tt class="py-name">pstats</tt><tt class="py-op">.</tt><tt class="py-name">Stats</tt><tt class="py-op">(</tt><tt class="py-name">prof</tt><tt class="py-op">)</tt> </tt>
<a name="L1751"></a><tt class="py-lineno">1751</tt>  <tt class="py-line">        <tt class="py-comment">#stats.sort_stats("time")  # Or cumulative</tt> </tt>
<a name="L1752"></a><tt class="py-lineno">1752</tt>  <tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-name">stats</tt><tt class="py-op">.</tt><tt class="py-name">sort_stats</tt><tt class="py-op">(</tt><tt class="py-string">"cumulative"</tt><tt class="py-op">)</tt>  <tt class="py-comment"># Or cumulative</tt> </tt>
<a name="L1753"></a><tt class="py-lineno">1753</tt>  <tt class="py-line">        <tt class="py-name">stats</tt><tt class="py-op">.</tt><tt class="py-name">print_stats</tt><tt class="py-op">(</tt><tt class="py-number">300</tt><tt class="py-op">)</tt>  <tt class="py-comment"># 80 = how many to print</tt> </tt>
<a name="L1754"></a><tt class="py-lineno">1754</tt>  <tt class="py-line">        <tt class="py-comment"># The rest is optional.</tt> </tt>
<a name="L1755"></a><tt class="py-lineno">1755</tt>  <tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-comment"># stats.print_callees()</tt> </tt>
<a name="L1756"></a><tt class="py-lineno">1756</tt>  <tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-comment"># stats.print_callers()</tt> </tt>
<a name="L1757"></a><tt class="py-lineno">1757</tt>  <tt class="py-line"><tt class="py-comment"></tt>        <tt class="py-keyword">print</tt> <tt class="py-string">"&lt;/pre&gt;&lt;/div&gt;"</tt> </tt>
</div><a name="L1758"></a><tt class="py-lineno">1758</tt>  <tt class="py-line"> </tt>
<a name="L1759"></a><tt class="py-lineno">1759</tt>  <tt class="py-line"><tt class="py-name">main</tt> <tt class="py-op">=</tt> <tt id="link-1136" class="py-name" targets="Function wrook.real_main()=wrook-module.html#real_main"><a title="wrook.real_main" class="py-name" href="#" onclick="return doclink('link-1136', 'real_main', 'link-1136');">real_main</a></tt> </tt>
<a name="L1760"></a><tt class="py-lineno">1760</tt>  <tt class="py-line"> </tt>
<a name="L1761"></a><tt class="py-lineno">1761</tt>  <tt class="py-line"><tt class="py-keyword">if</tt> <tt class="py-name">__name__</tt> <tt class="py-op">==</tt> <tt class="py-string">'__main__'</tt><tt class="py-op">:</tt> </tt>
<a name="L1762"></a><tt class="py-lineno">1762</tt>  <tt class="py-line">        <tt class="py-name">main</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L1763"></a><tt class="py-lineno">1763</tt>  <tt class="py-line"> </tt><script type="text/javascript">
<!--
expandto(location.href);
// -->
</script>
</pre>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://www.wrook.org/">Wrook API documentation</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Sat Nov 15 15:43:12 2008
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
